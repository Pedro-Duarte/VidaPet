/*! For license information please see main.c76c0817.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},477:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,h=l||f||Function("return this")(),d=Object.prototype.toString,p=Math.max,v=Math.min,m=function(){return h.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return r;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?r:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,c=0,l=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function b(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=a}function k(){var e=m();if(b(e))return w(e);s=setTimeout(k,function(e){var n=t-(e-u);return f?v(n,a-(e-c)):n}(e))}function w(e){return s=void 0,h&&r?d(e):(r=i=void 0,o)}function _(){var e=m(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(k,t),l?d(e):o}(u);if(f)return s=setTimeout(k,t),d(u)}return void 0===s&&(s=setTimeout(k,t)),o}return t=g(t)||0,y(n)&&(l=!!n.leading,a=(f="maxWait"in n)?p(g(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?o:w(m())},_}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==xe||null!==Se)&&(Oe(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Ot=null,Pt=null,At=new Map,Nt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Ut),Nt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Ot&&Vt(Ot,e),null!==Pt&&Vt(Pt,e),At.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(An),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Or=Er("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Dr=Ar[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tr:case Ir:case Cr:u=yn;break;case Or:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Wn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Oi=Si(!1),Pi=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Oi),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Pi=Ci.current,Ti(Ci,e),Ti(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ci),Ti(Ci,e)):Ei(Oi),Ti(Oi,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else $i=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ou)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);ju|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Pi:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var $a=Ya(!0),Xa=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,ju|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function No(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Oa(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Io().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,ju|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Oo,useRef:zo,useState:function(){return Oo(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:zo,useState:function(){return Po(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Co)[0],Io().memoizedState]},useMutableSource:Ao,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Xa(t,null,n,r):$a(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Du,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Du,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Du,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Du,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ni(n)?Pi:Ci.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ai(t,c=Ni(n)?Pi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Oi.current||Pa?("function"===typeof l&&(za(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Ai(t,u=Ni(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Oi.current||Pa?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Rs,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,zs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),rc(r,e,i,-1))}return mc(),zs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=$i,Gi[Qi++]=Xi,Gi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Rs(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Rs(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return _a(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,mu(t,e),Xs=l):mu(t,e),gu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){_u(h);continue}}null!==p?(p.return=d,Zs=p):_u(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Zs=u):xu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,$s=s,Xs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Tu=k.ReactCurrentDispatcher,Iu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Ou=0,Pu=null,Au=null,Nu=0,Ru=0,Du=Si(0),Lu=0,Mu=null,ju=0,Fu=0,Uu=0,zu=null,Vu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,$u=0,Xu=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Ou)?Xe():-1!==Zu?Zu:Zu=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ou)&&0!==Nu?Nu&-Nu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Ou)&&e===Pu||(e===Pu&&(0===(2&Ou)&&(Fu|=n),4===Lu&&uc(e,Nu)),ic(e,r),1===n&&0===Ou&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Ou)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Ou))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ou;Ou|=2;var o=vc();for(Pu===e&&Nu===t||(Wu=null,qu=Xe()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Tu.current=o,Ou=i,null!==Au?t=0:(Pu=null,Nu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Mu,dc(e,0),uc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Vu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Vu,Wu),t);break}_c(e,Vu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Vu,Wu),r);break}_c(e,Vu,Wu);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&sc(t)),e}function sc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function uc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ou))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),uc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Vu,Wu),ic(e,Xe()),null}function lc(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(qu=Xe()+500,Ui&&Bi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Ou)&&xc();var t=Ou;Ou|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Ou=t))&&Bi()}}function hc(){Ru=Du.current,Ei(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Oi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pu=e,Au=e=Dc(e.current,null),Nu=Ru=t,Lu=0,Mu=null,Uu=Fu=ju=0,Vu=zu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function pc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Iu.current=null,null===n||null===n.return){Lu=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===zu?zu=[o]:zu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Tu.current;return Tu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&ju)&&0===(268435455&Fu)||uc(Pu,Nu)}function yc(e,t){var n=Ou;Ou|=2;var r=vc();for(Pu===e&&Nu===t||(Wu=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),Ou=n,Tu.current=r,null!==Au)throw Error(a(261));return Pu=null,Nu=0,Lu}function gc(){for(;null!==Au;)kc(Au)}function bc(){for(;null!==Au&&!Ye();)kc(Au)}function kc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?wc(e):Au=t,Iu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function _c(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Yu);if(0!==(6&Ou))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Au=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Ou;Ou|=4,Iu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),$e(),Ou=u,bt=s,Cu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,$u=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&$u)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function xc(){if(null!==Yu){var e=kt($u),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Ou))throw Error(a(331));var i=Ou;for(Ou|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(_){Ec(u,u.return,_)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Ou=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Lu||3===Lu&&(130023424&Nu)===Nu&&500>Xe()-Bu?dc(e,0):Uu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Oa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Pc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Nc(13,n,t,i)).elementType=O,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case A:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new zc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=xs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Oi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xs(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ou)&&(qu=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Oa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Oa(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Oe=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ie,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var b=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=b;var k=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=k},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(d,e);var t,n,r,s=h(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),s.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},y=[],g=0;g<v;g++){var b=(g+1)*f-1,k=l?b:(0,o.clamp)(b,0,d-1),w=k-(f-1),_=l?w:(0,o.clamp)(w,0,d-1),x=(0,a.default)({"slick-active":l?p>=_&&p<=k:p===_}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);y=y.concat(i.default.createElement("li",{key:g,className:x},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(y),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent);t.Dots=p},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),s=n(26),u=n(931),c=n(800),l=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(_,e);var t,n,h,m=k(_);function _(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),x(w(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),x(w(t),"trackRefHandler",(function(e){return t.track=e})),x(w(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),x(w(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),x(w(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),x(w(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),x(w(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),x(w(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),x(w(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=y(y(y({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=y(y({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),x(w(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=y(y(y({},t.props),t.state),{},{slideCount:d}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+d,m=100/t.props.slidesToShow*v,g=100/v,b=-g*((0,s.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(b+=(100-g*m/100)/2),{slideWidth:g+"%",trackStyle:{width:m+"%",left:b+"%"}}})),x(w(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),x(w(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),x(w(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),u))}))}})),x(w(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),x(w(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),x(w(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),x(w(t),"selectHandler",(function(e){t.changeSlide(e)})),x(w(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),x(w(t),"enableBodyScroll",(function(){window.ontouchmove=null})),x(w(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),x(w(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),x(w(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),x(w(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),x(w(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),x(w(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),x(w(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),x(w(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),x(w(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),x(w(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),x(w(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),x(w(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),x(w(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),x(w(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),x(w(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=y(y({},t.props),t.state),h=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=y(y({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=y(y({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var k=null;!1===t.props.vertical?!0===t.props.centerMode&&(k={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(k={padding:t.props.centerPadding+" 0px"});var w=y(y({},b),k),_=t.props.touchMove,x={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:_?t.swipeStart:null,onMouseMove:t.state.dragging&&_?t.swipeMove:null,onMouseUp:_?t.swipeEnd:null,onMouseLeave:t.state.dragging&&_?t.swipeEnd:null,onTouchStart:_?t.swipeStart:null,onTouchMove:t.state.dragging&&_?t.swipeMove:null,onTouchEnd:_?t.touchEnd:null,onTouchCancel:t.state.dragging&&_?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(x={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},x),r.default.createElement(u.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=_,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),_}(r.default.Component);t.InnerSlider=S},178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(791)),a=n(293),o=c(n(477)),s=c(n(484)),u=n(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,u.canUseDOM)()&&n(153),k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),g(m(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),g(m(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),g(m(t),"slickNext",(function(){return t.innerSlider.slickNext()})),g(m(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),g(m(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),g(m(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},s.default),this.props),t[0].settings):h(h({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],u=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:u}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:m},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=k},931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},g=function(e,t){return e.key||t},b=function(e){var t,n=[],r=[],s=[],u=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(v(v({},e),{},{index:h})),b=d.props.className||"",k=y(v(v({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+g(d,h),"data-index":h,className:(0,a.default)(k,b),tabIndex:"-1","aria-hidden":!k["slick-active"],style:v(v({outline:"none"},d.props.style||{}),m),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=u-h;w<=(0,o.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=c&&(d=f),k=y(v(v({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},d.props.style||{}),m),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),u!==e.slidesToShow&&((t=u+h)<l&&(d=f),k=y(v(v({},e),{},{index:t})),s.push(i.default.cloneElement(d,{key:"postcloned"+g(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(k,b),"aria-hidden":!k["slick-active"],style:v(v({},d.props.style||{}),m),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(o,e);var t,n,r,a=f(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=a.call.apply(a,[this].concat(n))),"node",null),m(h(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=b(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=k},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var y=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=y;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&m(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],y=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(y)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var y,b,k,w=a,_={},T={},I=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),c&&m.indexOf(w)<0&&(m=m.concat(w)),_={animating:!0,currentSlide:w,lazyLoadedList:m,targetSlide:w},T={animating:!1,targetSlide:w}}else y=w,w<0?(y=w+s,i?s%d!==0&&(y=s-s%d):y=0):!g(e)&&w>f?w=y=f:h&&w>=s?(w=i?s:s-1,y=i?0:s-1):w>=s&&(y=w-s,i?s%d!==0&&(y=0):y=s-p),!i&&w+p>=s&&(y=s-p),b=E(o(o({},e),{},{slideIndex:w})),k=E(o(o({},e),{},{slideIndex:y})),i||(b===k&&(w=y),b=k),c&&(m=m.concat(l(o(o({},e),{},{currentSlide:w})))),v?(_={animating:!0,currentSlide:y,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:m,targetSlide:I},T={animating:!1,currentSlide:y,trackStyle:x(o(o({},e),{},{left:k})),swipeLeft:null,targetSlide:I}):_={currentSlide:y,trackStyle:x(o(o({},e),{},{left:k})),lazyLoadedList:m,targetSlide:I};return{state:_,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===t.message)a=l-(i=0===n?s:u-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-s);else if("next"===t.message)a=l+(i=0===n?s:n),h&&!d&&(a=(l+s)%c+n),d||(a=f+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,m=t.slideCount,b=t.slidesToScroll,k=t.infinite,w=t.touchObject,_=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&a&&s&&c(e);var I,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var P=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&P>10)return{scrolling:!0};s&&(w.swipeLength=P);var A=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(A=w.curY>w.startY?1:-1);var N=Math.ceil(m/b),R=y(t.touchObject,s),D=w.swipeLength;return k||(0===l&&("right"===R||"down"===R)||l+1>=N&&("left"===R||"up"===R)||!g(t)&&("left"===R||"up"===R))&&(D=w.swipeLength*f,!1===h&&d&&(d(R),C.edgeDragged=!0)),!p&&_&&(_(R),C.swiped=!0),I=i?O+D*(S/T)*A:u?O-D*A:O+D*A,s&&(I=O+D*A),C=o(o({},C),{},{touchObject:w,swipeLeft:I,trackStyle:x(o(o({},t),{},{left:I}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&c(e),{};var g=u?l/s:a/s,b=y(i,u),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return _;if(!i.swipeLength)return _;if(i.swipeLength>g){var x,T;c(e),d&&d(b);var I=m?v:p;switch(b){case"left":case"up":T=I+w(t),x=f?k(t,T):T,_.currentDirection=0;break;case"right":case"down":T=I-w(t),x=f?k(t,T):T,_.currentDirection=1;break;default:x=I}_.triggerSlideHandler=x}else{var C=E(t);_.trackStyle=S(o(o({},t),{},{left:C}))}return _};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var k=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var _=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=_;var x=function(e){var t,n;_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=x;var S=function(e){_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=x(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-T(e),s%c!==0&&r+c>s&&(m=-(r>s?u-(r-s):s%c)),o&&(m+=parseInt(u/2))):(s%c!==0&&r+c>s&&(m=u-s%c),o&&(m=parseInt(u/2))),t=v?r*d*-1+m*d:r*l*-1+m*l,!0===h){var y,g=i&&i.node;if(y=r+T(e),t=(n=g&&g.childNodes[y])?-1*n.offsetLeft:0,!0===o){y=a?r+T(e):r,n=g&&g.children[y],t=0;for(var b=0;b<y;b++)t-=g&&g.children[b]&&g.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var I=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=I;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-A(e)?"right":"left"};t.siblingDirection=O;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=P;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=A;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||a)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(s.width=(null===e||void 0===e?void 0:e.width)||s.width,s.height=(null===e||void 0===e?void 0:e.height)||s.height,n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var a={video:"undefined"===typeof i||i};n.audio&&(a.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(n.audioConstraints);s&&(t=s);var u=a(n.videoConstraints);u&&(o=u),r(i(t),i(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=o(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),h=s?a(a({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,d={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",a({autoPlay:!0,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:h},f)),l&&l(d))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=O(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(u+o)!==n&&(u-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+a)-t,l=Math.round(u+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return g(i.left,i.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!==typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:x;t.default=S},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,x=function(){N.postMessage(null)}}else x=function(){y(P,0)};function R(e){E=e,S||(S=!0,x())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},637:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var f=o(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=u((function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==l&&h.hasValue){var t=h.value;if(l(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var n=r(e);return void 0!==l&&l(t,n)?t:(a=e,o=n)}var a,o,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,l]);var d=a(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},995:function(e,t,n){"use strict";e.exports=n(637)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".bcd98ece.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="rescue-app-v1:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkrescue_app_v1=self.webpackChunkrescue_app_v1||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return qi},SDK_VERSION:function(){return eo},_DEFAULT_ENTRY_NAME:function(){return Va},_addComponent:function(){return Ha},_addOrOverwriteComponent:function(){return Ka},_apps:function(){return qa},_clearComponents:function(){return $a},_components:function(){return Wa},_getProvider:function(){return Qa},_registerComponent:function(){return Ga},_removeServiceInstance:function(){return Ya},deleteApp:function(){return io},getApp:function(){return no},getApps:function(){return ro},initializeApp:function(){return to},onLog:function(){return so},registerVersion:function(){return oo},setLogLevel:function(){return uo}});var t,r=n(791),i=n.t(r,2),a=n(164);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=w();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function S(e,t,n){return S=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return S(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,e)},E(e)}function T(e){return o(e)||f(e)||u(e)||c()}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var O,P="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function N(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?M(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function M(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:L(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(P,v),h=e,function(){s.removeEventListener(P,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=R(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=R(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(O||(O={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?M(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,q=2,W=1,H=10,K=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=K),t&&(r+=q),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?W:H)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);N("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return N(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return N(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=M(e):(A(!(i=C({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?M(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function ge(){return null!=r.useContext(ve)}function be(){return ge()||A(!1),r.useContext(ve).location}function ke(e){r.useContext(pe).static||r.useLayoutEffect(e)}function we(){return r.useContext(me).isDataRoute?function(){var e=Ae(Oe.UseNavigateStable).router,t=Re(Pe.UseNavigateStable),n=r.useRef(!1);ke((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,le({fromRouteId:t},i)))}),[e,t]);return i}():function(){ge()||A(!1);var e=r.useContext(fe),t=r.useContext(pe),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=be().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);return ke((function(){u.current=!0})),r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ne([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e])}()}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=be().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return te(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(e,n,i){ge()||A(!1);var a,o=r.useContext(pe).navigator,s=r.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,be());if(n){var h,d="string"===typeof n?M(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||A(!1),a=d}else a=f;var p=a.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,i);return n&&m?r.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Se(){var e=function(){var e,t=r.useContext(ye),n=Ne(Pe.UseRouteError),i=Re(Pe.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee=r.createElement(Se,null),Te=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Ie(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(fe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Ce(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||A(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ee);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ie,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Te,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oe||{}),Pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pe||{});function Ae(e){var t=r.useContext(fe);return t||A(!1),t}function Ne(e){var t=r.useContext(he);return t||A(!1),t}function Re(e){var t=function(e){var t=r.useContext(me);return t||A(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||A(!1),n.route.id}i.startTransition;function De(e){A(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ge()&&A(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=M(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,T=r.useMemo((function(){var e=J(y,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:x,key:E},navigationType:c}}),[d,y,b,w,x,E,c]);return null==T?null:r.createElement(pe.Provider,{value:p},r.createElement(ve.Provider,{children:o,value:T}))}function Me(e){var t=e.children,n=e.location;return xe(Ue(t),n)}var je=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(je||{}),Fe=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(h(t),[i]);if(e.type!==r.Fragment){e.type!==De&&A(!1),e.props.index&&e.props.children&&A(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];var qe=i.startTransition;function We(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,s=r.useRef();null==s.current&&(s.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var u=s.current,c=l(r.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=r.useCallback((function(e){d&&qe?qe((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return u.listen(p)}),[u,p]),r.createElement(Le,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:u})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=e.unstable_viewTransition,d=Ve(e,Be),p=r.useContext(pe).basename,v=!1;if("string"===typeof l&&Ke.test(l)&&(n=l,He))try{var m=new URL(window.location.href),y=l.startsWith("//")?new URL(m.protocol+l):new URL(l),g=J(y.pathname,p);y.origin===m.origin&&null!=g?l=g+y.search+y.hash:v=!0}catch(w){}var b=function(e,t){var n=(void 0===t?{}:t).relative;ge()||A(!1);var i=r.useContext(pe),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=n.unstable_viewTransition,l=we(),f=be(),h=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(f)===L(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:u,unstable_viewTransition:c})}}),[f,l,h,a,o,i,e,s,u,c])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a,unstable_viewTransition:h});return r.createElement("a",ze({},d,{href:n||b,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var Qe,Ye;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ye||(Ye={}));function $e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Xe(){Xe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),s=new A(r||[]);return i(o,"_invoke",{value:I(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",m="completed",y={};function g(){}function b(){}function k(){}var w={};c(w,o,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(N([])));x&&x!==n&&r.call(x,o)&&(w=x);var S=k.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=C(s,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return b.prototype=k,i(S,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:b,configurable:!0}),b.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(S),c(S,u,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Je(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Je(a,r,i,o,s,"next",e)}function s(e){Je(a,r,i,o,s,"throw",e)}o(void 0)}))}}var et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},et.apply(this,arguments)};function tt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function nt(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var rt=n(613),it=n.n(rt),at="-ms-",ot="-moz-",st="-webkit-",ut="comm",ct="rule",lt="decl",ft="@import",ht="@keyframes",dt="@layer",pt=Math.abs,vt=String.fromCharCode,mt=Object.assign;function yt(e){return e.trim()}function gt(e,t){return(e=t.exec(e))?e[0]:e}function bt(e,t,n){return e.replace(t,n)}function kt(e,t){return e.indexOf(t)}function wt(e,t){return 0|e.charCodeAt(t)}function _t(e,t,n){return e.slice(t,n)}function xt(e){return e.length}function St(e){return e.length}function Et(e,t){return t.push(e),e}function Tt(e,t){return e.filter((function(e){return!gt(e,t)}))}var It=1,Ct=1,Ot=0,Pt=0,At=0,Nt="";function Rt(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:It,column:Ct,length:o,return:"",siblings:s}}function Dt(e,t){return mt(Rt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Lt(e){for(;e.root;)e=Dt(e.root,{children:[e]});Et(e,e.siblings)}function Mt(){return At=Pt>0?wt(Nt,--Pt):0,Ct--,10===At&&(Ct=1,It--),At}function jt(){return At=Pt<Ot?wt(Nt,Pt++):0,Ct++,10===At&&(Ct=1,It++),At}function Ft(){return wt(Nt,Pt)}function Ut(){return Pt}function zt(e,t){return _t(Nt,e,t)}function Vt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Bt(e){return It=Ct=1,Ot=xt(Nt=e),Pt=0,[]}function qt(e){return Nt="",e}function Wt(e){return yt(zt(Pt-1,Gt(91===e?e+2:40===e?e+1:e)))}function Ht(e){for(;(At=Ft())&&At<33;)jt();return Vt(e)>2||Vt(At)>3?"":" "}function Kt(e,t){for(;--t&&jt()&&!(At<48||At>102||At>57&&At<65||At>70&&At<97););return zt(e,Ut()+(t<6&&32==Ft()&&32==jt()))}function Gt(e){for(;jt();)switch(At){case e:return Pt;case 34:case 39:34!==e&&39!==e&&Gt(At);break;case 40:41===e&&Gt(e);break;case 92:jt()}return Pt}function Qt(e,t){for(;jt()&&e+At!==57&&(e+At!==84||47!==Ft()););return"/*"+zt(t,Pt-1)+"*"+vt(47===e?e:jt())}function Yt(e){for(;!Vt(Ft());)jt();return zt(e,Pt)}function $t(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Xt(e,t,n,r){switch(e.type){case dt:if(e.children.length)break;case ft:case lt:return e.return=e.return||e.value;case ut:return"";case ht:return e.return=e.value+"{"+$t(e.children,r)+"}";case ct:if(!xt(e.value=e.props.join(",")))return""}return xt(n=$t(e.children,r))?e.return=e.value+"{"+n+"}":""}function Jt(e,t,n){switch(function(e,t){return 45^wt(e,0)?(((t<<2^wt(e,0))<<2^wt(e,1))<<2^wt(e,2))<<2^wt(e,3):0}(e,t)){case 5103:return st+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+e+e;case 4789:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return st+e+ot+e+at+e+e;case 5936:switch(wt(e,t+11)){case 114:return st+e+at+bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return st+e+at+bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return st+e+at+bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return st+e+at+e+e;case 6165:return st+e+at+"flex-"+e+e;case 5187:return st+e+bt(e,/(\w+).+(:[^]+)/,st+"box-$1$2"+at+"flex-$1$2")+e;case 5443:return st+e+at+"flex-item-"+bt(e,/flex-|-self/g,"")+(gt(e,/flex-|baseline/)?"":at+"grid-row-"+bt(e,/flex-|-self/g,""))+e;case 4675:return st+e+at+"flex-line-pack"+bt(e,/align-content|flex-|-self/g,"")+e;case 5548:return st+e+at+bt(e,"shrink","negative")+e;case 5292:return st+e+at+bt(e,"basis","preferred-size")+e;case 6060:return st+"box-"+bt(e,"-grow","")+st+e+at+bt(e,"grow","positive")+e;case 4554:return st+bt(e,/([^-])(transform)/g,"$1"+st+"$2")+e;case 6187:return bt(bt(bt(e,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),e,"")+e;case 5495:case 3959:return bt(e,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return bt(bt(e,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+e+e;case 4200:if(!gt(e,/flex-|baseline/))return at+"grid-column-align"+_t(e,t)+e;break;case 2592:case 3360:return at+bt(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,gt(e.props,/grid-\w+-end/)}))?~kt(e+(n=n[t].value),"span")?e:at+bt(e,"-start","")+e+at+"grid-row-span:"+(~kt(n,"span")?gt(n,/\d+/):+gt(n,/\d+/)-+gt(e,/\d+/))+";":at+bt(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return gt(e.props,/grid-\w+-start/)}))?e:at+bt(bt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return bt(e,/(.+)-inline(.+)/,st+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xt(e)-1-t>6)switch(wt(e,t+1)){case 109:if(45!==wt(e,t+4))break;case 102:return bt(e,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+ot+(108==wt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~kt(e,"stretch")?Jt(bt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return bt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,s){return at+n+":"+r+s+(i?at+n+"-span:"+(a?o:+o-+r)+s:"")+e}));case 4949:if(121===wt(e,t+6))return bt(e,":",":"+st)+e;break;case 6444:switch(wt(e,45===wt(e,14)?18:11)){case 120:return bt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+st+(45===wt(e,14)?"inline-":"")+"box$3$1"+st+"$2$3$1"+at+"$2box$3")+e;case 100:return bt(e,":",":"+at)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return bt(e,"scroll-","scroll-snap-")+e}return e}function Zt(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lt:return void(e.return=Jt(e.value,e.length,n));case ht:return $t([Dt(e,{value:bt(e.value,"@","@"+st)})],r);case ct:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(gt(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Lt(Dt(e,{props:[bt(t,/:(read-\w+)/,":"+ot+"$1")]})),Lt(Dt(e,{props:[t]})),mt(e,{props:Tt(n,r)});break;case"::placeholder":Lt(Dt(e,{props:[bt(t,/:(plac\w+)/,":"+st+"input-$1")]})),Lt(Dt(e,{props:[bt(t,/:(plac\w+)/,":"+ot+"$1")]})),Lt(Dt(e,{props:[bt(t,/:(plac\w+)/,at+"input-$1")]})),Lt(Dt(e,{props:[t]})),mt(e,{props:Tt(n,r)})}return""}))}}function en(e){return qt(tn("",null,null,null,[""],e=Bt(e),0,[0],e))}function tn(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,_=r,x=b;m;)switch(p=g,g=jt()){case 40:if(108!=p&&58==wt(x,f-1)){-1!=kt(x+=bt(Wt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Wt(g);break;case 9:case 10:case 13:case 32:x+=Ht(p);break;case 92:x+=Kt(Ut()-1,7);continue;case 47:switch(Ft()){case 42:case 47:Et(rn(Qt(jt(),Ut()),t,n,u),u);break;default:x+="/"}break;case 123*v:s[c++]=xt(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=bt(x,/\f/g,"")),d>0&&xt(x)-f&&Et(d>32?an(x+";",r,n,f-1,u):an(bt(x," ","")+";",r,n,f-2,u),u);break;case 59:x+=";";default:if(Et(_=nn(x,t,n,c,l,i,s,b,k=[],w=[],f,a),a),123===g)if(0===l)tn(x,t,_,_,k,a,f,s,w);else switch(99===h&&110===wt(x,3)?100:h){case 100:case 108:case 109:case 115:tn(e,_,_,r&&Et(nn(e,_,_,0,0,i,s,b,i,k=[],f,w),w),i,w,f,s,r?k:w);break;default:tn(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=y=1,b=x="",f=o;break;case 58:f=1+xt(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Mt())continue;switch(x+=vt(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(xt(x)-1)*y,y=1;break;case 64:45===Ft()&&(x+=Wt(jt())),h=Ft(),l=f=xt(b=x+=Yt(Ut())),g++;break;case 45:45===p&&2==xt(x)&&(v=0)}}return a}function nn(e,t,n,r,i,a,o,s,u,c,l,f){for(var h=i-1,d=0===i?a:[""],p=St(d),v=0,m=0,y=0;v<r;++v)for(var g=0,b=_t(e,h+1,h=pt(m=o[v])),k=e;g<p;++g)(k=yt(m>0?d[g]+" "+b:bt(b,/&\f/g,d[g])))&&(u[y++]=k);return Rt(e,t,n,0===i?ct:s,u,c,l,f)}function rn(e,t,n,r){return Rt(e,t,n,ut,vt(At),_t(e,2,-2),0,r)}function an(e,t,n,r,i){return Rt(e,t,n,lt,_t(e,0,r),_t(e,r+1,-1),r,i)}var on={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sn="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",un="undefined"!=typeof window&&"HTMLElement"in window,cn=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),ln=(new Set,Object.freeze([])),fn=Object.freeze({});function hn(e,t,n){return void 0===n&&(n=fn),e.theme!==n.theme&&e.theme||t||n.theme}var dn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),pn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,vn=/(^-|-$)/g;function mn(e){return e.replace(pn,"-").replace(vn,"")}var yn=/(a)(d)/gi,gn=function(e){return String.fromCharCode(e+(e>25?39:97))};function bn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=gn(t%52)+n;return(gn(t%52)+n).replace(yn,"$1-$2")}var kn,wn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},_n=function(e){return wn(5381,e)};function xn(e){return bn(_n(e)>>>0)}function Sn(e){return"string"==typeof e&&!0}var En="function"==typeof Symbol&&Symbol.for,Tn=En?Symbol.for("react.memo"):60115,In=En?Symbol.for("react.forward_ref"):60112,Cn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},On={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},An=((kn={})[In]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kn[Tn]=Pn,kn);function Nn(e){return("type"in(t=e)&&t.type.$$typeof)===Tn?Pn:"$$typeof"in e?An[e.$$typeof]:Cn;var t}var Rn=Object.defineProperty,Dn=Object.getOwnPropertyNames,Ln=Object.getOwnPropertySymbols,Mn=Object.getOwnPropertyDescriptor,jn=Object.getPrototypeOf,Fn=Object.prototype;function Un(e,t,n){if("string"!=typeof t){if(Fn){var r=jn(t);r&&r!==Fn&&Un(e,r,n)}var i=Dn(t);Ln&&(i=i.concat(Ln(t)));for(var a=Nn(e),o=Nn(t),s=0;s<i.length;++s){var u=i[s];if(!(u in On||n&&n[u]||o&&u in o||a&&u in a)){var c=Mn(t,u);try{Rn(e,u,c)}catch(e){}}}}return e}function zn(e){return"function"==typeof e}function Vn(e){return"object"==typeof e&&"styledComponentId"in e}function Bn(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function qn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Wn(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Hn(e,t,n){if(void 0===n&&(n=!1),!n&&!Wn(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Hn(e[r],t[r]);else if(Wn(t))for(var r in t)e[r]=Hn(e[r],t[r]);return e}function Kn(e,t){Object.defineProperty(e,"toString",{value:t})}function Gn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Qn=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Gn(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),Yn=new Map,$n=new Map,Xn=1,Jn=function(e){if(Yn.has(e))return Yn.get(e);for(;$n.has(Xn);)Xn++;var t=Xn++;return Yn.set(e,t),$n.set(t,e),t},Zn=function(e,t){Yn.set(e,t),$n.set(t,e)},er="style[".concat(sn,"][").concat("data-styled-version",'="').concat("6.1.0",'"]'),tr=new RegExp("^".concat(sn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),nr=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},rr=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(tr);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(Zn(l,c),nr(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function ir(){return n.nc}var ar=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(sn,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(sn,"active"),r.setAttribute("data-styled-version","6.1.0");var o=ir();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},or=function(){function e(e){this.element=ar(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Gn(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),sr=function(){function e(e){this.element=ar(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ur=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cr=un,lr={isServer:!un,useCSSOMInjection:!cn},fr=function(){function e(e,t,n){void 0===e&&(e=fn),void 0===t&&(t={});var r=this;this.options=et(et({},lr),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&un&&cr&&(cr=!1,function(e){for(var t=document.querySelectorAll(er),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(sn)&&(rr(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),Kn(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return $n.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(sn,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return Jn(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(et(et({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ur(n):t?new or(n):new sr(n)}(this.options),new Qn(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Jn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Jn(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Jn(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),hr=/&/g,dr=/^\s*\/\/.*$/gm;function pr(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=pr(e.children,t)),e}))}function vr(e){var t,n,r,i=void 0===e?fn:e,a=i.options,o=void 0===a?fn:a,s=i.plugins,u=void 0===s?ln:s,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push((function(e){e.type===ct&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(hr,n).replace(r,c))})),o.prefix&&l.push(Zt),l.push(Xt);var f=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(dr,""),c=en(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);o.namespace&&(c=pr(c,o.namespace));var f,h=[];return $t(c,function(e){var t=St(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(l.concat((f=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),h};return f.hash=u.length?u.reduce((function(e,t){return t.name||Gn(15),wn(e,t.name)}),5381).toString():"",f}var mr=new fr,yr=vr(),gr=r.createContext({shouldForwardProp:void 0,styleSheet:mr,stylis:yr}),br=(gr.Consumer,r.createContext(void 0));function kr(){return(0,r.useContext)(gr)}function wr(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=kr().styleSheet,o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,r.useMemo)((function(){return vr({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)((function(){it()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var u=(0,r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:s}}),[e.shouldForwardProp,o,s]);return r.createElement(gr.Provider,{value:u},r.createElement(br.Provider,{value:s},e.children))}var _r=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=yr);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Kn(this,(function(){throw Gn(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=yr),this.name+e.hash},e}(),xr=function(e){return e>="A"&&e<="Z"};function Sr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;xr(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Er=function(e){return null==e||!1===e||""===e},Tr=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!Er(o)&&(Array.isArray(o)&&o.isCss||zn(o)?i.push("".concat(Sr(a),":"),o,";"):Wn(o)?i.push.apply(i,nt(nt(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(Sr(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in on||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Ir(e,t,n,r){return Er(e)?[]:Vn(e)?[".".concat(e.styledComponentId)]:zn(e)?!zn(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Ir(e(t),t,n,r):e instanceof _r?n?(e.inject(n,r),[e.getName(r)]):[e]:Wn(e)?Tr(e):Array.isArray(e)?Array.prototype.concat.apply(ln,e.map((function(e){return Ir(e,t,n,r)}))):[e.toString()];var i}function Cr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(zn(n)&&!Vn(n))return!1}return!0}var Or=_n("6.1.0"),Pr=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Cr(e),this.componentId=t,this.baseHash=wn(Or,t),this.baseStyle=n,fr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Bn(r,this.staticRulesId);else{var i=qn(Ir(this.rules,e,t,n)),a=bn(wn(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=Bn(r,a),this.staticRulesId=a}else{for(var s=wn(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var f=qn(Ir(l,e,t,n));s=wn(s,f+c),u+=f}}if(u){var h=bn(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(u,".".concat(h),void 0,this.componentId)),r=Bn(r,h)}}return r},e}(),Ar=r.createContext(void 0);Ar.Consumer;var Nr={};new Set;function Rr(e,t,n){var i=Vn(e),a=e,o=!Sn(e),s=t.attrs,u=void 0===s?ln:s,c=t.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":mn(e);Nr[n]=(Nr[n]||0)+1;var r="".concat(n,"-").concat(xn("6.1.0"+n+Nr[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,f=t.displayName,h=(void 0===f&&function(e){Sn(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),t.displayName&&t.componentId?"".concat(mn(t.displayName),"-").concat(t.componentId):t.componentId||l),d=i&&a.attrs?a.attrs.concat(u).filter(Boolean):u,p=t.shouldForwardProp;if(i&&a.shouldForwardProp){var v=a.shouldForwardProp;if(t.shouldForwardProp){var m=t.shouldForwardProp;p=function(e,t){return v(e,t)&&m(e,t)}}else p=v}var y=new Pr(n,h,i?a.componentStyle:void 0);var g=r.forwardRef((function(e,t){return function(e,t,n){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,u=e.styledComponentId,c=e.target,l=r.useContext(Ar),f=kr(),h=e.shouldForwardProp||f.shouldForwardProp,d=function(e,t,n){for(var r,i=et(et({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=zn(r=e[a])?r(i):r;for(var s in o)i[s]="className"===s?Bn(i[s],o[s]):"style"===s?et(et({},i[s]),o[s]):o[s]}return t.className&&(i.className=Bn(i.className,t.className)),i}(i,t,hn(t,l,o)||fn),p=d.as||c,v={};for(var m in d)void 0===d[m]||"$"===m[0]||"as"===m||"theme"===m||("forwardedAs"===m?v.as=d.forwardedAs:h&&!h(m,p)||(v[m]=d[m]));var y=function(e,t){var n=kr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,d),g=Bn(s,u);return y&&(g+=" "+y),d.className&&(g+=" "+d.className),v[Sn(p)&&!dn.has(p)?"class":"className"]=g,v.ref=n,(0,r.createElement)(p,v)}(g,e,t)}));return g.attrs=d,g.componentStyle=y,g.shouldForwardProp=p,g.foldedComponentIds=i?Bn(a.foldedComponentIds,a.styledComponentId):"",g.styledComponentId=h,g.target=i?a.target:e,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)Hn(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Kn(g,(function(){return".".concat(g.styledComponentId)})),o&&Un(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function Dr(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Lr=function(e){return Object.assign(e,{isCss:!0})};function Mr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(zn(e)||Wn(e))return Lr(Ir(Dr(ln,nt([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Ir(r):Lr(Ir(Dr(r,t)))}function jr(e,t,n){if(void 0===n&&(n=fn),!t)throw Gn(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,Mr.apply(void 0,nt([r],i,!1)))};return r.attrs=function(r){return jr(e,t,et(et({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return jr(e,t,et(et({},n),r))},r}var Fr=function(e){return jr(Rr,e)},Ur=Fr;dn.forEach((function(e){Ur[e]=Fr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Cr(e),fr.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(qn(Ir(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&fr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=ir(),r=qn([n&&'nonce="'.concat(n,'"'),"".concat(sn,'="true"'),"".concat("data-styled-version",'="').concat("6.1.0",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Gn(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Gn(2);var n=((t={})[sn]="",t["data-styled-version"]="6.1.0",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=ir();return i&&(n.nonce=i),[r.createElement("style",et({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fr({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Gn(2);return r.createElement(wr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Gn(3)}})(),"__sc-".concat(sn,"__");var zr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vr=r.createContext&&r.createContext(zr),Br=function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Br.apply(this,arguments)},qr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Wr(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Br({key:t},e.attr),Wr(e.child))}))}function Hr(e){return function(t){return r.createElement(Kr,Br({attr:Br({},e.attr)},t),Wr(e.child))}}function Kr(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=qr(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Br({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Br(Br({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Vr?r.createElement(Vr.Consumer,null,(function(e){return t(e)})):t(zr)}function Gr(e){return Hr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"}}]})(e)}function Qr(e){return Hr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"}}]})(e)}var Yr=n.p+"static/media/logo-vidaPet.b2b3fee510bbece0c32d.png";function $r(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xr,Jr=n(995),Zr=r,ei=Symbol.for("react-redux-context"),ti="undefined"!==typeof globalThis?globalThis:{};function ni(){var e;if(!Zr.createContext)return{};var t=null!==(e=ti[ei])&&void 0!==e?e:ti[ei]=new Map,n=t.get(Zr.createContext);return n||(n=Zr.createContext(null),t.set(Zr.createContext,n)),n}var ri=ni(),ii=function(){throw new Error("uSES not initialized!")};function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri;return function(){return Zr.useContext(e)}}var oi=ai(),si=ii,ui=function(e,t){return e===t};function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=e===ri?oi:ai(e);return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"===typeof n?{equalityFn:n}:n,i=r.equalityFn,a=void 0===i?ui:i,o=r.devModeChecks,s=void 0===o?{}:o;var u=t(),c=u.store,l=u.subscription,f=u.getServerState,h=u.stabilityCheck,d=(u.identityFunctionCheck,Zr.useRef(!0),Zr.useCallback($r({},e.name,(function(t){return e(t)}))[e.name],[e,h,s.stabilityCheck])),p=si(l.addNestedSub,c.getState,f||c.getState,d,a);return Zr.useDebugValue(p),p}}var li=ci(),fi=(Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref")),hi=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo")),di=(Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),fi),pi=hi;function vi(e){e()}var mi={notify:function(){},get:function(){return[]}};function yi(e,t){var n,r=mi,i=0,a=!1;function o(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){vi((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(n){var r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=mi)}var c={addNestedSub:function(e){s();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:function(){return r}};return c}var gi=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Zr.useLayoutEffect:Zr.useEffect;var bi={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};$r(Xr={},di,{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0}),$r(Xr,pi,bi);Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ki=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=e.stabilityCheck,o=void 0===a?"once":a,s=e.identityFunctionCheck,u=void 0===s?"once":s,c=Zr.useMemo((function(){var e=yi(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0,stabilityCheck:o,identityFunctionCheck:u}}),[t,i,o,u]),l=Zr.useMemo((function(){return t.getState()}),[t]);gi((function(){var e=c.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,l]);var f=n||ri;return Zr.createElement(f.Provider,{value:c},r)};function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=e===ri?oi:ai(e);return function(){return t().store}}var _i=wi();function xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ri,t=e===ri?_i:wi(e);return function(){return t().dispatch}}var Si,Ei=xi();Si=Jr.useSyncExternalStoreWithSelector,si=Si,function(e){e}(r.useSyncExternalStore);var Ti=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ii={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ti(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ci;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ci=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(E(Error)),Oi=function(e){return function(e){var t=Ti(e);return Ii.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pi=function(e){try{return Ii.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ai(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ai(e[n],t[n]));return e}var Ni=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ri=function(){try{return Ni()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Pi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Di=function(){var e;return null===(e=Ri())||void 0===e?void 0:e.config},Li=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Mi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oi(JSON.stringify({alg:"none",type:"JWT"})),Oi(JSON.stringify(a)),""].join(".")}function ji(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Fi(){var e,t=null===(e=Ri())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ui(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function zi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Vi(){var e=ji();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Bi(){try{return"object"===typeof indexedDB}catch(e){return!1}}var qi=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Wi.prototype.create),a}return y(n)}(E(Error)),Wi=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Hi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new qi(n,a,t)}}]),e}();var Hi=/\{\$([^}]+)}/g;function Ki(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Yi(s)&&Yi(u)){if(!Qi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yi(e){return null!==e&&"object"===typeof e}function $i(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ji(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Zi(e,t){var n=new ea(e,t);return n.subscribe.bind(n)}var ea=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ta),void 0===r.error&&(r.error=ta),void 0===r.complete&&(r.complete=ta);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ta(){}function na(e){return e&&e._delegate?e._delegate:e}var ra=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ia="[DEFAULT]",aa=function(){function e(t,n){d(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Li;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch(u){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oa(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia;return this.component?this.component.multipleInstances?e:ia:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function oa(e){return e===ia?void 0:e}var sa,ua,ca=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new aa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),la=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ua||(ua={}));var fa={debug:ua.DEBUG,verbose:ua.VERBOSE,info:ua.INFO,warn:ua.WARN,error:ua.ERROR,silent:ua.SILENT},ha=ua.INFO,da=($r(sa={},ua.DEBUG,"log"),$r(sa,ua.VERBOSE,"log"),$r(sa,ua.INFO,"info"),$r(sa,ua.WARN,"warn"),$r(sa,ua.ERROR,"error"),sa),pa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=da[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},va=function(){function e(t){d(this,e),this.name=t,this._logLevel=ha,this._logHandler=pa,this._userLogHandler=null,la.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ua))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?fa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.DEBUG].concat(t)),this._logHandler.apply(this,[this,ua.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ua.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.INFO].concat(t)),this._logHandler.apply(this,[this,ua.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.WARN].concat(t)),this._logHandler.apply(this,[this,ua.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ua.ERROR].concat(t)),this._logHandler.apply(this,[this,ua.ERROR].concat(t))}}]),e}();function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ga,ba,ka=function(e,t){return t.some((function(t){return e instanceof t}))};var wa=new WeakMap,_a=new WeakMap,xa=new WeakMap,Sa=new WeakMap,Ea=new WeakMap;var Ta={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||xa.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ia(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ba||(ba=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pa(this),n),Oa(wa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Oa(e.apply(Pa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Pa(this),t].concat(r));return xa.set(a,t.sort?t.sort():[t]),Oa(a)}}function Ca(e){return"function"===typeof e?Ia(e):(e instanceof IDBTransaction&&function(e){if(!_a.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));_a.set(e,t)}}(e),ka(e,ga||(ga=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ta):e)}function Oa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Oa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wa.set(t,e)})).catch((function(){})),Ea.set(t,e),t}(e);if(Sa.has(e))return Sa.get(e);var t=Ca(e);return t!==e&&(Sa.set(e,t),Ea.set(t,e)),t}var Pa=function(e){return Ea.get(e)};var Aa,Na,Ra=["get","getKey","getAll","getAllKeys","count"],Da=["put","add","delete","clear"],La=new Map;function Ma(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(La.get(t))return La.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Da.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ra.includes(n))){var a=function(){var e=Ze(Xe().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return La.set(t,a),a}}}Ta=function(e){return ya(ya({},e),{},{get:function(t,n,r){return Ma(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ma(t,n)||e.has(t,n)}})}(Ta);var ja=function(){function e(t){d(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Fa="@firebase/app",Ua="0.9.25",za=new va("@firebase/app"),Va="[DEFAULT]",Ba=($r(Aa={},Fa,"fire-core"),$r(Aa,"@firebase/app-compat","fire-core-compat"),$r(Aa,"@firebase/analytics","fire-analytics"),$r(Aa,"@firebase/analytics-compat","fire-analytics-compat"),$r(Aa,"@firebase/app-check","fire-app-check"),$r(Aa,"@firebase/app-check-compat","fire-app-check-compat"),$r(Aa,"@firebase/auth","fire-auth"),$r(Aa,"@firebase/auth-compat","fire-auth-compat"),$r(Aa,"@firebase/database","fire-rtdb"),$r(Aa,"@firebase/database-compat","fire-rtdb-compat"),$r(Aa,"@firebase/functions","fire-fn"),$r(Aa,"@firebase/functions-compat","fire-fn-compat"),$r(Aa,"@firebase/installations","fire-iid"),$r(Aa,"@firebase/installations-compat","fire-iid-compat"),$r(Aa,"@firebase/messaging","fire-fcm"),$r(Aa,"@firebase/messaging-compat","fire-fcm-compat"),$r(Aa,"@firebase/performance","fire-perf"),$r(Aa,"@firebase/performance-compat","fire-perf-compat"),$r(Aa,"@firebase/remote-config","fire-rc"),$r(Aa,"@firebase/remote-config-compat","fire-rc-compat"),$r(Aa,"@firebase/storage","fire-gcs"),$r(Aa,"@firebase/storage-compat","fire-gcs-compat"),$r(Aa,"@firebase/firestore","fire-fst"),$r(Aa,"@firebase/firestore-compat","fire-fst-compat"),$r(Aa,"fire-js","fire-js"),$r(Aa,"firebase","fire-js-all"),Aa),qa=new Map,Wa=new Map;function Ha(e,t){try{e.container.addComponent(t)}catch(n){za.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ka(e,t){e.container.addOrOverwriteComponent(t)}function Ga(e){var t=e.name;if(Wa.has(t))return za.debug("There were multiple attempts to register component ".concat(t,".")),!1;Wa.set(t,e);var n,r=I(qa.values());try{for(r.s();!(n=r.n()).done;){Ha(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Qa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ya(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Va;Qa(e,t).clearInstance(n)}function $a(){Wa.clear()}var Xa=($r(Na={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),$r(Na,"bad-app-name","Illegal App name: '{$appName}"),$r(Na,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),$r(Na,"app-deleted","Firebase App named '{$appName}' already deleted"),$r(Na,"no-options","Need to provide options, when not being deployed to hosting via source."),$r(Na,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$r(Na,"invalid-log-argument","First argument to `onLog` must be null or a function."),$r(Na,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),$r(Na,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),$r(Na,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),$r(Na,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Na),Ja=new Wi("app","Firebase",Xa),Za=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}]),e}(),eo="10.7.1";function to(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Va,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ja.create("bad-app-name",{appName:String(i)});if(n||(n=Di()),!n)throw Ja.create("no-options");var a=qa.get(i);if(a){if(Qi(n,a.options)&&Qi(r,a.config))return a;throw Ja.create("duplicate-app",{appName:i})}var o,s=new ca(i),u=I(Wa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Za(n,r,s);return qa.set(i,l),l}function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va,t=qa.get(e);if(!t&&e===Va&&Di())return to();if(!t)throw Ja.create("no-app",{appName:e});return t}function ro(){return Array.from(qa.values())}function io(e){return ao.apply(this,arguments)}function ao(){return ao=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!qa.has(n)){e.next=6;break}return qa.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t,n){var r,i=null!==(r=Ba[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void za.warn(s.join(" "))}Ga(new ra("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function so(e,t){if(null!==e&&"function"!==typeof e)throw Ja.create("invalid-log-argument");!function(e,t){var n,r=I(la);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=fa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ua[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function uo(e){var t;t=e,la.forEach((function(e){e.setLogLevel(t)}))}var co="firebase-heartbeat-database",lo=1,fo="firebase-heartbeat-store",ho=null;function po(){return ho||(ho=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Oa(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Oa(s.result),e.oldVersion,e.newVersion,Oa(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(co,lo,{upgrade:function(e,t){if(0===t)e.createObjectStore(fo)}}).catch((function(e){throw Ja.create("idb-open",{originalErrorMessage:e.message})}))),ho}function vo(e){return mo.apply(this,arguments)}function mo(){return mo=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,po();case 3:return n=e.sent,e.next=6,n.transaction(fo).objectStore(fo).get(bo(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof qi?za.warn(e.t0.message):(i=Ja.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),za.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),mo.apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return go=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,po();case 3:return r=e.sent,i=r.transaction(fo,"readwrite"),a=i.objectStore(fo),e.next=8,a.put(n,bo(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof qi?za.warn(e.t0.message):(o=Ja.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),za.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),go.apply(this,arguments)}function bo(e){return"".concat(e.name,"!").concat(e.options.appId)}var ko=function(){function e(t){var n=this;d(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Eo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=wo(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=wo(),r=_o(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=Oi(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wo(){return(new Date).toISOString().substring(0,10)}function _o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),To(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),To(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var xo,So,Eo=function(){function e(t){d(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vo(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",yo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function To(e){return Oi(JSON.stringify({version:2,heartbeats:e})).length}xo="",Ga(new ra("platform-logger",(function(e){return new ja(e)}),"PRIVATE")),Ga(new ra("heartbeat",(function(e){return new ko(e)}),"PRIVATE")),oo(Fa,Ua,xo),oo(Fa,Ua,"esm2017"),oo("fire-js","");var Io=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Ha(t,new ra("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),io(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Va;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Va;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ha(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ka(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Co=($r(So={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$r(So,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),So),Oo=new Wi("app-compat","Firebase",Co);var Po=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=to(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ki(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:oo,setLogLevel:uo,onLog:so,apps:null,SDK_VERSION:eo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ga(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Oo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ai(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ki(n,e=e||Va))throw Oo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Io);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ai(n,e)},createSubscribe:Zi,ErrorFactory:Wi,deepExtend:Ai}),n}(),Ao=new va("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ao.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var No=self.firebase.SDK_VERSION;No&&No.indexOf("LITE")>=0&&Ao.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ro=Po;!function(e){oo("@firebase/app-compat","0.2.25",e)}();function Do(){return Do="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Do.apply(this,arguments)}Ro.registerVersion("firebase","10.7.1","app-compat");var Lo,Mo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jo={},Fo=Fo||{},Uo=Mo||self;function zo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bo="closure_uid_"+(1e9*Math.random()>>>0),qo=0;function Wo(e,t,n){return e.call.apply(e.bind,arguments)}function Ho(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ko(e,t,n){return(Ko=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wo:Ho).apply(null,arguments)}function Go(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Yo(){this.s=this.s,this.o=this.o}Yo.prototype.s=!1,Yo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bo)&&e[Bo]||(e[Bo]=++qo))},Yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $o=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Xo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jo(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Zo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Zo.prototype.h=function(){this.defaultPrevented=!0};var es=function(){if(!Uo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Uo.addEventListener("test",n,t),Uo.removeEventListener("test",n,t)}catch(n){}return e}();function ts(e){return/^[\s\xa0]*$/.test(e)}function ns(){var e=Uo.navigator;return e&&(e=e.userAgent)?e:""}function rs(e){return-1!=ns().indexOf(e)}function is(e){return is[" "](e),e}is[" "]=function(){};var as,os,ss=rs("Opera"),us=rs("Trident")||rs("MSIE"),cs=rs("Edge"),ls=cs||us,fs=rs("Gecko")&&!(-1!=ns().toLowerCase().indexOf("webkit")&&!rs("Edge"))&&!(rs("Trident")||rs("MSIE"))&&!rs("Edge"),hs=-1!=ns().toLowerCase().indexOf("webkit")&&!rs("Edge");function ds(){var e=Uo.document;return e?e.documentMode:void 0}e:{var ps="",vs=function(){var e=ns();return fs?/rv:([^\);]+)(\)|;)/.exec(e):cs?/Edge\/([\d\.]+)/.exec(e):us?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hs?/WebKit\/(\S+)/.exec(e):ss?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vs&&(ps=vs?vs[1]:""),us){var ms=ds();if(null!=ms&&ms>parseFloat(ps)){as=String(ms);break e}}as=ps}if(Uo.document&&us){var ys=ds();os=ys||(parseInt(as,10)||void 0)}else os=void 0;var gs=os;function bs(e,t){if(Zo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fs){e:{try{is(t.nodeName);var i=!0;break e}catch(sn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ks[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bs.$.h.call(this)}}Qo(bs,Zo);var ks={2:"touch",3:"pen",4:"mouse"};bs.prototype.h=function(){bs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ws="closure_listenable_"+(1e6*Math.random()|0),_s=0;function xs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++_s,this.fa=this.ia=!1}function Ss(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Es(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ts(e){var t={};for(var n in e)t[n]=e[n];return t}var Is="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cs(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Is.length;a++)n=Is[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Os(e){this.src=e,this.g={},this.h=0}function Ps(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$o(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ss(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function As(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Os.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=As(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new xs(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ns="closure_lm_"+(1e6*Math.random()|0),Rs={};function Ds(e,t,n,r,i){if(r&&r.once)return Ms(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ds(e,t[a],n,r,i);return null}return n=qs(n),e&&e[ws]?e.O(t,n,Vo(r)?!!r.capture:!!r,i):Ls(e,t,n,!1,r,i)}function Ls(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Vo(i)?!!i.capture:!!i,s=Vs(e);if(s||(e[Ns]=s=new Os(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zs;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)es||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Us(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ms(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ms(e,t[a],n,r,i);return null}return n=qs(n),e&&e[ws]?e.P(t,n,Vo(r)?!!r.capture:!!r,i):Ls(e,t,n,!0,r,i)}function js(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)js(e,t[a],n,r,i);else r=Vo(r)?!!r.capture:!!r,n=qs(n),e&&e[ws]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=As(a=e.g[t],n,r,i))&&(Ss(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Vs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=As(t,n,r,i)),(n=-1<e?t[e]:null)&&Fs(n))}function Fs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ws])Ps(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Us(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vs(t))?(Ps(n,e),0==n.h&&(n.src=null,t[Ns]=null)):Ss(e)}}}function Us(e){return e in Rs?Rs[e]:Rs[e]="on"+e}function zs(e,t){if(e.fa)e=!0;else{t=new bs(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Fs(e),e=n.call(r,t)}return e}function Vs(e){return(e=e[Ns])instanceof Os?e:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function qs(e){return"function"===typeof e?e:(e[Bs]||(e[Bs]=function(t){return e.handleEvent(t)}),e[Bs])}function Ws(){Yo.call(this),this.i=new Os(this),this.S=this,this.J=null}function Hs(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Zo(t,e);else if(t instanceof Zo)t.target=t.target||e;else{var i=t;Cs(t=new Zo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ks(o,r,!0,t)&&i}if(i=Ks(o=t.g=e,r,!0,t)&&i,i=Ks(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ks(o=t.g=n[a],r,!1,t)&&i}function Ks(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ps(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Qo(Ws,Yo),Ws.prototype[ws]=!0,Ws.prototype.removeEventListener=function(e,t,n,r){js(this,e,t,n,r)},Ws.prototype.N=function(){if(Ws.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ss(n[r]);delete t.g[e],t.h--}}this.J=null},Ws.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ws.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Gs=Uo.JSON.stringify,Qs=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Ys(){var e=ru,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $s=function(){function e(){d(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Xs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xs=new Qs((function(){return new Js}),(function(e){return e.reset()})),Js=function(){function e(){d(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Zs(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function eu(e){Uo.setTimeout((function(){throw e}),0)}var tu,nu=!1,ru=new $s,iu=function(){var e=Uo.Promise.resolve(void 0);tu=function(){e.then(au)}},au=function(){for(var e;e=Ys();){try{e.h.call(e.g)}catch(n){eu(n)}var t=Xs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nu=!1};function ou(e,t){Ws.call(this),this.h=e||1,this.g=t||Uo,this.j=Ko(this.qb,this),this.l=Date.now()}function su(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function uu(e,t,n){if("function"===typeof e)n&&(e=Ko(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ko(e.handleEvent,e)}return 2147483647<Number(t)?-1:Uo.setTimeout(e,t||0)}function cu(e){e.g=uu((function(){e.g=null,e.i&&(e.i=!1,cu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qo(ou,Ws),(Lo=ou.prototype).ga=!1,Lo.T=null,Lo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hs(this,"tick"),this.ga&&(su(this),this.start()))}},Lo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Lo.N=function(){ou.$.N.call(this),su(this),delete this.g};var lu=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cu(this)}},{key:"N",value:function(){Do(k(n.prototype),"N",this).call(this),this.g&&(Uo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Yo);function fu(e){Yo.call(this),this.h=e,this.g={}}Qo(fu,Yo);var hu=[];function du(e,t,n,r){Array.isArray(n)||(n&&(hu[0]=n.toString()),n=hu);for(var i=0;i<n.length;i++){var a=Ds(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pu(e){Es(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Fs(e)}),e),e.g={}}function vu(){this.g=!0}function mu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Gs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}fu.prototype.N=function(){fu.$.N.call(this),pu(this)},fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vu.prototype.Ea=function(){this.g=!1},vu.prototype.info=function(){};var yu={},gu=null;function bu(){return gu=gu||new Ws}function ku(e){Zo.call(this,yu.Ta,e)}function wu(e){var t=bu();Hs(t,new ku(t))}function _u(e,t){Zo.call(this,yu.STAT_EVENT,e),this.stat=t}function xu(e){var t=bu();Hs(t,new _u(t,e))}function Su(e,t){Zo.call(this,yu.Ua,e),this.size=t}function Eu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Uo.setTimeout((function(){e()}),t)}yu.Ta="serverreachability",Qo(ku,Zo),yu.STAT_EVENT="statevent",Qo(_u,Zo),yu.Ua="timingevent",Qo(Su,Zo);var Tu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Iu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cu(){}function Ou(e){return e.h||(e.h=e.i())}function Pu(){}Cu.prototype.h=null;var Au,Nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ru(){Zo.call(this,"d")}function Du(){Zo.call(this,"c")}function Lu(){}function Mu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fu(this),this.P=Fu,e=ls?125:void 0,this.V=new ou(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ju}function ju(){this.i=null,this.g="",this.h=!1}Qo(Ru,Zo),Qo(Du,Zo),Qo(Lu,Cu),Lu.prototype.g=function(){return new XMLHttpRequest},Lu.prototype.i=function(){return{}},Au=new Lu;var Fu=45e3,Uu={},zu={};function Vu(e,t,n){e.L=1,e.A=oc(tc(t)),e.u=n,e.S=!0,Bu(e,null)}function Bu(e,t){e.G=Date.now(),Ku(e),e.B=tc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),bc(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ju,e.g=kl(e.l,n?t:null,!e.u),0<e.O&&(e.M=new lu(Ko(e.Pa,e,e.g),e.O)),du(e.U,e.g,"readystatechange",e.nb),t=e.I?Ts(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),wu(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function qu(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Wu(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=Hu(e,n))==zu){4==t&&(e.s=4,xu(14),i=!1),mu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uu){e.s=4,xu(15),mu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mu(e.j,e.m,r,null),Xu(e,r)}qu(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,xu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hl(t),t.M=!0,xu(11))):(mu(e.j,e.m,n,"[Invalid Chunked Response]"),$u(e),Yu(e))}function Hu(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?zu:(n=Number(t.substring(n,r)),isNaN(n)?Uu:(r+=1)+n>t.length?zu:(t=t.slice(r,r+n),e.o=r+n,t))}function Ku(e){e.Y=Date.now()+e.P,Gu(e,e.P)}function Gu(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Eu(Ko(e.lb,e),t)}function Qu(e){e.C&&(Uo.clearTimeout(e.C),e.C=null)}function Yu(e){0==e.l.H||e.J||vl(e.l,e)}function $u(e){Qu(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,su(e.V),pu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Tc(n.i,e)))if(!e.K&&Tc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pl(n),il(n)}fl(n),xu(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Eu(Ko(n.ib,n),6e3));if(1>=Ec(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else yl(n,11)}else if((e.K||n.g==e)&&pl(n),!ts(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ic(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ac(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=bl(r,r.J?r.pa:null,r.Y),d.K){Cc(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.C&&(Qu(p),Ku(p)),r.g=d}else ll(r);0<n.j.length&&ol(n)}else"stop"!=a[0]&&"close"!=a[0]||yl(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?yl(n,7):rl(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}wu()}catch(a){}}function Ju(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Lo=Mu.prototype).setTimeout=function(e){this.P=e},Lo.nb=function(e){e=e.target;var t=this.M;t&&3==Xc(e)?t.l():this.Pa(e)},Lo.Pa=function(e){try{if(e==this.g)e:{var t=Xc(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ls||this.g&&(this.h.h||this.g.ja()||Jc(this.g)))){this.J||4!=t||7==n||wu(),Qu(this);var r=this.g.da();this.ca=r;t:if(qu(this)){var i=Jc(this.g);e="";var a=i.length,o=4==Xc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$u(this),Yu(this);var s="";break t}this.h.i=new Uo.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ts(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.s=3,xu(12),$u(this),Yu(this);break e}mu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xu(this,r)}this.S?(Wu(this,t,s),ls&&this.i&&3==t&&(du(this.U,this.V,"tick",this.mb),this.V.start())):(mu(this.j,this.m,s,null),Xu(this,s)),4==t&&$u(this),this.i&&!this.J&&(4==t?vl(this.l,this):(this.i=!1,Ku(this)))}else(function(e){var t={};e=(e.g&&2<=Xc(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ts(e[n])){var r=Zs(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,xu(12)):(this.s=0,xu(13)),$u(this),Yu(this)}}}catch(t){}},Lo.mb=function(){if(this.g){var e=Xc(this.g),t=this.g.ja();this.o<t.length&&(Qu(this),Wu(this,e,t),this.i&&4!=e&&Ku(this))}},Lo.cancel=function(){this.J=!0,$u(this)},Lo.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(wu(),xu(17)),$u(this),this.s=2,Yu(this)):Gu(this,this.Y-e)};var Zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ec){this.h=e.h,nc(this,e.j),this.s=e.s,this.g=e.g,rc(this,e.m),this.l=e.l;var t=e.i,n=new vc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ic(this,n),this.o=e.o}else e&&(t=String(e).match(Zu))?(this.h=!1,nc(this,t[1]||"",!0),this.s=sc(t[2]||""),this.g=sc(t[3]||"",!0),rc(this,t[4]),this.l=sc(t[5]||"",!0),ic(this,t[6]||"",!0),this.o=sc(t[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}function tc(e){return new ec(e)}function nc(e,t,n){e.j=n?sc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ic(e,t,n){t instanceof vc?(e.i=t,function(e,t){t&&!e.j&&(mc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yc(this,t),bc(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=uc(t,dc)),e.i=new vc(t,e.h))}function ac(e,t,n){e.i.set(t,n)}function oc(e){return ac(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function uc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ec.prototype.toString=function(){var e=[],t=this.j;t&&e.push(uc(t,lc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(uc(t,lc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(uc(n,"/"==n.charAt(0)?hc:fc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",uc(n,pc)),e.join("")};var lc=/[#\/\?@]/g,fc=/[#\?:]/g,hc=/[#\?]/g,dc=/[#\?@]/g,pc=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yc(e,t){mc(e),t=kc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gc(e,t){return mc(e),t=kc(e,t),e.g.has(t)}function bc(e,t,n){yc(e,t),0<n.length&&(e.i=null,e.g.set(kc(e,t),Xo(n)),e.h+=n.length)}function kc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Lo=vc.prototype).add=function(e,t){mc(this),this.i=null,e=kc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Lo.forEach=function(e,t){mc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Lo.ta=function(){mc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Lo.Z=function(e){mc(this);var t=[];if("string"===typeof e)gc(this,e)&&(t=t.concat(this.g.get(kc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Lo.set=function(e,t){return mc(this),this.i=null,gc(this,e=kc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Lo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Lo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var wc=y((function e(t,n){d(this,e),this.g=t,this.map=n}));function _c(e){this.l=e||xc,Uo.PerformanceNavigationTiming?e=0<(e=Uo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Uo.g&&Uo.g.Ka&&Uo.g.Ka()&&Uo.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xc=10;function Sc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ec(e){return e.h?1:e.g?e.g.size:0}function Tc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ic(e,t){e.g?e.g.add(t):e.h=t}function Cc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Oc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Xo(e.i)}_c.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Pc,Ac=function(){function e(){d(this,e)}return y(e,[{key:"stringify",value:function(e){return Uo.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Uo.JSON.parse(e,void 0)}}]),e}();function Nc(){this.g=new Ac}function Rc(e,t,n){var r=n||"";try{Ju(e,(function(e,n){var i=e;Vo(e)&&(i=Gs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(sn){}}function Lc(e){this.l=e.ec||null,this.j=e.ob||!1}function Mc(e,t){Ws.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=jc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qo(Lc,Cu),Lc.prototype.g=function(){return new Mc(this.l,this.j)},Lc.prototype.i=(Pc={},function(){return Pc}),Qo(Mc,Ws);var jc=0;function Fc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Uc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zc(e)}function zc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Lo=Mc.prototype).open=function(e,t){if(this.readyState!=jc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zc(this)},Lo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Uo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Lo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uc(this)),this.readyState=jc},Lo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zc(this)),this.g&&(this.readyState=3,zc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Uo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Lo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uc(this):zc(this),3==this.readyState&&Fc(this)}},Lo.Za=function(e){this.g&&(this.response=this.responseText=e,Uc(this))},Lo.Ya=function(e){this.g&&(this.response=e,Uc(this))},Lo.ka=function(){this.g&&Uc(this)},Lo.setRequestHeader=function(e,t){this.v.append(e,t)},Lo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Lo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vc=Uo.JSON.parse;function Bc(e){Ws.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qc,this.L=this.M=!1}Qo(Bc,Ws);var qc="",Wc=/^https?$/i,Hc=["POST","PUT"];function Kc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gc(e),Yc(e)}function Gc(e){e.F||(e.F=!0,Hs(e,"complete"),Hs(e,"error"))}function Qc(e){if(e.h&&"undefined"!=typeof Fo&&(!e.C[1]||4!=Xc(e)||2!=e.da()))if(e.v&&4==Xc(e))uu(e.La,0,e);else if(Hs(e,"readystatechange"),4==Xc(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Zu)[1]||null;!a&&Uo.self&&Uo.self.location&&(a=Uo.self.location.protocol.slice(0,-1)),i=!Wc.test(a?a.toLowerCase():"")}t=i}if(t)Hs(e,"complete"),Hs(e,"success");else{e.m=6;try{var o=2<Xc(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Gc(e)}}finally{Yc(e)}}}function Yc(e,t){if(e.g){$c(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Hs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $c(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Uo.clearTimeout(e.A),e.A=null)}function Xc(e){return e.g?e.g.readyState:0}function Jc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case qc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zc(e){var t="";return Es(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function el(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ac(e,t,n))}function tl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nl(e){this.Ga=0,this.j=[],this.l=new vu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tl("baseRetryDelayMs",5e3,e),this.hb=tl("retryDelaySeedMs",1e4,e),this.eb=tl("forwardChannelMaxRetries",2,e),this.xa=tl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new _c(e&&e.concurrentRequestLimit),this.Ja=new Nc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rl(e){if(al(e),3==e.H){var t=e.W++,n=tc(e.I);if(ac(n,"SID",e.K),ac(n,"RID",t),ac(n,"TYPE","terminate"),ul(e,n),(t=new Mu(e,e.l,t)).L=2,t.A=oc(tc(n)),n=!1,Uo.navigator&&Uo.navigator.sendBeacon)try{n=Uo.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Uo.Image&&((new Image).src=t.A,n=!0),n||(t.g=kl(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ku(t)}gl(e)}function il(e){e.g&&(hl(e),e.g.cancel(),e.g=null)}function al(e){il(e),e.u&&(Uo.clearTimeout(e.u),e.u=null),pl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Uo.clearTimeout(e.m),e.m=null)}function ol(e){if(!Sc(e.i)&&!e.m){e.m=!0;var t=e.Na;tu||iu(),nu||(tu(),nu=!0),ru.add(t,e),e.C=0}}function sl(e,t){var n;n=t?t.m:e.W++;var r=tc(e.I);ac(r,"SID",e.K),ac(r,"RID",n),ac(r,"AID",e.V),ul(e,r),e.o&&e.s&&el(r,e.o,e.s),n=new Mu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=cl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ic(e.i,n),Vu(n,r,t)}function ul(e,t){e.na&&Es(e.na,(function(e,n){ac(t,n,e)})),e.h&&Ju({},(function(e,n){ac(t,n,e)}))}function cl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ko(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Rc(l,o,"req"+c+"_")}catch(On){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function ll(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tu||iu(),nu||(tu(),nu=!0),ru.add(t,e),e.A=0}}function fl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Eu(Ko(e.Ma,e),ml(e,e.A)),e.A++,!0)}function hl(e){null!=e.B&&(Uo.clearTimeout(e.B),e.B=null)}function dl(e){e.g=new Mu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tc(e.wa);ac(t,"RID","rpc"),ac(t,"SID",e.K),ac(t,"AID",e.V),ac(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ac(t,"TO",e.qa),ac(t,"TYPE","xmlhttp"),ul(e,t),e.o&&e.s&&el(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=oc(tc(t)),n.u=null,n.S=!0,Bu(n,e)}function pl(e){null!=e.v&&(Uo.clearTimeout(e.v),e.v=null)}function vl(e,t){var n=null;if(e.g==t){pl(e),hl(e),e.g=null;var r=2}else{if(!Tc(e.i,t))return;n=t.F,Cc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Hs(r=bu(),new Su(r,n)),ol(e)}else ll(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ec(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Eu(Ko(e.Na,e,t),ml(e,e.C)),e.C++,!0))}(e,t)||2==r&&fl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yl(e,5);break;case 4:yl(e,10);break;case 3:yl(e,6);break;default:yl(e,2)}}function ml(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ko(e.pb,e);n||(n=new ec("//www.google.com/images/cleardot.gif"),Uo.location&&"http"==Uo.location.protocol||nc(n,"https"),oc(n)),function(e,t){var n=new vu;if(Uo.Image){var r=new Image;r.onload=Go(Dc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Go(Dc,n,r,"TestLoadImage: error",!1,t),r.onabort=Go(Dc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Go(Dc,n,r,"TestLoadImage: timeout",!1,t),Uo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else xu(2);e.H=0,e.h&&e.h.za(t),gl(e),al(e)}function gl(e){if(e.H=0,e.ma=[],e.h){var t=Oc(e.i);0==t.length&&0==e.j.length||(Jo(e.ma,t),Jo(e.ma,e.j),e.i.i.length=0,Xo(e.j),e.j.length=0),e.h.ya()}}function bl(e,t,n){var r=n instanceof ec?tc(n):new ec(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rc(r,r.m);else{var i=Uo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ec(null);r&&nc(a,r),t&&(a.g=t),i&&rc(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ac(r,n,t),ac(r,"VER",e.ra),ul(e,r),r}function kl(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Bc(new Lc({ob:n})):new Bc(e.va)).Oa(e.J),t}function wl(){}function _l(){if(us&&!(10<=Number(gs)))throw Error("Environmental error: no available transport.")}function xl(e,t){Ws.call(this),this.g=new nl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ts(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ts(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Tl(this)}function Sl(e){Ru.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function El(){Du.call(this),this.status=1}function Tl(e){this.g=e}function Il(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Cl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Ol(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Lo=Bc.prototype).Oa=function(e){this.M=e},Lo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Au.g(),this.C=this.u?Ou(this.u):Ou(Au),this.g.onreadystatechange=Ko(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=I(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Uo.FormData&&e instanceof Uo.FormData,!(0<=$o(Hc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=I(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$c(this),0<this.B&&((this.L=function(e){return us&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ko(this.ua,this)):this.A=uu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kc(this,s)}},Lo.ua=function(){"undefined"!=typeof Fo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hs(this,"timeout"),this.abort(8))},Lo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hs(this,"complete"),Hs(this,"abort"),Yc(this))},Lo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yc(this,!0)),Bc.$.N.call(this)},Lo.La=function(){this.s||(this.G||this.v||this.l?Qc(this):this.kb())},Lo.kb=function(){Qc(this)},Lo.isActive=function(){return!!this.g},Lo.da=function(){try{return 2<Xc(this)?this.g.status:-1}catch(Pc){return-1}},Lo.ja=function(){try{return this.g?this.g.responseText:""}catch(Pc){return""}},Lo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vc(t)}},Lo.Ia=function(){return this.m},Lo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Lo=nl.prototype).ra=8,Lo.H=1,Lo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Mu(this,this.l,e),n=this.s;if(this.U&&(n?Cs(n=Ts(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=cl(this,t,r),ac(i=tc(this.I),"RID",e),ac(i,"CVER",22),this.F&&ac(i,"X-HTTP-Session-Id",this.F),ul(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Zc(n)))+"&"+r:this.o&&el(i,this.o,n)),Ic(this.i,t),this.bb&&ac(i,"TYPE","init"),this.P?(ac(i,"$req",r),ac(i,"SID","null"),t.aa=!0,Vu(t,i,null)):Vu(t,i,r),this.H=2}}else 3==this.H&&(e?sl(this,e):0==this.j.length||Sc(this.i)||sl(this))},Lo.Ma=function(){if(this.u=null,dl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Eu(Ko(this.jb,this),e)}},Lo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xu(10),il(this),dl(this))},Lo.ib=function(){null!=this.v&&(this.v=null,il(this),fl(this),xu(19))},Lo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),xu(2)):(this.l.info("Failed to ping google.com"),xu(1))},Lo.isActive=function(){return!!this.h&&this.h.isActive(this)},(Lo=wl.prototype).Ba=function(){},Lo.Aa=function(){},Lo.za=function(){},Lo.ya=function(){},Lo.isActive=function(){return!0},Lo.Va=function(){},_l.prototype.g=function(e,t){return new xl(e,t)},Qo(xl,Ws),xl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;xu(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bl(e,null,e.Y),ol(e)},xl.prototype.close=function(){rl(this.g)},xl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Gs(e),e=n);t.j.push(new wc(t.fb++,e)),3==t.H&&ol(t)},xl.prototype.N=function(){this.g.h=null,delete this.j,rl(this.g),delete this.g,xl.$.N.call(this)},Qo(Sl,Ru),Qo(El,Du),Qo(Tl,wl),Tl.prototype.Ba=function(){Hs(this.g,"a")},Tl.prototype.Aa=function(e){Hs(this.g,new Sl(e))},Tl.prototype.za=function(e){Hs(this.g,new El)},Tl.prototype.ya=function(){Hs(this.g,"b")},Qo(Il,(function(){this.blockSize=-1})),Il.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Il.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Cl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Cl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Cl(this,r),i=0;break}}this.h=i,this.i+=t},Il.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Pl={};function Al(e){return-128<=e&&128>e?function(e,t){var n=Pl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Ol([0|e],0>e?-1:0)})):new Ol([0|e],0>e?-1:0)}function Nl(e){if(isNaN(e)||!isFinite(e))return Dl;if(0>e)return Ul(Nl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Rl;return new Ol(t,0)}var Rl=4294967296,Dl=Al(0),Ll=Al(1),Ml=Al(16777216);function jl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fl(e){return-1==e.h}function Ul(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Ol(n,~e.h).add(Ll)}function zl(e,t){return e.add(Ul(t))}function Vl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bl(e,t){this.g=e,this.h=t}function ql(e,t){if(jl(t))throw Error("division by zero");if(jl(e))return new Bl(Dl,Dl);if(Fl(e))return t=ql(Ul(e),t),new Bl(Ul(t.g),Ul(t.h));if(Fl(t))return t=ql(e,Ul(t)),new Bl(Ul(t.g),t.h);if(30<e.g.length){if(Fl(e)||Fl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ll,r=t;0>=r.X(e);)n=Wl(n),r=Wl(r);var i=Hl(n,1),a=Hl(r,1);for(r=Hl(r,2),n=Hl(n,2);!jl(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Hl(r,1),n=Hl(n,1)}return t=zl(e,i.R(t)),new Bl(i,t)}for(i=Dl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Nl(n)).R(t);Fl(o)||0<o.X(e);)o=(a=Nl(n-=r)).R(t);jl(a)&&(a=Ll),i=i.add(a),e=zl(e,o)}return new Bl(i,e)}function Wl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Ol(n,e.h)}function Hl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Ol(i,e.h)}(Lo=Ol.prototype).ea=function(){if(Fl(this))return-Ul(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Rl+r)*t,t*=Rl}return e},Lo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(jl(this))return"0";if(Fl(this))return"-"+Ul(this).toString(e);for(var t=Nl(Math.pow(e,6)),n=this,r="";;){var i=ql(n,t).g,a=((0<(n=zl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(jl(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Lo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Lo.X=function(e){return Fl(e=zl(this,e))?-1:jl(e)?0:1},Lo.abs=function(){return Fl(this)?Ul(this):this},Lo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Ol(n,-2147483648&n[n.length-1]?-1:0)},Lo.R=function(e){if(jl(this)||jl(e))return Dl;if(Fl(this))return Fl(e)?Ul(this).R(Ul(e)):Ul(Ul(this).R(e));if(Fl(e))return Ul(this.R(Ul(e)));if(0>this.X(Ml)&&0>e.X(Ml))return Nl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Vl(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Vl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Vl(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Vl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Ol(n,0)},Lo.gb=function(e){return ql(this,e).h},Lo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Ol(n,this.h&e.h)},Lo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Ol(n,this.h|e.h)},Lo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Ol(n,this.h^e.h)},_l.prototype.createWebChannel=_l.prototype.g,xl.prototype.send=xl.prototype.u,xl.prototype.open=xl.prototype.m,xl.prototype.close=xl.prototype.close,Tu.NO_ERROR=0,Tu.TIMEOUT=8,Tu.HTTP_ERROR=6,Iu.COMPLETE="complete",Pu.EventType=Nu,Nu.OPEN="a",Nu.CLOSE="b",Nu.ERROR="c",Nu.MESSAGE="d",Ws.prototype.listen=Ws.prototype.O,Bc.prototype.listenOnce=Bc.prototype.P,Bc.prototype.getLastError=Bc.prototype.Sa,Bc.prototype.getLastErrorCode=Bc.prototype.Ia,Bc.prototype.getStatus=Bc.prototype.da,Bc.prototype.getResponseJson=Bc.prototype.Wa,Bc.prototype.getResponseText=Bc.prototype.ja,Bc.prototype.send=Bc.prototype.ha,Bc.prototype.setWithCredentials=Bc.prototype.Oa,Il.prototype.digest=Il.prototype.l,Il.prototype.reset=Il.prototype.reset,Il.prototype.update=Il.prototype.j,Ol.prototype.add=Ol.prototype.add,Ol.prototype.multiply=Ol.prototype.R,Ol.prototype.modulo=Ol.prototype.gb,Ol.prototype.compare=Ol.prototype.X,Ol.prototype.toNumber=Ol.prototype.ea,Ol.prototype.toString=Ol.prototype.toString,Ol.prototype.getBits=Ol.prototype.D,Ol.fromNumber=Nl,Ol.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Ul(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Nl(Math.pow(n,8)),i=Dl,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Nl(Math.pow(n,o)),i=i.R(o).add(Nl(s))):i=(i=i.R(r)).add(Nl(s))}return i};var Kl=jo.createWebChannelTransport=function(){return new _l},Gl=jo.getStatEventTarget=function(){return bu()},Ql=jo.ErrorCode=Tu,Yl=jo.EventType=Iu,$l=jo.Event=yu,Xl=jo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jl=(jo.FetchXmlHttpFactory=Lc,jo.WebChannel=Pu),Zl=jo.XhrIo=Bc,ef=jo.Md5=Il,tf=jo.Integer=Ol,nf="@firebase/firestore",rf=function(){function e(t){d(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();rf.UNAUTHENTICATED=new rf(null),rf.GOOGLE_CREDENTIALS=new rf("google-credentials-uid"),rf.FIRST_PARTY=new rf("first-party-uid"),rf.MOCK_USER=new rf("mock-user");var af="10.7.0",of=new va("@firebase/firestore");function sf(){return of.logLevel}function uf(e){if(of.logLevel<=ua.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ff);of.debug.apply(of,["Firestore (".concat(af,"): ").concat(e)].concat(h(i)))}}function cf(e){if(of.logLevel<=ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ff);of.error.apply(of,["Firestore (".concat(af,"): ").concat(e)].concat(h(i)))}}function lf(e){if(of.logLevel<=ua.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ff);of.warn.apply(of,["Firestore (".concat(af,"): ").concat(e)].concat(h(i)))}}function ff(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(af,") INTERNAL ASSERTION FAILED: ")+e;throw cf(t),new Error(t)}function df(e,t){e||hf()}function pf(e,t){return e}var vf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mf=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(qi),yf=y((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),gf=y((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bf=function(){function e(){d(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),kf=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),wf=function(){function e(t){d(this,e),this.t=t,this.currentUser=rf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new yf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new yf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){uf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(uf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(uf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(df("string"==typeof n.accessToken),new gf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return df(null===e||"string"==typeof e),new rf(e)}}]),e}(),_f=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=rf.FIRST_PARTY,this.I=new Map}return y(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),xf=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new _f(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Sf=y((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ef=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&uf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,uf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){uf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):uf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(df("string"==typeof t.token),e.R=t.token,new Sf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Tf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var If=function(){function e(){d(this,e)}return y(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Tf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Cf(e,t){return e<t?-1:e>t?1:0}function Of(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pf(e){return e+"\0"}var Af=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new mf(vf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mf(vf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new mf(vf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mf(vf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cf(this.nanoseconds,e.nanoseconds):Cf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nf=function(){function e(t){d(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Af(0,0))}},{key:"max",value:function(){return new e(new Af(253402300799,999999999))}}]),e}(),Rf=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&hf(),void 0===r?r=t.length-n:r>t.length-n&&hf(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Df=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new mf(vf.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rf),Lf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mf=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Lf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new mf(vf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mf(vf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mf(vf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new mf(vf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Rf),jf=function(){function e(t){d(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Df.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Df.fromString(t))}},{key:"fromName",value:function(t){return new e(Df.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Df.emptyPath())}},{key:"comparator",value:function(e,t){return Df.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Df(t.slice()))}}]),e}(),Ff=y((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Uf(e){return e.fields.find((function(e){return 2===e.kind}))}function zf(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ff.UNKNOWN_ID=-1;var Vf=y((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Bf=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,Hf.min())}}]),e}();function qf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nf.fromTimestamp(1e9===r?new Af(n+1,0):new Af(n,r));return new Hf(i,jf.empty(),t)}function Wf(e){return new Hf(e.readTime,e.key,-1)}var Hf=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Nf.min(),jf.empty(),-1)}},{key:"max",value:function(){return new e(Nf.max(),jf.empty(),-1)}}]),e}();function Kf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jf.comparator(e.documentKey,t.documentKey))?n:Cf(e.largestBatchId,t.largestBatchId)}var Gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qf=function(){function e(){d(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Yf(e){return $f.apply(this,arguments)}function $f(){return($f=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===vf.FAILED_PRECONDITION&&t.message===Gf){e.next=2;break}throw t;case 2:uf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xf=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&hf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Jf=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new yf,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new th(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=oh(e.target.error);r.V.reject(new th(t,n))}}return y(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(uf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new rh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new th(n,t)}}}]),e}(),Zf=function(){function e(t,n,r){d(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(ji())&&cf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"O",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return uf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new th(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new mf(vf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new mf(vf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new th(t,n))},i.onupgradeneeded=function(e){uf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){uf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Xe().mark((function e(){var n,s,u,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=Jf.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Xf.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.m;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,uf("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return uf("SimpleDb","Removing database:",e),ih(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!Bi())return!1;if(e.C())return!0;var t=ji(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),eh=function(){function e(t){d(this,e),this.k=t,this.q=!1,this.K=null}return y(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return ih(this.k.delete())}}]),e}(),th=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,vf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(mf);function nh(e){return"IndexedDbTransactionError"===e.name}var rh=function(){function e(t){d(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(uf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(uf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ih(n)}},{key:"add",value:function(e){return uf("SimpleDb","ADD",this.store.name,e,e),ih(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ih(this.store.get(e)).next((function(n){return void 0===n&&(n=null),uf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return uf("SimpleDb","DELETE",this.store.name,e),ih(this.store.delete(e))}},{key:"count",value:function(){return uf("SimpleDb","COUNT",this.store.name),ih(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Xf((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Xf((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){uf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Xf((function(n,r){t.onerror=function(e){var t=oh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Xf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new eh(i),o=t(i.primaryKey,i.value,a);if(o instanceof Xf){var s=o.catch((function(e){return a.done(),Xf.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Xf.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ih(e){return new Xf((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=oh(e.target.error);n(t)}}))}var ah=!1;function oh(e){var t=Zf.S(ji());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ah||(ah=!0,setTimeout((function(){throw r}),0)),r}}return e}var sh=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.X=n,this.task=null}return y(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;uf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=uf,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!nh(e.t4)){e.next=17;break}uf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Yf(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),uh=function(){function e(t,n){d(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"te",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Xf.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return uf("IndexBackiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return uf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Wf(t);Kf(r,n)>0&&(n=r)})),new Hf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),ch=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function lh(e){return null==e}function fh(e){return 0===e&&1/e==-1/0}function hh(e){return"number"==typeof e&&Number.isInteger(e)&&!fh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function dh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vh(t)),t=ph(e.get(n),t);return vh(t)}function ph(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function vh(e){return e+"\x01\x01"}function mh(e){var t=e.length;if(df(t>=2),2===t)return df("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Df.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&hf(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:hf()}a=o+2}return new Df(r)}ch._e=-1;var yh=["userId","batchId"];function gh(e,t){return[e,dh(t)]}function bh(e,t,n){return[e,dh(t),n]}var kh={},wh=["prefixPath","collectionGroup","readTime","documentId"],_h=["prefixPath","collectionGroup","documentId"],xh=["collectionGroup","readTime","prefixPath","documentId"],Sh=["canonicalId","targetId"],Eh=["targetId","path"],Th=["path","targetId"],Ih=["collectionId","parent"],Ch=["indexId","uid"],Oh=["uid","sequenceNumber"],Ph=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ah=["indexId","uid","orderedDocumentKey"],Nh=["userId","collectionPath","documentId"],Rh=["userId","collectionPath","largestBatchId"],Dh=["userId","collectionGroup","largestBatchId"],Lh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Mh=[].concat(h(Lh),["documentOverlays"]),jh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fh=jh,Uh=[].concat(Fh,["indexConfiguration","indexState","indexEntries"]),zh=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return y(n)}(Qf);function Vh(e,t){var n=pf(e);return Zf.M(n.ae,t)}function Bh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Hh=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||Gh.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Gh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Kh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Kh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Kh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Kh(this.root,e,this.comparator,!0)}}]),e}(),Kh=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Gh=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw hf();if(this.right.isRed())throw hf();var e=this.left.check();if(e!==this.right.check())throw hf();return e+(this.isRed()?0:1)}}]),e}();Gh.EMPTY=null,Gh.RED=!0,Gh.BLACK=!1,Gh.EMPTY=new(function(){function e(){d(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw hf()}},{key:"value",get:function(){throw hf()}},{key:"color",get:function(){throw hf()}},{key:"left",get:function(){throw hf()}},{key:"right",get:function(){throw hf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Gh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Qh=function(){function e(t){d(this,e),this.comparator=t,this.data=new Hh(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Yh(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Yh(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Yh=function(){function e(t){d(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function $h(e){return e.hasNext()?e.getNext():void 0}var Xh=function(){function e(t){d(this,e),this.fields=t,t.sort(Mf.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Qh(Mf.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=I(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Of(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Jh=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(E(Error));var Zh=function(e){function t(e){d(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Jh("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Zh.EMPTY_BYTE_STRING=new Zh("");var ed=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function td(e){if(df(!!e),"string"==typeof e){var t=0,n=ed.exec(e);if(df(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nd(e.seconds),nanos:nd(e.nanos)}}function nd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rd(e){return"string"==typeof e?Zh.fromBase64String(e):Zh.fromUint8Array(e)}function id(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ad(e){var t=e.mapValue.fields.__previous_value__;return id(t)?ad(t):t}function od(e){var t=td(e.mapValue.fields.__local_write_time__.timestampValue);return new Af(t.seconds,t.nanos)}var sd=y((function e(t,n,r,i,a,o,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),ud=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ld={nullValue:"NULL_VALUE"};function fd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?id(e)?4:Ed(e)?9007199254740991:10:hf()}function hd(e,t){if(e===t)return!0;var n=fd(e);if(n!==fd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return od(e).isEqual(od(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=td(e.timestampValue),r=td(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rd(e.bytesValue).isEqual(rd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nd(e.geoPointValue.latitude)===nd(t.geoPointValue.latitude)&&nd(e.geoPointValue.longitude)===nd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nd(e.integerValue)===nd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=nd(e.doubleValue),r=nd(t.doubleValue);return n===r?fh(n)===fh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Of(e.arrayValue.values||[],t.arrayValue.values||[],hd);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bh(n)!==Bh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hd(n[i],r[i])))return!1;return!0}(e,t);default:return hf()}}function dd(e,t){return void 0!==(e.values||[]).find((function(e){return hd(e,t)}))}function pd(e,t){if(e===t)return 0;var n=fd(e),r=fd(t);if(n!==r)return Cf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=nd(e.integerValue||e.doubleValue),r=nd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vd(e.timestampValue,t.timestampValue);case 4:return vd(od(e),od(t));case 5:return Cf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=rd(e),r=rd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Cf(n[i],r[i]);if(0!==a)return a}return Cf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cf(nd(e.latitude),nd(t.latitude));return 0!==n?n:Cf(nd(e.longitude),nd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pd(n[i],r[i]);if(a)return a}return Cf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===cd.mapValue&&t===cd.mapValue)return 0;if(e===cd.mapValue)return 1;if(t===cd.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Cf(r[o],a[o]);if(0!==s)return s;var u=pd(n[r[o]],i[a[o]]);if(0!==u)return u}return Cf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw hf()}}function vd(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cf(e,t);var n=td(e),r=td(t),i=Cf(n.seconds,r.seconds);return 0!==i?i:Cf(n.nanos,r.nanos)}function md(e){return yd(e)}function yd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=td(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return rd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return jf.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yd(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yd(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):hf()}function gd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function bd(e){return!!e&&"integerValue"in e}function kd(e){return!!e&&"arrayValue"in e}function wd(e){return!!e&&"nullValue"in e}function _d(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xd(e){return!!e&&"mapValue"in e}function Sd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sd(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sd(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ed(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Td(e){return"nullValue"in e?ld:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?gd(ud.empty(),jf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:hf()}function Id(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?gd(ud.empty(),jf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?cd:hf()}function Cd(e,t){var n=pd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Od(e,t){var n=pd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Pd=function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xd(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sd(t)}},{key:"setAll",value:function(e){var t=this,n=Mf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sd(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return hd(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){qh(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Sd(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ad(e){var t=[];return qh(e.fields,(function(e,n){var r=new Mf([e]);if(xd(n)){var i=Ad(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Xh(t)}var Nd=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Nf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pd.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pd.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Nf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nf.min(),Nf.min(),Nf.min(),Pd.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Nf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nf.min(),Nf.min(),Pd.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nf.min(),Nf.min(),Pd.empty(),2)}}]),e}(),Rd=y((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function Dd(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jf.comparator(jf.fromName(o.referenceValue),n.key):pd(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ld(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hd(e.position[n],t.position[n]))return!1;return!0}var Md=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function jd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Fd=y((function e(){d(this,e)})),Ud=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pd(t,this.value)):null!==t&&fd(this.value)===fd(t)&&this.matchesComparison(pd(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Yd(e,t,r):"array-contains"===t?new Zd(e,r):"in"===t?new ep(e,r):"not-in"===t?new tp(e,r):"array-contains-any"===t?new np(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new $d(e,n):new Xd(e,n)}}]),n}(Fd),zd=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return y(n,[{key:"matches",value:function(e){return Vd(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Fd);function Vd(e){return"and"===e.op}function Bd(e){return"or"===e.op}function qd(e){return Wd(e)&&Vd(e)}function Wd(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof zd)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Hd(e){if(e instanceof Ud)return e.field.canonicalString()+e.op.toString()+md(e.value);if(qd(e))return e.filters.map((function(e){return Hd(e)})).join(",");var t=e.filters.map((function(e){return Hd(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Kd(e,t){return e instanceof Ud?function(e,t){return t instanceof Ud&&e.op===t.op&&e.field.isEqual(t.field)&&hd(e.value,t.value)}(e,t):e instanceof zd?function(e,t){return t instanceof zd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Kd(n,t.filters[r])}),!0)}(e,t):void hf()}function Gd(e,t){var n=e.filters.concat(t);return zd.create(n,e.op)}function Qd(e){return e instanceof Ud?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(md(e.value))}(e):e instanceof zd?function(e){return e.op.toString()+" {"+e.getFilters().map(Qd).join(" ,")+"}"}(e):"Filter"}var Yd=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=jf.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=jf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ud),$d=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Jd("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ud),Xd=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Jd("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ud);function Jd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jf.fromName(e.referenceValue)}))}var Zd=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return kd(t)&&dd(t.arrayValue,this.value)}}]),n}(Ud),ep=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&dd(this.value.arrayValue,t)}}]),n}(Ud),tp=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!dd(this.value.arrayValue,t)}}]),n}(Ud),np=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return dd(t.value.arrayValue,e)}))}}]),n}(Ud),rp=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function ip(e){return new rp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ap(e){var t=pf(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Hd(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),lh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return md(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return md(e)})).join(",")),t.ce=n}return t.ce}function op(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Kd(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ld(e.startAt,t.startAt)&&Ld(e.endAt,t.endAt)}function sp(e){return jf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function up(e,t){return e.filters.filter((function(e){return e instanceof Ud&&e.field.isEqual(t)}))}function cp(e,t,n){var r,i=ld,a=!0,o=I(up(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=ld,c=!0;switch(s.op){case"<":case"<=":u=Td(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=ld}Cd({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Cd({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function lp(e,t,n){var r,i=cd,a=!0,o=I(up(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=cd,c=!0;switch(s.op){case">=":case">":u=Id(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=cd}Od({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Od({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var fp=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function hp(e,t,n,r,i,a,o,s){return new fp(e,t,n,r,i,a,o,s)}function dp(e){return new fp(e)}function pp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vp(e){return null!==e.collectionGroup}function mp(e){var t=pf(e);if(null===t.le){t.le=[];var n,r=new Set,i=I(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Qh(Mf.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new Md(e,o))})),r.has(Mf.keyField().canonicalString())||t.le.push(new Md(Mf.keyField(),o))}return t.le}function yp(e){var t=pf(e);return t.he||(t.he=gp(t,mp(e))),t.he}function gp(e,t){if("F"===e.limitType)return ip(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Md(e.field,t)}));var n=e.endAt?new Rd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rd(e.startAt.position,e.startAt.inclusive):null;return ip(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function bp(e,t){var n=e.filters.concat([t]);return new fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function kp(e,t,n){return new fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wp(e,t){return op(yp(e),yp(t))&&e.limitType===t.limitType}function _p(e){return"".concat(ap(yp(e)),"|lt:").concat(e.limitType)}function xp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Qd(e)})).join(", "),"]")),lh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return md(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return md(e)})).join(",")),"Target(".concat(t,")")}(yp(e)),"; limitType=").concat(e.limitType,")")}function Sp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(mp(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Dd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mp(e),t))&&!(e.endAt&&!function(e,t,n){var r=Dd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mp(e),t))}(e,t)}function Ep(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Tp(e){return function(t,n){var r,i=!1,a=I(mp(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Ip(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Ip(e,t,n){var r=e.field.isKeyField()?jf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pd(r,i):hf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hf()}}var Cp=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){qh(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Op=new Hh(jf.comparator);function Pp(){return Op}var Ap=new Hh(jf.comparator);function Np(){for(var e=Ap,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rp(e){var t=Ap;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Dp(){return Mp()}function Lp(){return Mp()}function Mp(){return new Cp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jp=new Hh(jf.comparator),Fp=new Qh(jf.comparator);function Up(){for(var e=Fp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zp=new Qh(Cf);function Vp(){return zp}function Bp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(t)?"-0":t}}function qp(e){return{integerValue:""+e}}function Wp(e,t){return hh(t)?qp(t):Bp(e,t)}var Hp=y((function e(){d(this,e),this._=void 0}));function Kp(e,t,n){return e instanceof Yp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&id(t)&&(t=ad(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof $p?Xp(e,t):e instanceof Jp?Zp(e,t):function(e,t){var n=Qp(e,t),r=tv(n)+tv(e.Ie);return bd(n)&&bd(e.Ie)?qp(r):Bp(e.serializer,r)}(e,t)}function Gp(e,t,n){return e instanceof $p?Xp(e,t):e instanceof Jp?Zp(e,t):n}function Qp(e,t){return e instanceof ev?function(e){return bd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Yp=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(Hp),$p=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Hp);function Xp(e,t){var n,r=nv(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return hd(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Jp=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return y(n)}(Hp);function Zp(e,t){var n,r=nv(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!hd(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ev=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return y(n)}(Hp);function tv(e){return nd(e.integerValue||e.doubleValue)}function nv(e){return kd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var rv=y((function e(t,n){d(this,e),this.field=t,this.transform=n}));var iv=y((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),av=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ov(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var sv=y((function e(){d(this,e)}));function uv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kv(e.key,av.none()):new dv(e.key,e.data,av.none());var n,r=e.data,i=Pd.empty(),a=new Qh(Mf.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new pv(e.key,i,new Xh(a.toArray()),av.none())}function cv(e,t,n){e instanceof dv?function(e,t,n){var r=e.value.clone(),i=mv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pv?function(e,t,n){if(ov(e.precondition,t)){var r=mv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(vv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lv(e,t,n,r){return e instanceof dv?function(e,t,n,r){if(!ov(e.precondition,t))return n;var i=e.value.clone(),a=yv(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pv?function(e,t,n,r){if(!ov(e.precondition,t))return n;var i=yv(e.fieldTransforms,r,t),a=t.data;return a.setAll(vv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ov(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function fv(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Qp(a.transform,o||null);null!=s&&(null===r&&(r=Pd.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function hv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Of(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $p&&t instanceof $p||e instanceof Jp&&t instanceof Jp?Of(e.elements,t.elements,hd):e instanceof ev&&t instanceof ev?hd(e.Ie,t.Ie):e instanceof Yp&&t instanceof Yp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var dv=function(e){b(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sv),pv=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(sv);function vv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function mv(e,t,n){var r=new Map;df(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Gp(o,s,n[i]))}return r}function yv(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Kp(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var gv,bv,kv=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sv),wv=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(sv),_v=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=lv(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=lv(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Lp();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=uv(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Up())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Of(this.mutations,e.mutations,(function(e,t){return hv(e,t)}))&&Of(this.baseMutations,e.baseMutations,(function(e,t){return hv(e,t)}))}}]),e}(),xv=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){df(t.mutations.length===r.length);for(var i=jp,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Sv=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ev=y((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function Tv(e){switch(e){default:return hf();case vf.CANCELLED:case vf.UNKNOWN:case vf.DEADLINE_EXCEEDED:case vf.RESOURCE_EXHAUSTED:case vf.INTERNAL:case vf.UNAVAILABLE:case vf.UNAUTHENTICATED:return!1;case vf.INVALID_ARGUMENT:case vf.NOT_FOUND:case vf.ALREADY_EXISTS:case vf.PERMISSION_DENIED:case vf.FAILED_PRECONDITION:case vf.ABORTED:case vf.OUT_OF_RANGE:case vf.UNIMPLEMENTED:case vf.DATA_LOSS:return!0}}function Iv(e){if(void 0===e)return cf("GRPC error has no .code"),vf.UNKNOWN;switch(e){case gv.OK:return vf.OK;case gv.CANCELLED:return vf.CANCELLED;case gv.UNKNOWN:return vf.UNKNOWN;case gv.DEADLINE_EXCEEDED:return vf.DEADLINE_EXCEEDED;case gv.RESOURCE_EXHAUSTED:return vf.RESOURCE_EXHAUSTED;case gv.INTERNAL:return vf.INTERNAL;case gv.UNAVAILABLE:return vf.UNAVAILABLE;case gv.UNAUTHENTICATED:return vf.UNAUTHENTICATED;case gv.INVALID_ARGUMENT:return vf.INVALID_ARGUMENT;case gv.NOT_FOUND:return vf.NOT_FOUND;case gv.ALREADY_EXISTS:return vf.ALREADY_EXISTS;case gv.PERMISSION_DENIED:return vf.PERMISSION_DENIED;case gv.FAILED_PRECONDITION:return vf.FAILED_PRECONDITION;case gv.ABORTED:return vf.ABORTED;case gv.OUT_OF_RANGE:return vf.OUT_OF_RANGE;case gv.UNIMPLEMENTED:return vf.UNIMPLEMENTED;case gv.DATA_LOSS:return vf.DATA_LOSS;default:return hf()}}(bv=gv||(gv={}))[bv.OK=0]="OK",bv[bv.CANCELLED=1]="CANCELLED",bv[bv.UNKNOWN=2]="UNKNOWN",bv[bv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bv[bv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bv[bv.NOT_FOUND=5]="NOT_FOUND",bv[bv.ALREADY_EXISTS=6]="ALREADY_EXISTS",bv[bv.PERMISSION_DENIED=7]="PERMISSION_DENIED",bv[bv.UNAUTHENTICATED=16]="UNAUTHENTICATED",bv[bv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bv[bv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bv[bv.ABORTED=10]="ABORTED",bv[bv.OUT_OF_RANGE=11]="OUT_OF_RANGE",bv[bv.UNIMPLEMENTED=12]="UNIMPLEMENTED",bv[bv.INTERNAL=13]="INTERNAL",bv[bv.UNAVAILABLE=14]="UNAVAILABLE",bv[bv.DATA_LOSS=15]="DATA_LOSS";var Cv=null;function Ov(){return new TextEncoder}var Pv=new tf([4294967295,4294967295],0);function Av(e){var t=Ov().encode(e),n=new ef;return n.update(t),new Uint8Array(n.digest())}function Nv(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new tf([n,r],0),new tf([i,a],0)]}var Rv=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dv("Invalid padding: ".concat(n));if(r<0)throw new Dv("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Dv("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Dv("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=tf.fromNumber(this.Te)}return y(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(tf.fromNumber(n)));return 1===r.compare(Pv)&&(r=new tf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=l(Nv(Av(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=l(Nv(Av(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Dv=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return y(n)}(E(Error)),Lv=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Mv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Nf.min(),i,new Hh(Cf),Pp(),Up())}}]),e}(),Mv=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Up(),Up(),Up())}}]),e}(),jv=y((function e(t,n,r,i){d(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),Fv=y((function e(t,n){d(this,e),this.targetId=t,this.fe=n})),Uv=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zv=function(){function e(){d(this,e),this.ge=0,this.pe=qv(),this.ye=Zh.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return y(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=Up(),t=Up(),n=Up();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hf()}})),new Mv(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=qv()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,df(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),Vv=function(){function e(t){d(this,e),this.Le=t,this.ke=new Map,this.qe=Pp(),this.Qe=Bv(),this.Ke=new Hh(Cf)}return y(e,[{key:"$e",value:function(e){var t,n=I(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:hf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(sp(i))if(0===n){var a=new jf(i.path);this.We(t,a,Nd.newNoDocument(a,Nf.min()))}else df(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,c)}null==Cv||Cv.tt(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.fe,this.Le.nt(),s,u))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=rd(o).toUint8Array()}catch(e){if(e instanceof Jh)return lf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Rv(n,u,l)}catch(e){return lf(e instanceof Dv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&sp(a.target)){var o=new jf(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,Nd.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=Up();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new Lv(e,n,this.Ke,this.qe,r);return this.qe=Pp(),this.Qe=Bv(),this.Ke=new Hh(Cf),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new zv,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Qh(Cf),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||uf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new zv),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function Bv(){return new Hh(jf.comparator)}function qv(){return new Hh(jf.comparator)}var Wv={asc:"ASCENDING",desc:"DESCENDING"},Hv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kv={and:"AND",or:"OR"},Gv=y((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function Qv(e,t){return e.useProto3Json||lh(t)?t:{value:t}}function Yv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $v(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xv(e,t){return Yv(e,t.toTimestamp())}function Jv(e){return df(!!e),Nf.fromTimestamp(function(e){var t=td(e);return new Af(t.seconds,t.nanos)}(e))}function Zv(e,t){return function(e){return new Df(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function em(e){var t=Df.fromString(e);return df(xm(t)),t}function tm(e,t){return Zv(e.databaseId,t.path)}function nm(e,t){var n=em(t);if(n.get(1)!==e.databaseId.projectId)throw new mf(vf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mf(vf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jf(om(n))}function rm(e,t){return Zv(e.databaseId,t)}function im(e){var t=em(e);return 4===t.length?Df.emptyPath():om(t)}function am(e){return new Df(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function om(e){return df(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sm(e,t,n){return{name:tm(e,t),fields:n.value.mapValue.fields}}function um(e,t,n){var r=nm(e,t.name),i=Jv(t.updateTime),a=t.createTime?Jv(t.createTime):Nf.min(),o=new Pd({mapValue:{fields:t.fields}}),s=Nd.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function cm(e,t){return"found"in t?function(e,t){df(!!t.found),t.found.name,t.found.updateTime;var n=nm(e,t.found.name),r=Jv(t.found.updateTime),i=t.found.createTime?Jv(t.found.createTime):Nf.min(),a=new Pd({mapValue:{fields:t.found.fields}});return Nd.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){df(!!t.missing),df(!!t.readTime);var n=nm(e,t.missing),r=Jv(t.readTime);return Nd.newNoDocument(n,r)}(e,t):hf()}function lm(e,t){var n;if(t instanceof dv)n={update:sm(e,t.key,t.value)};else if(t instanceof kv)n={delete:tm(e,t.key)};else if(t instanceof pv)n={update:sm(e,t.key,t.data),updateMask:_m(t.fieldMask)};else{if(!(t instanceof wv))return hf();n={verify:tm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Yp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $p)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ev)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw hf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hf()}(e,t.precondition)),n}function fm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?av.updateTime(Jv(e.updateTime)):void 0!==e.exists?av.exists(e.exists):av.none()}(t.currentDocument):av.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)df("REQUEST_TIME"===t.setToServerValue),n=new Yp;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new $p(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Jp(i)}else"increment"in t?n=new ev(e,t.increment):hf();var a=Mf.fromServerFormat(t.fieldPath);return new rv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=nm(e,t.update.name),a=new Pd({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Xh(t.map((function(e){return Mf.fromServerFormat(e)})))}(t.updateMask);return new pv(i,a,o,n,r)}return new dv(i,a,n,r)}if(t.delete){var s=nm(e,t.delete);return new kv(s,n)}if(t.verify){var u=nm(e,t.verify);return new wv(u,n)}return hf()}function hm(e,t){return{documents:[rm(e,t.path)]}}function dm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=rm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=rm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return wm(zd.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:bm(e.field),direction:mm(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Qv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function pm(e){var t=im(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){df(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=vm(e);return t instanceof zd&&qd(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new Md(km(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return lh(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Rd(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Rd(n,t)}(n.endAt)),hp(t,i,s,o,u,"F",c,l)}function vm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=km(e.unaryFilter.field);return Ud.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=km(e.unaryFilter.field);return Ud.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=km(e.unaryFilter.field);return Ud.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=km(e.unaryFilter.field);return Ud.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hf()}}(e):void 0!==e.fieldFilter?function(e){return Ud.create(km(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zd.create(e.compositeFilter.filters.map((function(e){return vm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hf()}}(e.compositeFilter.op))}(e):hf()}function mm(e){return Wv[e]}function ym(e){return Hv[e]}function gm(e){return Kv[e]}function bm(e){return{fieldPath:e.canonicalString()}}function km(e){return Mf.fromServerFormat(e.fieldPath)}function wm(e){return e instanceof Ud?function(e){if("=="===e.op){if(_d(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NAN"}};if(wd(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_d(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NOT_NAN"}};if(wd(e.value))return{unaryFilter:{field:bm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bm(e.field),op:ym(e.op),value:e.value}}}(e):e instanceof zd?function(e){var t=e.getFilters().map((function(e){return wm(e)}));return 1===t.length?t[0]:{compositeFilter:{op:gm(e.op),filters:t}}}(e):hf()}function _m(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Sm=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zh.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Em=y((function e(t){d(this,e),this.ut=t}));function Tm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Im(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:tm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yv(e,t.version.toTimestamp()),createTime:Yv(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cm(t.version)};else{if(!t.isUnknownDocument())return hf();r.unknownDocument={path:n.path.toArray(),version:Cm(t.version)}}return r}function Im(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Om(e){var t=new Af(e.seconds,e.nanoseconds);return Nf.fromTimestamp(t)}function Pm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return fm(e.ut,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return fm(e.ut,t)})),s=Af.fromMillis(t.localWriteTimeMs);return new _v(t.batchId,s,n,o)}function Am(e){var t,n=Om(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Om(e.lastLimboFreeSnapshotVersion):Nf.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return df(1===e.documents.length),yp(dp(im(e.documents[0])))}(e.query):function(e){return yp(pm(e))}(e.query),new Sm(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Zh.fromBase64String(e.resumeToken))}function Nm(e,t){var n,r=Cm(t.snapshotVersion),i=Cm(t.lastLimboFreeSnapshotVersion);n=sp(t.target)?hm(e.ut,t.target):dm(e.ut,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ap(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Rm(e){var t=pm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kp(t,t.limit,"L"):t}function Dm(e,t){return new Sv(t.largestBatchId,fm(e.ut,t.overlayMutation))}function Lm(e,t){var n=t.path.lastSegment();return[e,dh(t.path.popLast()),n]}function Mm(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cm(r.readTime),documentKey:dh(r.documentKey.path),largestBatchId:r.largestBatchId}}var jm=function(){function e(){d(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Fm(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Om(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Fm(e).put(function(e){return{bundleId:e.id,createTime:Cm(Jv(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Um(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Rm(e.bundledQuery),readTime:Om(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Um(e).put(function(e){return{name:e.name,readTime:Cm(Jv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fm(e){return Vh(e,"bundles")}function Um(e){return Vh(e,"namedQueries")}var zm=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Vm(e).get(Lm(this.userId,t)).next((function(e){return e?Dm(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dp();return Xf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Sv(t,a);i.push(r.lt(e,o))})),Xf.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(dh(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Vm(e).H("collectionPathOverlayIndex",i))})),Xf.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Dp(),a=dh(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vm(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Dm(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Dp(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vm(e).Y({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Dm(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"lt",value:function(e,t){return Vm(e).put(function(e,t,n){var r=l(Lm(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:lm(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"ct",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Vm(e){return Vh(e,"documentOverlays")}var Bm=function(){function e(){d(this,e)}return y(e,[{key:"ht",value:function(e,t){this.Pt(e,t),t.It()}},{key:"Pt",value:function(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(nd(e.integerValue));else if("doubleValue"in e){var n=nd(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),fh(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt("".concat(r.seconds||"")),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(rd(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?Ed(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):hf()}},{key:"At",value:function(e,t){this.Tt(t,25),this.wt(e,t)}},{key:"wt",value:function(e,t){t.dt(e)}},{key:"gt",value:function(e,t){var n=e.fields||{};this.Tt(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.At(a,t),this.Pt(n[a],t)}}},{key:"yt",value:function(e,t){var n=e.values||[];this.Tt(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Pt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ft",value:function(e,t){var n=this;this.Tt(t,37),jf.fromName(e).path.forEach((function(e){n.Tt(t,60),n.wt(e,t)}))}},{key:"Tt",value:function(e,t){e.Et(t)}},{key:"Rt",value:function(e){e.Et(2)}}]),e}();function qm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Wm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=qm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Bm.St=new Bm;var Hm=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"bt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Dt(n.value),n=t.next();this.Ct()}},{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{var a=r.codePointAt(0);this.Dt(240|a>>>18),this.Dt(128|63&a>>>12),this.Dt(128|63&a>>>6),this.Dt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Ot",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Nt",value:function(e){var t=this.Bt(e),n=Wm(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"kt",value:function(e){var t=this.Bt(e),n=Wm(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qt",value:function(){this.Qt(255),this.Qt(255)}},{key:"Kt",value:function(){this.$t(255),this.$t(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ut",value:function(){return this.buffer.slice(0,this.position)}},{key:"Bt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Dt",value:function(e){var t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}},{key:"Ct",value:function(){this.Qt(0),this.Qt(1)}},{key:"Mt",value:function(){this.$t(0),this.$t(1)}},{key:"Qt",value:function(e){this.Lt(1),this.buffer[this.position++]=e}},{key:"$t",value:function(e){this.Lt(1),this.buffer[this.position++]=~e}},{key:"Lt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Km=function(){function e(t){d(this,e),this.Wt=t}return y(e,[{key:"Vt",value:function(e){this.Wt.bt(e)}},{key:"dt",value:function(e){this.Wt.xt(e)}},{key:"Et",value:function(e){this.Wt.Nt(e)}},{key:"It",value:function(){this.Wt.qt()}}]),e}(),Gm=function(){function e(t){d(this,e),this.Wt=t}return y(e,[{key:"Vt",value:function(e){this.Wt.vt(e)}},{key:"dt",value:function(e){this.Wt.Ot(e)}},{key:"Et",value:function(e){this.Wt.kt(e)}},{key:"It",value:function(){this.Wt.Kt()}}]),e}(),Qm=function(){function e(){d(this,e),this.Wt=new Hm,this.Gt=new Km(this.Wt),this.zt=new Gm(this.Wt)}return y(e,[{key:"seed",value:function(e){this.Wt.seed(e)}},{key:"jt",value:function(e){return 0===e?this.Gt:this.zt}},{key:"Ut",value:function(){return this.Wt.Ut()}},{key:"reset",value:function(){this.Wt.reset()}}]),e}(),Ym=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Ht",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $m(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Xm(e.arrayValue,t.arrayValue))?n:0!==(n=Xm(e.directionalValue,t.directionalValue))?n:jf.comparator(e.documentKey,t.documentKey)}function Xm(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Jm=function(){function e(t){d(this,e),this.Jt=new Qh((function(e,t){return Mf.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"Xt",get:function(){return this.Jt.size>1}},{key:"en",value:function(e){if(df(e.collectionGroup===this.collectionId),this.Xt)return!1;var t=Uf(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=zf(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){var o=this.Jt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var s=n[i];if(!this.nn(o,s)||!this.rn(this.Yt[a++],s))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"sn",value:function(){if(this.Xt)return null;var e,t=new Qh(Mf.comparator),n=[],r=I(this.Zt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new Vf(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new Vf(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=I(this.Yt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new Vf(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new Ff(Ff.UNKNOWN_ID,this.collectionId,n,Bf.empty())}},{key:"tn",value:function(e){var t,n=I(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Zm(e){var t,n;if(df(e instanceof Ud||e instanceof zd),e instanceof Ud){if(e instanceof ep){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ud.create(e.field,"==",t)})))||[];return zd.create(r,"or")}return e}var i=e.filters.map((function(e){return Zm(e)}));return zd.create(i,e.op)}function ey(e){if(0===e.getFilters().length)return[];var t=iy(Zm(e));return df(ry(t)),ty(t)||ny(t)?[t]:t.getFilters()}function ty(e){return e instanceof Ud}function ny(e){return e instanceof zd&&qd(e)}function ry(e){return ty(e)||ny(e)||function(e){if(e instanceof zd&&Bd(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ty(r)&&!ny(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function iy(e){if(df(e instanceof Ud||e instanceof zd),e instanceof Ud)return e;if(1===e.filters.length)return iy(e.filters[0]);var t=e.filters.map((function(e){return iy(e)})),n=zd.create(t,e.op);return ry(n=sy(n))?n:(df(n instanceof zd),df(Vd(n)),df(n.filters.length>1),n.filters.reduce((function(e,t){return ay(e,t)})))}function ay(e,t){var n;return df(e instanceof Ud||e instanceof zd),df(t instanceof Ud||t instanceof zd),n=e instanceof Ud?t instanceof Ud?function(e,t){return zd.create([e,t],"and")}(e,t):oy(e,t):t instanceof Ud?oy(t,e):function(e,t){if(df(e.filters.length>0&&t.filters.length>0),Vd(e)&&Vd(t))return Gd(e,t.getFilters());var n=Bd(e)?e:t,r=Bd(e)?t:e,i=n.filters.map((function(e){return ay(e,r)}));return zd.create(i,"or")}(e,t),sy(n)}function oy(e,t){if(Vd(t))return Gd(t,e.getFilters());var n=t.filters.map((function(t){return ay(e,t)}));return zd.create(n,"or")}function sy(e){if(df(e instanceof Ud||e instanceof zd),e instanceof Ud)return e;var t=e.getFilters();if(1===t.length)return sy(t[0]);if(Wd(e))return e;var n=t.map((function(e){return sy(e)})),r=[];return n.forEach((function(t){t instanceof Ud?r.push(t):t instanceof zd&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:zd.create(r,e.op)}var uy=function(){function e(){d(this,e),this.on=new cy}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.on.add(t),Xf.resolve()}},{key:"getCollectionParents",value:function(e,t){return Xf.resolve(this.on.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Xf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Xf.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Xf.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Xf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Xf.resolve(null)}},{key:"getIndexType",value:function(e,t){return Xf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Xf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Xf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Xf.resolve(Hf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Xf.resolve(Hf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Xf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Xf.resolve()}}]),e}(),cy=function(){function e(){d(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qh(Df.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Qh(Df.comparator)).toArray()}}]),e}(),ly=new Uint8Array(0),fy=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this._n=new cy,this.an=new Cp((function(e){return ap(e)}),(function(e,t){return op(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this._n.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n._n.add(t)}));var a={collectionId:r,parent:dh(i)};return hy(e).put(a)}return Xf.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pf(t),""],!1,!0);return hy(e).W(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(mh(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=py(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vy(e);return a.next((function(e){o.put(Mm(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=py(e),r=vy(e),i=dy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=py(e),n=dy(e),r=vy(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Xf.forEach(this.un(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Jm(t).sn();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=dy(e),i=!0,a=new Map;return Xf.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Up(),o=[];return Xf.forEach(a,(function(i,a){uf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(ap(t)));var s=function(e,t){var n=Uf(t);if(void 0===n)return null;var r,i=I(up(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=I(zf(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=I(up(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=I(zf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?cp(e,o.fieldPath,e.startAt):lp(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Rd(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=I(zf(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?lp(e,o.fieldPath,e.endAt):cp(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Rd(r,i)}(a,i),f=n.ln(i,a,c),h=n.ln(i,a,l),d=n.hn(i,a,u),p=n.Pn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Xf.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=jf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Xf.resolve(null)}))}},{key:"un",value:function(e){var t=this.an.get(e);return t||(t=0===e.filters.length?[e]:ey(zd.create(e.filters,"and")).map((function(t){return ip(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.an.set(e,t),t)}},{key:"Pn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.In(t[d/c]):ly,f=s.Tn(e,u,n[d%c],r),p=s.En(e,u,i[d%c],a),v=o.map((function(t){return s.Tn(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"Tn",value:function(e,t,n,r){var i=new Ym(e,jf.empty(),t,n);return r?i:i.Ht()}},{key:"En",value:function(e,t,n,r){var i=new Ym(e,jf.empty(),t,n);return r?i.Ht():i}},{key:"cn",value:function(e,t){var n=new Jm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Xf.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Qh(Mf.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=I(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=I(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"dn",value:function(e,t){var n,r=new Qm,i=I(zf(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.jt(a.kind);Bm.St.ht(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ut()}},{key:"In",value:function(e){var t=new Qm;return Bm.St.ht(e,t.jt(0)),t.Ut()}},{key:"An",value:function(e,t){var n=new Qm;return Bm.St.ht(gd(this.databaseId,t),n.jt(function(e){var t=zf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qm);var i,a=0,o=I(zf(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=I(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.Rn(t,u.fieldPath)&&kd(c))r=this.Vn(r,u,c);else{var h=f.jt(u.kind);Bm.St.ht(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.mn(r)}},{key:"ln",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"mn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ut();return t}},{key:"Vn",value:function(e,t,n){var r,i=h(e),a=[],o=I(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=I(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Qm;f.seed(l.Ut()),Bm.St.ht(u,f.jt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"Rn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ud&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=py(e),i=vy(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Xf.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Bf(t.sequenceNumber,new Hf(Om(t.readTime),new jf(mh(t.documentKey)),t.largestBatchId)):Bf.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Vf(Mf.fromServerFormat(n),r)}));return new Ff(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Cf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=py(e),a=vy(e);return this.fn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Xf.forEach(t,(function(t){return a.put(Mm(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Xf.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Xf.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Xf.forEach(a,(function(r){return n.gn(e,t,r).next((function(t){var a=n.pn(i,r);return t.isEqual(a)?Xf.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return dy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Sn",value:function(e,t,n,r){return dy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}},{key:"gn",value:function(e,t,n){var r=dy(e),i=new Qh($m);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},(function(e,r){i=i.add(new Ym(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"pn",value:function(e,t){var n=new Qh($m),r=this.dn(t,e);if(null==r)return n;var i=Uf(t);if(null!=i){var a=e.data.field(i.fieldPath);if(kd(a)){var o,s=I(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Ym(t.indexId,e.key,this.In(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Ym(t.indexId,e.key,ly,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;uf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=$h(a),u=$h(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=$h(o)):l?(i(s),s=$h(a)):(s=$h(a),u=$h(o))}}(r,i,$m,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.Sn(e,t,n,r))})),Xf.waitFor(o)}},{key:"fn",value:function(e){var t=1;return vy(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $m(e,t)})).filter((function(e,t,n){return!t||0!==$m(e,n[t-1])}));var r=[];r.push(e);var i,a=I(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=$m(o,e),u=$m(o,t);if(0===s)r[0]=e.Ht();else if(s>0&&u<0)r.push(o),r.push(o.Ht());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ly,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ly,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return $m(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(my)}},{key:"getMinOffset",value:function(e,t){var n=this;return Xf.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||hf()}))})).next(my)}}]),e}();function hy(e){return Vh(e,"collectionParents")}function dy(e){return Vh(e,"indexEntries")}function py(e){return Vh(e,"indexConfiguration")}function vy(e){return Vh(e,"indexState")}function my(e){df(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Kf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hf(t.readTime,t.documentKey,n)}var yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gy=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function by(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Y({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){df(1===s)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=bh(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Xf.waitFor(a).next((function(){return l}))}function ky(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hf();t=e.noDocument}return JSON.stringify(t).length}gy.DEFAULT_COLLECTION_PERCENTILE=10,gy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gy.DEFAULT=new gy(41943040,gy.DEFAULT_COLLECTION_PERCENTILE,gy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gy.DISABLED=new gy(-1,0,0);var wy=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xy(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Sy(e),o=xy(e);return o.add({}).next((function(s){df("number"==typeof s);var u,c=new _v(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return lm(e.ut,t)})),i=n.mutations.map((function(t){return lm(e.ut,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Qh((function(e,t){return Cf(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=bh(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,kh))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Dn[s]=c.keys()})),Xf.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return xy(e).get(t).next((function(e){return e?(df(e.userId===n.userId),Pm(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.Dn[t]?Xf.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Dn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return xy(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(df(t.batchId>=r),a=Pm(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xy(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xy(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Pm(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=gh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Sy(e).Y({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=mh(c);if(u===n.userId&&t.path.isEqual(h))return xy(e).get(f).next((function(e){if(!e)throw hf();df(e.userId===n.userId),a.push(Pm(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qh(Cf),i=[];return t.forEach((function(t){var a=gh(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Sy(e).Y({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=mh(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Xf.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=gh(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Qh(Cf);return Sy(e).Y({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=mh(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.vn(e,s)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(xy(e).get(t).next((function(e){if(null===e)throw hf();df(e.userId===n.userId),r.push(Pm(n.serializer,e))})))})),Xf.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return by(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Fn(t.batchId)})),Xf.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Fn",value:function(e){delete this.Dn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Xf.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Sy(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=mh(e[1]);i.push(a)}else r.done()})).next((function(){df(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return _y(e,this.userId,t)}},{key:"Mn",value:function(e){var t=this;return Ey(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ct",value:function(t,n,r,i){return df(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function _y(e,t,n){var r=gh(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Sy(e).Y({range:a,J:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function xy(e){return Vh(e,"mutations")}function Sy(e){return Vh(e,"documentMutations")}function Ey(e){return Vh(e,"mutationQueues")}var Ty=function(){function e(t){d(this,e),this.xn=t}return y(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"On",value:function(){return new e(0)}},{key:"Nn",value:function(){return new e(-1)}}]),e}(),Iy=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Bn(e).next((function(n){var r=new Ty(n.highestTargetId);return n.highestTargetId=r.next(),t.Ln(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Bn(e).next((function(e){return Nf.fromTimestamp(new Af(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ln(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.kn(e,t).next((function(){return n.Bn(e).next((function(r){return r.targetCount+=1,n.qn(t,r),n.Ln(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.kn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Cy(e).delete(t.targetId)})).next((function(){return n.Bn(e)})).next((function(t){return df(t.targetCount>0),t.targetCount-=1,n.Ln(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Cy(e).Y((function(o,s){var u=Am(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Xf.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Cy(e).Y((function(e,n){var r=Am(n);t(r)}))}},{key:"Bn",value:function(e){return Oy(e).get("targetGlobalKey").next((function(e){return df(null!==e),e}))}},{key:"Ln",value:function(e,t){return Oy(e).put("targetGlobalKey",t)}},{key:"kn",value:function(e,t){return Cy(e).put(Nm(this.serializer,t))}},{key:"qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ap(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Cy(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Am(n);op(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Py(e);return t.forEach((function(t){var o=dh(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Xf.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Py(e);return Xf.forEach(t,(function(t){var a=dh(t.path);return Xf.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Py(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Py(e),i=Up();return r.Y({range:n,J:!0},(function(e,t,n){var r=mh(e[1]),a=new jf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=dh(t.path),r=IDBKeyRange.bound([n],[Pf(n)],!1,!0),i=0;return Py(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return Cy(e).get(t).next((function(e){return e?Am(e):null}))}}]),e}();function Cy(e){return Vh(e,"targets")}function Oy(e){return Vh(e,"targetGlobal")}function Py(e){return Vh(e,"targetDocuments")}function Ay(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Cf(r,o);return 0===u?Cf(i,s):u}var Ny=function(){function e(t){d(this,e),this.Qn=t,this.buffer=new Qh(Ay),this.Kn=0}return y(e,[{key:"$n",value:function(){return++this.Kn}},{key:"Un",value:function(e){var t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ay(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ry=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Wn=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}},{key:"started",get:function(){return null!==this.Wn}},{key:"Gn",value:function(e){var t=this;uf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!nh(e.t0)){e.next=12;break}uf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Yf(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Dy=function(){function e(t,n){d(this,e),this.zn=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.zn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Xf.resolve(ch._e);var r=new Ny(t);return this.zn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.zn.Hn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.zn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.zn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(uf("LruGarbageCollector","Garbage collection skipped; disabled"),Xf.resolve(yy)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(uf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yy):n.Jn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.zn.getCacheSize(e)}},{key:"Jn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(uf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),sf()<=ua.DEBUG&&uf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Xf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Ly(e,t){return new Dy(e,t)}var My=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=Ly(this,n)}return y(e,[{key:"jn",value:function(e){var t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Yn",value:function(e){var t=0;return this.Hn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Hn",value:function(e,t){return this.Zn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jy(e,n)}},{key:"removeReference",value:function(e,t,n){return jy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jy(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Ey(e).Z((function(r){return _y(e,r,t).next((function(e){return e&&(n=!0),Xf.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Zn(e,(function(o,s){if(s<=t){var u=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nf.min()),Py(e).delete(function(e){return[0,dh(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Xf.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jy(e,t)}},{key:"Zn",value:function(e,t){var n,r=Py(e),i=ch._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==ch._e&&t(new jf(mh(n)),i),i=u,n=s):i=ch._e})).next((function(){i!==ch._e&&t(new jf(mh(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jy(e,t){return Py(e).put(function(e,t){return{targetId:0,path:dh(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Fy=function(){function e(){d(this,e),this.changes=new Cp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Nd.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Uy=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return qy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return qy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Im(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.er(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Nd.newInvalidDocument(t);return qy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Wy(t))},(function(e,i){r=n.tr(t,i)})).next((function(){return r}))}},{key:"nr",value:function(e,t){var n=this,r={size:0,document:Nd.newInvalidDocument(t)};return qy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Wy(t))},(function(e,i){r={document:n.tr(t,i),size:ky(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Pp();return this.rr(e,t,(function(e,t){var i=n.tr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r=Pp(),i=new Hh(jf.comparator);return this.rr(e,t,(function(e,t){var a=n.tr(e,t);r=r.insert(e,a),i=i.insert(e,ky(t))})).next((function(){return{documents:r,sr:i}}))}},{key:"rr",value:function(e,t,n){if(t.isEmpty())return Xf.resolve();var r=new Qh(Ky);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Wy(r.first()),Wy(r.last())),a=r.getIterator(),o=a.getNext();return qy(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=jf.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ky(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(Wy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Im(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qy(e).W(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=Pp(),s=I(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.tr(jf.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(Sp(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Pp(),o=Hy(t,n),s=Hy(t,Hf.max());return qy(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.tr(jf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Vy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return By(e).get("remoteDocumentGlobalKey").next((function(e){return df(!!e),e}))}},{key:"er",value:function(e,t){return By(e).put("remoteDocumentGlobalKey",t)}},{key:"tr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=um(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=jf.fromSegments(t.noDocument.path),i=Om(t.noDocument.readTime);n=Nd.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hf();var a=jf.fromSegments(t.unknownDocument.path),o=Om(t.unknownDocument.version);n=Nd.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Af(e[0],e[1]);return Nf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Nf.min()))return n}return Nd.newInvalidDocument(e)}}]),e}();function zy(e){return new Uy(e)}var Vy=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._r=e,i.trackRemovals=r,i.ar=new Cp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Qh((function(e,t){return Cf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.ar.get(a);if(n.push(t._r.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Tm(t._r.serializer,o);i=i.add(a.path.popLast());var c=ky(u);r+=c-s.size,n.push(t._r.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Tm(t._r.serializer,o.convertToNoDocument(Nf.min()));n.push(t._r.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t._r.indexManager.addToCollectionParentIndex(e,r))})),n.push(this._r.updateMetadata(e,r)),Xf.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this._r.nr(e,t).next((function(e){return n.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this._r.ir(e,t).next((function(e){var t=e.documents;return e.sr.forEach((function(e,r){n.ar.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Fy);function By(e){return Vh(e,"remoteDocumentGlobal")}function qy(e){return Vh(e,"remoteDocumentsV14")}function Wy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hy(e,t){var n=t.documentKey.path.toArray();return[e,Im(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ky(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Cf(n[a],r[a]))return i;return(i=Cf(n.length,r.length))||((i=Cf(n[n.length-2],r[r.length-2]))||Cf(n[n.length-1],r[r.length-1]))}var Gy=y((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Qy=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&lv(r.mutation,e,Xh.empty(),Af.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Up()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Up(),i=Dp();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Np();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Dp();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Up())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Pp(),a=Mp(),o=Mp();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof pv)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),lv(o.mutation,t,o.mutation.getFieldMask(),Af.now())):a.set(t.key,Xh.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Gy(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Mp(),i=new Hh((function(e,t){return e-t})),a=Up();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Xh.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Up()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Lp();c.forEach((function(e){if(!a.has(e)){var n=uv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Xf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return jf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Xf.resolve(Dp()),s=-1,u=a;return o.next((function(t){return Xf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Xf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Up())})).next((function(e){return{batchId:s,changes:Rp(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jf(t)).next((function(e){var t=Np();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=Np();return this.indexManager.getCollectionParents(e,a).next((function(s){return Xf.forEach(s,(function(s){var u=function(e,t){return new fp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Nd.newInvalidDocument(r)))}));var n=Np();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&lv(a.mutation,r,Xh.empty(),Af.now()),Sp(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),Yy=function(){function e(t){d(this,e),this.serializer=t,this.ur=new Map,this.cr=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Xf.resolve(this.ur.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jv(e.createTime)}}(t)),Xf.resolve()}},{key:"getNamedQuery",value:function(e,t){return Xf.resolve(this.cr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Rm(e.bundledQuery),readTime:Jv(e.readTime)}}(t)),Xf.resolve()}}]),e}(),$y=function(){function e(){d(this,e),this.overlays=new Hh(jf.comparator),this.lr=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return Xf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Dp();return Xf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.lt(e,t,i)})),Xf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.lr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.lr.delete(n)),Xf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Dp(),i=t.length+1,a=new jf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Xf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Hh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Dp(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Dp(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Xf.resolve(u)}},{key:"lt",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sv(t,n));var a=this.lr.get(t);void 0===a&&(a=Up(),this.lr.set(t,a)),this.lr.set(t,a.add(n.key))}}]),e}(),Xy=function(){function e(){d(this,e),this.hr=new Qh(Jy.Pr),this.Ir=new Qh(Jy.Tr)}return y(e,[{key:"isEmpty",value:function(){return this.hr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Jy(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}},{key:"Er",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.dr(new Jy(e,t))}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Rr",value:function(e){var t=this,n=new jf(new Df([])),r=new Jy(n,e),i=new Jy(n,e+1),a=[];return this.Ir.forEachInRange([r,i],(function(e){t.dr(e),a.push(e.key)})),a}},{key:"Vr",value:function(){var e=this;this.hr.forEach((function(t){return e.dr(t)}))}},{key:"dr",value:function(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}},{key:"mr",value:function(e){var t=new jf(new Df([])),n=new Jy(t,e),r=new Jy(t,e+1),i=Up();return this.Ir.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Jy(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Jy=function(){function e(t,n){d(this,e),this.key=t,this.gr=n}return y(e,null,[{key:"Pr",value:function(e,t){return jf.comparator(e.key,t.key)||Cf(e.gr,t.gr)}},{key:"Tr",value:function(e,t){return Cf(e.gr,t.gr)||jf.comparator(e.key,t.key)}}]),e}(),Zy=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Qh(Jy.Pr)}return y(e,[{key:"checkEmpty",value:function(e){return Xf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new _v(i,t,n,r);this.mutationQueue.push(a);var o,s=I(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.yr=this.yr.add(new Jy(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Xf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Xf.resolve(this.wr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Sr(n),i=r<0?0:r;return Xf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Xf.resolve(0===this.mutationQueue.length?-1:this.pr-1)}},{key:"getAllMutationBatches",value:function(e){return Xf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Jy(t,0),i=new Jy(t,Number.POSITIVE_INFINITY),a=[];return this.yr.forEachInRange([r,i],(function(e){var t=n.wr(e.gr);a.push(t)})),Xf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Qh(Cf);return t.forEach((function(e){var t=new Jy(e,0),i=new Jy(e,Number.POSITIVE_INFINITY);n.yr.forEachInRange([t,i],(function(e){r=r.add(e.gr)}))})),Xf.resolve(this.br(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jf.isDocumentKey(i)||(i=i.child(""));var a=new Jy(new jf(i),0),o=new Qh(Cf);return this.yr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),a),Xf.resolve(this.br(o))}},{key:"br",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.wr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;df(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.yr;return Xf.forEach(t.mutations,(function(i){var a=new Jy(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.yr=r}))}},{key:"Fn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Jy(t,0),r=this.yr.firstAfterOrEqual(n);return Xf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Xf.resolve()}},{key:"Dr",value:function(e,t){return this.Sr(e)}},{key:"Sr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"wr",value:function(e){var t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),eg=function(){function e(t){d(this,e),this.Cr=t,this.docs=new Hh(jf.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Xf.resolve(n?n.document.mutableCopy():Nd.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Pp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Nd.newInvalidDocument(e))})),Xf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Pp(),a=t.path,o=new jf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Kf(Wf(l),n)<=0||(r.has(l.key)||Sp(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Xf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){hf()}},{key:"vr",value:function(e,t){return Xf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new tg(this)}},{key:"getSize",value:function(e){return Xf.resolve(this.size)}}]),e}(),tg=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this))._r=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t._r.addEntry(e,i)):t._r.removeEntry(r)})),Xf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this._r.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this._r.getEntries(e,t)}}]),n}(Fy),ng=function(){function e(t){d(this,e),this.persistence=t,this.Fr=new Cp((function(e){return ap(e)}),op),this.lastRemoteSnapshotVersion=Nf.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Xy,this.targetCount=0,this.Nr=Ty.On()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.Fr.forEach((function(e,n){return t(n)})),Xf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Xf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Xf.resolve(this.Mr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Nr.next(),Xf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Xf.resolve()}},{key:"kn",value:function(e){this.Fr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ty(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.kn(t),this.targetCount+=1,Xf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.kn(t),Xf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Xf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Xf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Xf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fr.get(t)||null;return Xf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Or.Er(t,n),Xf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Or.Ar(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Or.Rr(t),Xf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Or.mr(t);return Xf.resolve(n)}},{key:"containsKey",value:function(e,t){return Xf.resolve(this.Or.containsKey(t))}}]),e}(),rg=function(){function e(t,n){var r=this;d(this,e),this.Br={},this.overlays={},this.Lr=new ch(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new ng(this),this.indexManager=new uy,this.remoteDocumentCache=function(e){return new eg(e)}((function(e){return r.referenceDelegate.Qr(e)})),this.serializer=new Em(n),this.Kr=new Yy(this.serializer)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.kr=!1,Promise.resolve()}},{key:"started",get:function(){return this.kr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new $y,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new Zy(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;uf("MemoryPersistence","Starting transaction:",e);var i=new ig(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((function(e){return r.referenceDelegate.Ur(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Wr",value:function(e,t){return Xf.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ig=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(Qf),ag=function(){function e(t){d(this,e),this.persistence=t,this.Gr=new Xy,this.zr=null}return y(e,[{key:"Hr",get:function(){if(this.zr)return this.zr;throw hf()}},{key:"addReference",value:function(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Xf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Xf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hr.add(t.toString()),Xf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gr.Rr(t.targetId).forEach((function(e){return n.Hr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"$r",value:function(){this.zr=new Set}},{key:"Ur",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xf.forEach(this.Hr,(function(r){var i=jf.fromPath(r);return t.Jr(e,i).next((function(e){e||n.removeEntry(i,Nf.min())}))})).next((function(){return t.zr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Jr(e,t).next((function(e){e?n.Hr.delete(t.toString()):n.Hr.add(t.toString())}))}},{key:"Qr",value:function(e){return 0}},{key:"Jr",value:function(e,t){var n=this;return Xf.or([function(){return Xf.resolve(n.Gr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Wr(e,t)}])}}],[{key:"jr",value:function(t){return new e(t)}}]),e}(),og=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new Jf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yh,{unique:!0}),e.createObjectStore("documentMutations")}(e),sg(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Xf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),sg(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yh,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Xf.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Zr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ei(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ni(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Nh});t.createIndex("collectionPathOverlayIndex",Rh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Dh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:wh});t.createIndex("documentKeyIndex",_h),t.createIndex("collectionGroupIndex",xh)}(e)})).next((function(){return i.ri(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ii(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ch}).createIndex("sequenceNumberIndex",Oh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ph}).createIndex("documentKeyIndex",Ah,{unique:!1})}(e)}))),o}},{key:"Xr",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=ky(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Zr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Xf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Xf.forEach(r,(function(r){df(r.userId===n.userId);var i=Pm(t.serializer,r);return by(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ei",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new Df(n),o=function(e){return[0,dh(e)]}(a);r.push(t.get(o).next((function(n){return n?Xf.resolve():function(n){return t.put({targetId:0,path:dh(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Xf.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ih});var n=t.store("collectionParents"),r=new cy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:dh(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new Df(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],mh(r));return i(a.popLast())}))}))}},{key:"ni",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=Am(r),a=Nm(t.serializer,i);return n.put(a)}))}},{key:"ri",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new jf(Df.fromString(e.document.name).popFirst(5)):e.noDocument?jf.fromSegments(e.noDocument.path):e.unknownDocument?jf.fromSegments(e.unknownDocument.path):hf()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Xf.waitFor(r)}))}},{key:"ii",value:function(e,t){var n=this,r=t.store("mutations"),i=zy(this.serializer),a=new rg(ag.jr,this.serializer.ut);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Up();Pm(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Xf.forEach(r,(function(e,r){var o=new rf(r),s=zm.ct(n.serializer,o),u=a.getIndexManager(o),c=wy.ct(o,n.serializer,u,a.referenceDelegate);return new Qy(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new zh(t,ch._e),e).next()}))}))}}]),e}();function sg(e){e.createObjectStore("targetDocuments",{keyPath:Eh}).createIndex("documentTargetsIndex",Th,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sh,{unique:!0}),e.createObjectStore("targetGlobal")}var ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cg=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=f,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=function(e){return Promise.resolve()},!e.D())throw new mf(vf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new My(this,i),this.Ii=n+"main",this.serializer=new Em(u),this.Ti=new Zf(this.Ii,this.ai,new og(this.serializer)),this.qr=new Iy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zy(this.serializer),this.Kr=new jm,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&cf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.di().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mf(vf.FAILED_PRECONDITION,ug);return e.Ai(),e.Ri(),e.Vi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qr.getHighestSequenceNumber(t)}))})).then((function(t){e.Lr=new ch(t,e.oi)})).then((function(){e.kr=!0})).catch((function(t){return e.Ti&&e.Ti.close(),Promise.reject(t)}))}},{key:"mi",value:function(e){var t=this;return this.Pi=function(){var n=Ze(Xe().mark((function n(r){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ti.L(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.di();case 4:case"end":return e.stop()}}),e)})))))}},{key:"di",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return fg(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.Pi(!1)})))}))})).next((function(){return e.gi(t)})).next((function(n){return e.isPrimary&&!n?e.pi(t).next((function(){return!1})):!!n&&e.yi(t).next((function(){return!0}))}))})).catch((function(t){if(nh(t))return uf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return uf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.Pi(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return lg(e).get("owner").next((function(e){return Xf.resolve(t.wi(e))}))}},{key:"Si",value:function(e){return fg(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Di(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Vh(e,"clientMetadata");return t.W().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Xf.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ei){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ei.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(){var e=this;this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.di().then((function(){return e.bi()})).then((function(){return e.Vi()}))}))}},{key:"wi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"gi",value:function(e){var t=this;return this._i?Xf.resolve(!0):lg(e).get("owner").next((function(n){if(null!==n&&t.Di(n.leaseTimestampMs,5e3)&&!t.Fi(n.ownerId)){if(t.wi(n)&&t.networkEnabled)return!0;if(!t.wi(n)){if(!n.allowTabSynchronization)throw new mf(vf.FAILED_PRECONDITION,ug);return!1}}return!(!t.networkEnabled||!t.inForeground)||fg(e).W().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&uf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),e.next=7,this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new zh(e,ch._e);return t.pi(n).next((function(){return t.Si(n)}))}));case 7:this.Ti.close(),this.Ni();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.Di(e.updateTimeMs,t)&&!n.Fi(e.clientId)}))}},{key:"Bi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return fg(t).W().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.kr}},{key:"getMutationQueue",value:function(e,t){return wy.ct(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new fy(e,this.serializer.ut.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return zm.ct(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Kr}},{key:"runTransaction",value:function(e,t,n){var r=this;uf("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Uh:14===e?Fh:13===e?jh:12===e?Mh:11===e?Lh:void hf()}(this.ai);return this.Ti.runTransaction(e,a,o,(function(a){return i=new zh(a,r.Lr?r.Lr.next():ch._e),"readwrite-primary"===t?r.fi(i).next((function(e){return!!e||r.gi(i)})).next((function(t){if(!t)throw cf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.Pi(!1)})),new mf(vf.FAILED_PRECONDITION,Gf);return n(i)})).next((function(e){return r.yi(i).next((function(){return e}))})):r.Li(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Li",value:function(e){var t=this;return lg(e).get("owner").next((function(e){if(null!==e&&t.Di(e.leaseTimestampMs,5e3)&&!t.Fi(e.ownerId)&&!t.wi(e)&&!(t._i||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mf(vf.FAILED_PRECONDITION,ug)}))}},{key:"yi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lg(e).put("owner",t)}},{key:"pi",value:function(e){var t=this,n=lg(e);return n.get("owner").next((function(e){return t.wi(e)?(uf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Xf.resolve()}))}},{key:"Di",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(cf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ai",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.di()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"Ri",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Mi();var e=/(?:Version|Mobile)\/1[456]/;!Fi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Oi",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Fi",value:function(e){var t;try{var n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return uf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return cf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Mi",value:function(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){cf("Failed to set zombie client id.",e)}}},{key:"Ni",value:function(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Zf.D()}}]),e}();function lg(e){return Vh(e,"owner")}function fg(e){return Vh(e,"clientMetadata")}function hg(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dg=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}return y(e,null,[{key:"Qi",value:function(t,n){var r,i=Up(),a=Up(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),pg=function(){function e(){d(this,e),this._documentReadCount=0}return y(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),vg=function(){function e(){d(this,e),this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}return y(e,[{key:"initialize",value:function(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.zi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new pg;return i.Hi(e,t,n).next((function(r){if(a.result=r,i.$i)return i.Ji(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Ji",value:function(e,t,n,r){return n.documentReadCount<this.Ui?(sf()<=ua.DEBUG&&uf("QueryEngine","SDK will not create cache indexes for query:",xp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Xf.resolve()):(sf()<=ua.DEBUG&&uf("QueryEngine","Query:",xp(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(sf()<=ua.DEBUG&&uf("QueryEngine","The SDK decides to create cache indexes for query:",xp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yp(t))):Xf.resolve())}},{key:"zi",value:function(e,t){var n=this;if(pp(t))return Xf.resolve(null);var r=yp(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=kp(t,null,"F"),r=yp(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Up.apply(void 0,h(i));return n.Gi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Yi(t,i);return n.Zi(t,o,a,r.readTime)?n.zi(e,kp(t,null,"F")):n.Xi(e,o,t,r)}))}))})))}))}},{key:"ji",value:function(e,t,n,r){var i=this;return pp(t)||r.isEqual(Nf.min())?Xf.resolve(null):this.Gi.getDocuments(e,n).next((function(a){var o=i.Yi(t,a);return i.Zi(t,o,n,r)?Xf.resolve(null):(sf()<=ua.DEBUG&&uf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xp(t)),i.Xi(e,o,t,qf(r,-1)).next((function(e){return e})))}))}},{key:"Yi",value:function(e,t){var n=new Qh(Tp(e));return t.forEach((function(t,r){Sp(e,r)&&(n=n.add(r))})),n}},{key:"Zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Hi",value:function(e,t,n){return sf()<=ua.DEBUG&&uf("QueryEngine","Using full collection scan to execute query:",xp(t)),this.Gi.getDocumentsMatchingQuery(e,t,Hf.min(),n)}},{key:"Xi",value:function(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),mg=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.es=n,this.serializer=i,this.ts=new Hh(Cf),this.ns=new Cp((function(e){return ap(e)}),op),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}return y(e,[{key:"os",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ts)}))}}]),e}();function yg(e,t,n,r){return new mg(e,t,n,r)}function gg(e,t){return bg.apply(this,arguments)}function bg(){return bg=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.os(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Up(),u=I(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=I(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=I(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{_s:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}function kg(e,t){var n=pf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Xf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);df(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Up(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function wg(e){var t=pf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qr.getLastRemoteSnapshotVersion(e)}))}function _g(e,t){var n=pf(e),r=t.snapshotVersion,i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.qr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Zh.EMPTY_BYTE_STRING,Nf.min()).withLastLimboFreeSnapshotVersion(Nf.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.qr.updateTargetData(e,c))}}));var s=Pp(),u=Up();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xg(e,a,t.documentUpdates).next((function(e){s=e.us,u=e.cs}))),!r.isEqual(Nf.min())){var c=n.qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Xf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ts=i,e}))}function xg(e,t,n){var r=Up(),i=Up();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Pp();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Nf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):uf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{us:r,cs:i}}))}function Sg(e,t){var n=pf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Eg(e,t){var n=pf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qr.getTargetData(e,t).next((function(i){return i?(r=i,Xf.resolve(r)):n.qr.allocateTargetId(e).next((function(i){return r=new Sm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}function Tg(e,t,n){return Ig.apply(this,arguments)}function Ig(){return Ig=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=pf(t),a=i.ts.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),nh(e.t1)){e.next=12;break}throw e.t1;case 12:uf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ts=i.ts.remove(n),i.ns.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ig.apply(this,arguments)}function Cg(e,t,n){var r=pf(e),i=Nf.min(),a=Up();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=pf(e),i=r.ns.get(n);return void 0!==i?Xf.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,yp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.es.getDocumentsMatchingQuery(e,t,n?i:Nf.min(),n?a:Up())})).next((function(e){return Ag(r,Ep(t),e),{documents:e,ls:a}}))}))}function Og(e,t){var n=pf(e),r=pf(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function Pg(e,t){var n=pf(e),r=n.rs.get(t)||Nf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ss.getAllFromCollectionGroup(e,t,qf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ag(n,t,e),e}))}function Ag(e,t,n){var r=e.rs.get(t)||Nf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}function Ng(e,t,n,r){return Rg.apply(this,arguments)}function Rg(){return Rg=Ze(Xe().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=pf(t),o=Up(),s=Pp(),u=I(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.hs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Ps(l)).setReadTime(n.Is(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.ss.newChangeBuffer({trackRemovals:!0}),e.next=7,Eg(a,function(e){return yp(dp(Df.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return xg(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs)})).next((function(){return t.us}))}))})));case 9:case"end":return e.stop()}}),e)}))),Rg.apply(this,arguments)}function Dg(e,t){return Lg.apply(this,arguments)}function Lg(){return Lg=Ze(Xe().mark((function e(t,n){var r,i,a,o=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Up(),e.next=3,Eg(t,yp(Rm(n.bundledQuery)));case 3:return i=e.sent,a=pf(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jv(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kr.saveNamedQuery(e,n);var o=i.withResumeToken(Zh.EMPTY_BYTE_STRING,t);return a.ts=a.ts.insert(o.targetId,o),a.qr.updateTargetData(e,o).next((function(){return a.qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function Mg(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function jg(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Fg(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ug=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new mf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(cf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),zg=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"Es",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ts",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mf(i.error.code,i.error.message))),a?new e(t,i.state,r):(cf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vg=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"Ts",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Vp(),o=0;i&&o<r.activeTargetIds.length;++o)i=hh(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(cf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Bg=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"Ts",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(cf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),qg=function(){function e(){d(this,e),this.activeTargetIds=Vp()}return y(e,[{key:"ds",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Es",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Wg=function(){function e(t,n,r,i,a){d(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Hh(Cf),this.started=!1,this.ps=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ys=Mg(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new qg),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}return y(e,[{key:"start",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Bi();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Rs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Mg(this.persistenceKey,i)))&&(o=Vg.Ts(i,a))&&(this.gs=this.gs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Fs(),(s=this.storage.getItem(this.Cs))&&(u=this.Ms(s))&&this.xs(u),c=I(this.ps);try{for(c.s();!(l=c.n()).done;)f=l.value,this.fs(f)}catch(d){c.e(d)}finally{c.f()}this.ps=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Os(this.gs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ns(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ns(e,t,n),this.Bs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Fg(this.persistenceKey,e));if(n){var r=zg.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ls.As(e),this.Fs()}},{key:"isLocalQueryTarget",value:function(e){return this.Ls.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Fg(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ks(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Bs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Qs(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return uf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){uf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){uf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"fs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(uf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void cf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(Ze(Xe().mark((function e(){var r,i,a,o,s,u,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ss.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Ks(n.key),e.abrupt("return",t.$s(r,null));case 6:if(!(i=t.Us(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$s(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.bs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ws(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Gs(a));case 16:e.next=41;break;case 18:if(!t.Ds.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.zs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Cs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Ms(n.newValue))){e.next=30;break}return e.abrupt("return",t.xs(s));case 30:e.next=41;break;case 32:if(n.key!==t.ws){e.next=37;break}u=function(e){var t=ch._e;if(null!=e)try{var n=JSON.parse(e);df("number"==typeof n),t=n}catch(e){cf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==ch._e&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.vs){e.next=41;break}return c=t.Hs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Js(e)})));case 41:e.next=44;break;case 43:t.ps.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ls",get:function(){return this.gs.get(this.Rs)}},{key:"Fs",value:function(){this.setItem(this.ys,this.Ls.Es())}},{key:"Ns",value:function(e,t,n){var r=new Ug(this.currentUser,e,t,n),i=jg(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}},{key:"Bs",value:function(e){var t=jg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"qs",value:function(e){var t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}},{key:"ks",value:function(e,t,n){var r=Fg(this.persistenceKey,e),i=new zg(e,t,n);this.setItem(r,i.Es())}},{key:"Qs",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}},{key:"Ks",value:function(e){var t=this.Ss.exec(e);return t?t[1]:null}},{key:"Us",value:function(e,t){var n=this.Ks(e);return Vg.Ts(n,t)}},{key:"Ws",value:function(e,t){var n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ug.Ts(new rf(i),r,t)}},{key:"zs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]);return zg.Ts(r,t)}},{key:"Ms",value:function(e){return Bg.Ts(e)}},{key:"Hs",value:function(e){return JSON.parse(e)}},{key:"Gs",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Ys(t.batchId,t.state,t.error));case 2:uf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"js",value:function(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}},{key:"$s",value:function(e,t){var n=this,r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),a=this.Os(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((function(){n.gs=r}))}},{key:"xs",value:function(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Os",value:function(e){var t=Vp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Hg=function(){function e(){d(this,e),this.eo=new qg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.eo.ds(e),this.no[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.no[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.eo.As(e)}},{key:"isLocalQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.no[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.eo.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.eo.activeTargetIds.has(e)}},{key:"start",value:function(){return this.eo=new qg,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Kg=function(){function e(){d(this,e)}return y(e,[{key:"ro",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Gg=function(){function e(){var t=this;d(this,e),this.io=function(){return t.so()},this.oo=function(){return t._o()},this.ao=[],this.uo()}return y(e,[{key:"ro",value:function(e){this.ao.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}},{key:"uo",value:function(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}},{key:"so",value:function(){uf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"_o",value:function(){uf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.ao);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qg=null;function Yg(){return null===Qg?Qg=268435456+Math.round(2147483648*Math.random()):Qg++,"0x"+Qg.toString(16)}var $g={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Xg=function(){function e(t){d(this,e),this.co=t.co,this.lo=t.lo}return y(e,[{key:"ho",value:function(e){this.Po=e}},{key:"Io",value:function(e){this.To=e}},{key:"onMessage",value:function(e){this.Eo=e}},{key:"close",value:function(){this.lo()}},{key:"send",value:function(e){this.co(e)}},{key:"Ao",value:function(){this.Po()}},{key:"Ro",value:function(e){this.To(e)}},{key:"Vo",value:function(e){this.Eo(e)}}]),e}(),Jg="WebChannelConnection",Zg=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return y(n,[{key:"Do",value:function(e,t,n,r){var i=Yg();return new Promise((function(a,o){var s=new Zl;s.setWithCredentials(!0),s.listenOnce(Yl.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ql.NO_ERROR:var t=s.getResponseJson();uf(Jg,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ql.TIMEOUT:uf(Jg,"RPC '".concat(e,"' ").concat(i," timed out")),o(new mf(vf.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:var n=s.getStatus();if(uf(Jg,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(vf).indexOf(t)>=0?t:vf.UNKNOWN}(u.status);o(new mf(c,u.message))}else o(new mf(vf.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new mf(vf.UNAVAILABLE,"Connection failed."));break;default:hf()}}finally{uf(Jg,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);uf(Jg,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"vo",value:function(e,t,n){var r=Yg(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kl(),o=Gl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");uf(Jg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new Xg({co:function(t){h?uf(Jg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(uf(Jg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),uf(Jg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},lo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Jl.EventType.OPEN,(function(){h||uf(Jg,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Jl.EventType.CLOSE,(function(){h||(h=!0,uf(Jg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Ro())})),p(l,Jl.EventType.ERROR,(function(t){h||(h=!0,lf(Jg,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Ro(new mf(vf.UNAVAILABLE,"The operation could not be completed")))})),p(l,Jl.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];df(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){uf(Jg,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=gv[e];if(void 0!==t)return Iv(t)}(s),c=o.message;void 0===u&&(u=vf.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Ro(new mf(u,c)),l.close()}else uf(Jg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Vo(i)}})),p(o,$l.STAT_EVENT,(function(t){t.stat===Xl.PROXY?uf(Jg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xl.NOPROXY&&uf(Jg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ao()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=n+"://"+t.host,this.fo="projects/".concat(r,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return y(e,[{key:"yo",get:function(){return!1}},{key:"wo",value:function(e,t,n,r,i){var a=Yg(),o=this.So(e,t);uf("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,o,s,n).then((function(t){return uf("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw lf("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Co",value:function(e,t,n,r,i,a){return this.wo(e,t,n,r,i)}},{key:"bo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+af,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"So",value:function(e,t){var n=$g[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function eb(){return"undefined"!=typeof window?window:null}function tb(){return"undefined"!=typeof document?document:null}function nb(e){return new Gv(e,!0)}var rb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=a,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Oo=0}},{key:"Lo",value:function(){this.Oo=this.xo}},{key:"ko",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&uf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}},{key:"Qo",value:function(){null!==this.No&&(this.No.skipDelay(),this.No=null)}},{key:"cancel",value:function(){null!==this.No&&(this.No.cancel(),this.No=null)}},{key:"qo",value:function(){return(Math.random()-.5)*this.Oo}}]),e}(),ib=function(){function e(t,n,r,i,a,o,s,u){d(this,e),this.si=t,this.Ko=r,this.$o=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new rb(t,n)}return y(e,[{key:"jo",value:function(){return 1===this.state||5===this.state||this.Ho()}},{key:"Ho",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Jo()}},{key:"stop",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){this.state=0,this.zo.reset()}},{key:"Zo",value:function(){var e=this;this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(function(){return e.Xo()})))}},{key:"e_",value:function(e){this.t_(),this.stream.send(e)}},{key:"Xo",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ho()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"t_",value:function(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"close",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==t?this.zo.reset():n&&n.code===vf.RESOURCE_EXHAUSTED?(cf(n.toString()),cf("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===vf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Io(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"r_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Uo===n&&e.s_(i,a)}),(function(n){t((function(){var t=new mf(vf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.o_(t)}))}))}},{key:"s_",value:function(e,t){var n=this,r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((function(){r((function(){return n.state=2,n.Go=n.si.enqueueAfterDelay(n.$o,1e4,(function(){return n.Ho()&&(n.state=3),Promise.resolve()})),n.listener.ho()}))})),this.stream.Io((function(e){r((function(){return n.o_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Jo",value:function(){var e=this;this.state=5,this.zo.ko(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"o_",value:function(e){return uf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"i_",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.Uo===e?n():(uf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ab=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return y(n,[{key:"__",value:function(e,t){return this.connection.vo("Listen",e,t)}},{key:"onMessage",value:function(e){this.zo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(df(void 0===t||"string"==typeof t),Zh.fromBase64String(t||"")):(df(void 0===t||t instanceof Uint8Array),Zh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?vf.UNKNOWN:Iv(e.code);return new mf(t,e.message||"")}(o);n=new Uv(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=nm(e,u.document.name),l=Jv(u.document.updateTime),f=u.document.createTime?Jv(u.document.createTime):Nf.min(),h=new Pd({mapValue:{fields:u.document.fields}}),d=Nd.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new jv(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=nm(e,m.document),g=m.readTime?Jv(m.readTime):Nf.min(),b=Nd.newNoDocument(y,g),k=m.removedTargetIds||[];n=new jv([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=nm(e,w.document),x=w.removedTargetIds||[];n=new jv([],x,_,null)}else{if(!("filter"in t))return hf();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,C=new Ev(T,I),O=S.targetId;n=new Fv(O,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Nf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nf.min():t.readTime?Jv(t.readTime):Nf.min()}(e);return this.listener.a_(t,n)}},{key:"u_",value:function(e){var t={};t.database=am(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=sp(r)?{documents:hm(e,r)}:{query:dm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$v(e,t.resumeToken);var i=Qv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Nf.min())>0){n.readTime=Yv(e,t.snapshotVersion.toTimestamp());var a=Qv(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}},{key:"c_",value:function(e){var t={};t.database=am(this.serializer),t.removeTarget=e,this.e_(t)}}]),n}(ib),ob=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.l_=!1,u}return y(n,[{key:"h_",get:function(){return this.l_}},{key:"start",value:function(){this.l_=!1,this.lastStreamToken=void 0,Do(k(n.prototype),"start",this).call(this)}},{key:"r_",value:function(){this.l_&&this.P_([])}},{key:"__",value:function(e,t){return this.connection.vo("Write",e,t)}},{key:"onMessage",value:function(e){if(df(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();var t=function(e,t){return e&&e.length>0?(df(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jv(e.updateTime):Jv(t);return n.isEqual(Nf.min())&&(n=Jv(t)),new iv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jv(e.commitTime);return this.listener.I_(n,t)}return df(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}},{key:"E_",value:function(){var e={};e.database=am(this.serializer),this.e_(e)}},{key:"P_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return lm(t.serializer,e)}))};this.e_(n)}}]),n}(ib),sb=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.d_=!1,o}return y(n,[{key:"A_",value:function(){if(this.d_)throw new mf(vf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"wo",value:function(e,t,n){var r=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.wo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new mf(vf.UNKNOWN,e.toString())}))}},{key:"Co",value:function(e,t,n,r){var i=this;return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.Co(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vf.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new mf(vf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.d_=!0}}]),n}(y((function e(){d(this,e)})));var ub=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}return y(e,[{key:"g_",value:function(){var e=this;0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.m_=null,e.y_("Backend didn't respond within 10 seconds."),e.p_("Offline"),Promise.resolve()})))}},{key:"w_",value:function(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}},{key:"set",value:function(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}},{key:"p_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"y_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(cf(t),this.f_=!1):uf("OnlineStateTracker",t)}},{key:"S_",value:function(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}]),e}(),cb=y((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=a,this.F_.ro((function(e){r.enqueueAndForget(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kb(o),!e.t0){e.next=5;break}return uf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=pf(t)).C_.add(4),e.next=4,hb(n);case 4:return n.M_.set("Unknown"),n.C_.delete(4),e.next=8,lb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.M_=new ub(r,i)}));function lb(e){return fb.apply(this,arguments)}function fb(){return(fb=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kb(t)){e.next=18;break}n=I(t.v_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function hb(e){return db.apply(this,arguments)}function db(){return(db=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.v_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function pb(e,t){var n=pf(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),bb(n)?gb(n):Yb(n).Ho()&&mb(n,t))}function vb(e,t){var n=pf(e),r=Yb(n);n.D_.delete(t),r.Ho()&&yb(n,t),0===n.D_.size&&(r.Ho()?r.Zo():kb(n)&&n.M_.set("Unknown"))}function mb(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nf.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Yb(e).u_(t)}function yb(e,t){e.x_.Oe(t),Yb(e).c_(t)}function gb(e){e.x_=new Vv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.D_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),Yb(e).start(),e.M_.g_()}function bb(e){return kb(e)&&!Yb(e).jo()&&e.D_.size>0}function kb(e){return 0===pf(e).C_.size}function wb(e){e.x_=void 0}function _b(e){return xb.apply(this,arguments)}function xb(){return(xb=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.D_.forEach((function(e,n){mb(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sb(e,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wb(t),bb(t)?(t.M_.w_(n),gb(t)):t.M_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tb(e,t,n){return Ib.apply(this,arguments)}function Ib(){return Ib=Ze(Xe().mark((function e(t,n,r){var i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.M_.set("Online"),!(n instanceof Uv&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.D_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.D_.delete(o),t.x_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),uf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Cb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jv?t.x_.$e(n):n instanceof Fv?t.x_.Je(n):t.x_.Ge(n),r.isEqual(Nf.min())){e.next=29;break}return e.prev=14,e.next=17,wg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.x_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.D_.get(t);if(r){e.D_.set(t,r.withResumeToken(Zh.EMPTY_BYTE_STRING,r.snapshotVersion)),yb(e,t);var i=new Sm(r.target,t,n,r.sequenceNumber);mb(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),uf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Cb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ib.apply(this,arguments)}function Cb(e,t,n){return Ob.apply(this,arguments)}function Ob(){return(Ob=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nh(n)){e.next=2;break}throw n;case 2:return t.C_.add(1),e.next=5,hb(t);case 5:t.M_.set("Offline"),r||(r=function(){return wg(t.localStore)}),t.asyncQueue.enqueueRetryable(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.C_.delete(1),e.next=6,lb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pb(e,t){return t().catch((function(n){return Cb(e,n,t)}))}function Ab(e){return Nb.apply(this,arguments)}function Nb(){return Nb=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pf(t),r=$b(n),i=n.b_.length>0?n.b_[n.b_.length-1].batchId:-1;case 2:if(!Rb(n)){e.next=19;break}return e.prev=3,e.next=6,Sg(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.b_.length&&r.Zo(),e.abrupt("break",19);case 10:i=a.batchId,Db(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Cb(n,e.t0);case 17:e.next=2;break;case 19:Lb(n)&&Mb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Nb.apply(this,arguments)}function Rb(e){return kb(e)&&e.b_.length<10}function Db(e,t){e.b_.push(t);var n=$b(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Lb(e){return kb(e)&&!$b(e).jo()&&e.b_.length>0}function Mb(e){$b(e).start()}function jb(e){return Fb.apply(this,arguments)}function Fb(){return(Fb=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$b(t).E_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ub(e){return zb.apply(this,arguments)}function zb(){return(zb=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$b(t),r=I(t.b_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.P_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vb(e,t,n){return Bb.apply(this,arguments)}function Bb(){return Bb=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.b_.shift(),a=xv.from(i,n,r),e.next=3,Pb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ab(t);case 5:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function qb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$b(t).h_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Tv(e)&&e!==vf.ABORTED}(n.code)){e.next=7;break}return r=t.b_.shift(),$b(t).Yo(),e.next=5,Pb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ab(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Lb(t)&&Mb(t);case 5:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Hb(e,t){return Kb.apply(this,arguments)}function Kb(){return Kb=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=pf(t)).asyncQueue.verifyOperationInProgress(),uf("RemoteStore","RemoteStore received new credentials"),i=kb(r),r.C_.add(3),e.next=6,hb(r);case 6:return i&&r.M_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.C_.delete(3),e.next=12,lb(r);case 12:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Gb(e,t){return Qb.apply(this,arguments)}function Qb(){return(Qb=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pf(t),!n){e.next=7;break}return r.C_.delete(2),e.next=5,lb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.C_.add(2),e.next=12,hb(r);case 12:r.M_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yb(e){return e.O_||(e.O_=function(e,t,n){var r=pf(e);return r.A_(),new ab(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:_b.bind(null,e),Io:Sb.bind(null,e),a_:Tb.bind(null,e)}),e.v_.push(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.O_.Yo(),bb(e)?gb(e):e.M_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.O_.stop();case 6:wb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.O_}function $b(e){return e.N_||(e.N_=function(e,t,n){var r=pf(e);return r.A_(),new ob(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:jb.bind(null,e),Io:qb.bind(null,e),T_:Ub.bind(null,e),I_:Vb.bind(null,e)}),e.v_.push(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.N_.Yo(),t.next=4,Ab(e);case 4:t.next=9;break;case 6:return t.next=8,e.N_.stop();case 8:e.b_.length>0&&(uf("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}var Xb=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mf(vf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Jb(e,t){if(cf("AsyncQueue","".concat(t,": ").concat(e)),nh(e))return new mf(vf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Zb=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||jf.comparator(e.key,n.key)}:function(e,t){return jf.comparator(e.key,t.key)},this.keyedMap=Np(),this.sortedSet=new Hh(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ek=function(){function e(){d(this,e),this.B_=new Hh(jf.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):hf():this.B_=this.B_.insert(t,e)}},{key:"L_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),tk=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zb.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),nk=y((function e(){d(this,e),this.k_=void 0,this.listeners=[]})),rk=y((function e(){d(this,e),this.queries=new Cp((function(e){return _p(e)}),wp),this.onlineState="Unknown",this.q_=new Set}));function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=Ze(Xe().mark((function e(t,n){var r,i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pf(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new nk),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.k_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Jb(e.t0,"Initialization of query '".concat(xp(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Q_(r.onlineState),o.k_&&n.K_(o.k_)&&lk(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ak.apply(this,arguments)}function ok(e,t){return sk.apply(this,arguments)}function sk(){return sk=Ze(Xe().mark((function e(t,n){var r,i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pf(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),sk.apply(this,arguments)}function uk(e,t){var n,r=pf(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=I(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.K_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.k_=o}}}catch(f){a.e(f)}finally{a.f()}i&&lk(r)}function ck(e,t,n){var r=pf(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function lk(e){e.q_.forEach((function(e){e.next()}))}var fk=function(){function e(t,n,r){d(this,e),this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"K_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new tk(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.W_?this.z_(e)&&(this.U_.next(e),a=!0):this.j_(e,this.onlineState)&&(this.H_(e),a=!0),this.G_=e,a}},{key:"onError",value:function(e){this.U_.error(e)}},{key:"Q_",value:function(e){this.onlineState=e;var t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}},{key:"j_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"H_",value:function(e){e=tk.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}]),e}(),hk=function(){function e(t,n){d(this,e),this.Y_=t,this.byteLength=n}return y(e,[{key:"Z_",value:function(){return"metadata"in this.Y_}}]),e}(),dk=function(){function e(t){d(this,e),this.serializer=t}return y(e,[{key:"hs",value:function(e){return nm(this.serializer,e)}},{key:"Ps",value:function(e){return e.metadata.exists?um(this.serializer,e.document,!1):Nd.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}},{key:"Is",value:function(e){return Jv(e)}}]),e}(),pk=function(){function e(t,n,r){d(this,e),this.X_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vk(t)}return y(e,[{key:"ea",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;var n=Df.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ta",value:function(e){var t,n=new Map,r=new dk(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.hs(a.metadata.name),u=I(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Up()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ng(this.localStore,new dk(this.serializer),this.documents,this.X_.id);case 2:t=e.sent,n=this.ta(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Dg(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function vk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var mk=y((function e(t){d(this,e),this.key=t})),yk=y((function e(t){d(this,e),this.key=t})),gk=function(){function e(t,n){d(this,e),this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Up(),this.mutatedKeys=Up(),this._a=Tp(t),this.aa=new Zb(this._a)}return y(e,[{key:"ua",get:function(){return this.ia}},{key:"ca",value:function(e,t){var n=this,r=t?t.la:new ek,i=t?t.aa:this.aa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Sp(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ha(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n._a(f,u)>0||c&&n._a(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{aa:o,la:r,Zi:s,mutatedKeys:a}}},{key:"ha",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;var o=e.la.L_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hf()}};return n(e)-n(t)}(e.type,t.type)||i._a(e.doc,t.doc)})),this.Pa(n),r=null!=r&&r;var s=t&&!r?this.Ia():[],u=0===this.oa.size&&this.current&&!r?1:0,c=u!==this.sa;return this.sa=u,0!==o.length||c?{snapshot:new tk(this.query,e.aa,a,o,e.mutatedKeys,0===u,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}},{key:"Q_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new ek,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}},{key:"Ea",value:function(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}},{key:"Pa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ia=t.ia.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ia=t.ia.delete(e)})),this.current=e.current)}},{key:"Ia",value:function(){var e=this;if(!this.current)return[];var t=this.oa;this.oa=Up(),this.aa.forEach((function(t){e.Ea(t.key)&&(e.oa=e.oa.add(t.key))}));var n=[];return t.forEach((function(t){e.oa.has(t)||n.push(new yk(t))})),this.oa.forEach((function(e){t.has(e)||n.push(new mk(e))})),n}},{key:"da",value:function(e){this.ia=e.ls,this.oa=Up();var t=this.ca(e.documents);return this.applyChanges(t,!0)}},{key:"Aa",value:function(){return tk.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}]),e}(),bk=y((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),kk=y((function e(t){d(this,e),this.key=t,this.Ra=!1})),wk=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Cp((function(e){return _p(e)}),wp),this.fa=new Map,this.ga=new Set,this.pa=new Hh(jf.comparator),this.ya=new Map,this.wa=new Xy,this.Sa={},this.ba=new Map,this.Da=Ty.Nn(),this.onlineState="Unknown",this.Ca=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ca}}]),e}();function _k(e,t){return xk.apply(this,arguments)}function xk(){return xk=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vw(t),!(o=r.ma.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Aa(),e.next=15;break;case 6:return e.next=8,Eg(r.localStore,yp(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Sk(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&pb(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function Sk(e,t,n,r,i){return Ek.apply(this,arguments)}function Ek(){return Ek=Ze(Xe().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.va=function(e,n,r){return function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ca(r),e.t0=a.Zi,!e.t0){e.next=6;break}return e.next=5,Cg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ca(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=i&&null!=i.targetMismatches.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o,s),e.abrupt("return",(Hk(t,n.targetId,u.Ta),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Cg(t.localStore,n,!0);case 3:return o=e.sent,s=new gk(n,o.ls),u=s.ca(o.documents),c=Mv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),Hk(t,r,l.Ta),f=new bk(n,r,s),e.abrupt("return",(t.ma.set(n,f),t.fa.has(r)?t.fa.get(r).push(n):t.fa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ek.apply(this,arguments)}function Tk(e,t){return Ik.apply(this,arguments)}function Ik(){return Ik=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pf(t),i=r.ma.get(n),!((a=r.fa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.fa.set(i.targetId,a.filter((function(e){return!wp(e,n)}))),void r.ma.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Tg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),vb(r.remoteStore,i.targetId),qk(r,i.targetId)})).catch(Yf);case 9:e.next=14;break;case 11:return qk(r,i.targetId),e.next=14,Tg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ck(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mw(t),e.prev=1,e.next=4,function(e,t){var n,r,i=pf(e),a=Af.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Up());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Pp(),u=Up();return i.ss.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=I(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=fv(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new pv(c.key,l,Ad(l.value.mapValue),av.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rp(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Sa[e.currentUser.toKey()];r||(r=new Hh(Cf)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Qk(i,a.changes);case 9:return e.next=11,Ab(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Jb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ok.apply(this,arguments)}function Pk(e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),e.prev=1,e.next=4,_g(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ya.get(t);n&&(df(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ra=!0:e.modifiedDocuments.size>0?df(n.Ra):e.removedDocuments.size>0&&(df(n.Ra),n.Ra=!1))})),e.next=8,Qk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Yf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ak.apply(this,arguments)}function Nk(e,t,n){var r=pf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ma.forEach((function(e,n){var r=n.view.Q_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=pf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Q_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&lk(n)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Rk(e,t,n){return Dk.apply(this,arguments)}function Dk(){return Dk=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=pf(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ya.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Hh(jf.comparator)).insert(o,Nd.newNoDocument(o,Nf.min())),u=Up().add(o),c=new Lv(Nf.min(),new Map,new Hh(Cf),s,u),e.next=9,Pk(i,c);case 9:i.pa=i.pa.remove(o),i.ya.delete(n),Gk(i),e.next=16;break;case 14:return e.next=16,Tg(i.localStore,n,!1).then((function(){return qk(i,n,r)})).catch(Yf);case 16:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Lk(e,t){return Mk.apply(this,arguments)}function Mk(){return Mk=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),i=n.batch.batchId,e.prev=1,e.next=4,kg(r.localStore,n);case 4:return a=e.sent,Bk(r,i,null),Vk(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Qk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Mk.apply(this,arguments)}function jk(e,t,n){return Fk.apply(this,arguments)}function Fk(){return Fk=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pf(t),e.prev=1,e.next=4,function(e,t){var n=pf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return df(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Bk(i,n,r),Vk(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Qk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Yf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Fk.apply(this,arguments)}function Uk(e,t){return zk.apply(this,arguments)}function zk(){return zk=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kb((r=pf(t)).remoteStore)||uf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=pf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ba.get(i)||[]).push(n),r.ba.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Jb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),zk.apply(this,arguments)}function Vk(e,t){(e.ba.get(t)||[]).forEach((function(e){e.resolve()})),e.ba.delete(t)}function Bk(e,t,n){var r=pf(e),i=r.Sa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function qk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e.fa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ma.delete(a),n&&e.Va.Fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((function(t){e.wa.containsKey(t)||Wk(e,t)}))}function Wk(e,t){e.ga.delete(t.path.canonicalString());var n=e.pa.get(t);null!==n&&(vb(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Gk(e))}function Hk(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof mk?(e.wa.addReference(a.key,t),Kk(e,a)):a instanceof yk?(uf("SyncEngine","Document no longer in limbo: "+a.key),e.wa.removeReference(a.key,t),e.wa.containsKey(a.key)||Wk(e,a.key)):hf()}}catch(o){i.e(o)}finally{i.f()}}function Kk(e,t){var n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(uf("SyncEngine","New document in limbo: "+n),e.ga.add(r),Gk(e))}function Gk(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){var t=e.ga.values().next().value;e.ga.delete(t);var n=new jf(Df.fromString(t)),r=e.Da.next();e.ya.set(r,new kk(n)),e.pa=e.pa.insert(n,r),pb(e.remoteStore,new Sm(yp(dp(n.path)),r,"TargetPurposeLimboResolution",ch._e))}}function Qk(e,t,n){return Yk.apply(this,arguments)}function Yk(){return Yk=Ze(Xe().mark((function e(t,n,r){var i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=pf(t),a=[],o=[],s=[],e.t0=i.ma.isEmpty(),e.t0){e.next=9;break}return i.ma.forEach((function(e,t){s.push(i.va(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=dg.Qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Va.a_(a),e.next=9,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xf.forEach(n,(function(t){return Xf.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Xf.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),nh(e.t0)){e.next=10;break}throw e.t0;case 10:uf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ts.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ts=r.ts.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function $k(e,t){return Xk.apply(this,arguments)}function Xk(){return(Xk=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=pf(t)).currentUser.isEqual(n)){e.next=11;break}return uf("SyncEngine","User change. New user:",n.toKey()),e.next=5,gg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ba.forEach((function(e){e.forEach((function(e){e.reject(new mf(vf.CANCELLED,t))}))})),e.ba.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Qk(r,i._s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jk(e,t){var n=pf(e),r=n.ya.get(t);if(r&&r.Ra)return Up().add(r.key);var i=Up(),a=n.fa.get(t);if(!a)return i;var o,s=I(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ma.get(u);i=i.unionWith(c.view.ua)}}catch(l){s.e(l)}finally{s.f()}return i}function Zk(e,t){return ew.apply(this,arguments)}function ew(){return ew=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),e.next=3,Cg(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.da(i),e.abrupt("return",(r.isPrimaryClient&&Hk(r,n.targetId,a.Ta),a));case 6:case"end":return e.stop()}}),e)}))),ew.apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),e.abrupt("return",Pg(r.localStore,n).then((function(e){return Qk(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e,t,n,r){return iw.apply(this,arguments)}function iw(){return iw=Ze(Xe().mark((function e(t,n,r,i){var a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pf(t),e.next=3,function(e,t){var n=pf(e),r=pf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Xf.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Ab(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Bk(a,n,i||null),Vk(a,n),function(e,t){pf(pf(e).mutationQueue).Fn(t)}(a.localStore,n)):hf();case 11:return e.next=13,Qk(a,o);case 13:e.next=16;break;case 15:uf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e,t){return ow.apply(this,arguments)}function ow(){return(ow=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vw(r=pf(t)),mw(r),!0!==n||!0===r.Ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,sw(r,i.toArray());case 5:return a=e.sent,r.Ca=!0,e.next=9,Gb(r.remoteStore,!0);case 9:o=I(a);try{for(o.s();!(s=o.n()).done;)u=s.value,pb(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ca){e.next=25;break}return c=[],l=Promise.resolve(),r.fa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return qk(r,t),Tg(r.localStore,t,!0)})),vb(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,sw(r,c);case 21:return function(e){var t=pf(e);t.ya.forEach((function(e,n){vb(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Hh(jf.comparator)}(r),r.Ca=!1,e.next=25,Gb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sw(e,t,n){return uw.apply(this,arguments)}function uw(){return uw=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=pf(t),a=[],o=[],s=I(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.fa.get(c))||0===f.length){e.next=34;break}return e.next=11,Eg(i.localStore,yp(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ma.get(p),e.next=20,Zk(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Og(i.localStore,c);case 36:return y=e.sent,e.next=39,Eg(i.localStore,y);case 39:return l=e.sent,e.next=42,Sk(i,cw(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Va.a_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),uw.apply(this,arguments)}function cw(e){return hp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function lw(e){return function(e){return pf(pf(e).persistence).Bi()}(pf(e).localStore)}function fw(e,t,n,r){return hw.apply(this,arguments)}function hw(){return hw=Ze(Xe().mark((function e(t,n,r,i){var a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=pf(t)).Ca){e.next=3;break}return e.abrupt("return",void uf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.fa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Pg(a.localStore,Ep(o[0]));case 10:return s=e.sent,u=Lv.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Zh.EMPTY_BYTE_STRING),e.next=14,Qk(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Tg(a.localStore,n,!0);case 17:return qk(a,n,i),e.abrupt("break",20);case 19:hf();case 20:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t,n){return pw.apply(this,arguments)}function pw(){return pw=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=vw(t)).Ca){e.next=45;break}a=I(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.fa.has(s)){e.next=10;break}return uf("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Og(i.localStore,s);case 12:return u=e.sent,e.next=15,Eg(i.localStore,u);case 15:return c=e.sent,e.next=18,Sk(i,cw(u),c.targetId,!1,c.resumeToken);case 18:pb(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.fa.has(t),!e.t0){e.next=5;break}return e.next=5,Tg(i.localStore,t,!1).then((function(){vb(i.remoteStore,t),qk(i,t)})).catch(Yf);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),pw.apply(this,arguments)}function vw(e){var t=pf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rk.bind(null,t),t.Va.a_=uk.bind(null,t.eventManager),t.Va.Fa=ck.bind(null,t.eventManager),t}function mw(e){var t=pf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jk.bind(null,t),t}function yw(e,t,n){var r=pf(e);(function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=pf(e),r=Jv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(vk(i)),a=new pk(i,t.localStore,n.serializer),e.next=15,n.Ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ea(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Qk(t,u.ra,void 0);case 31:return e.next=33,function(e,t){var n=pf(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.na));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(lf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var gw=function(){function e(){d(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=nb(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return yg(this.persistence,new vg,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new rg(ag.jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Hg}},{key:"terminate",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bw=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).xa=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.xa.initialize(this,t);case 4:return e.next=6,mw(this.xa.syncEngine);case 6:return e.next=8,Ab(this.xa.remoteStore);case 8:return e.next=10,this.persistence.mi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return yg(this.persistence,new vg,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Ry(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new uh(t,this.persistence);return new sh(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gy.withCacheSize(this.cacheSizeBytes):gy.DEFAULT;return new cg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,eb(),tb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Hg}}]),n}(gw),kw=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r,!1)).xa=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t){var r,i=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.xa.syncEngine,e.t0=this.sharedClientState instanceof Wg,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Ys:rw.bind(null,r),Zs:fw.bind(null,r),Xs:dw.bind(null,r),Bi:lw.bind(null,r),Js:tw.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.mi(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aw(i.xa.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=eb();if(!Wg.D(t))throw new mf(vf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wg(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(bw),ww=function(){function e(){d(this,e)}return y(e,[{key:"initialize",value:function(){var e=Ze(Xe().mark((function e(t,n){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Nk(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$k.bind(null,this.syncEngine),e.next=12,Gb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new rk}},{key:"createDatastore",value:function(e){var t=nb(e.databaseInfo.databaseId),n=function(e){return new Zg(e)}(e.databaseInfo);return function(e,t,n,r){return new sb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new cb(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Nk(t.syncEngine,e,0)}),Gg.D()?new Gg:new Kg)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new wk(e,t,n,r,i,a);return o&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pf(t),uf("RemoteStore","RemoteStore shutting down."),n.C_.add(5),e.next=5,hb(n);case 5:n.F_.shutdown(),n.M_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function _w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ze(Xe().mark((function r(){var i;return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var xw=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.Oa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Oa(this.observer.error,e):cf("Uncaught Error in snapshot listener:",e.toString())}},{key:"Na",value:function(){this.muted=!0}},{key:"Oa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Sw=function(){function e(t,n){var r=this;d(this,e),this.Ba=t,this.serializer=n,this.metadata=new yf,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((function(e){e&&e.Z_()?r.metadata.resolve(e.Y_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Ba.cancel()}},{key:"getMetadata",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ma",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ka());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.qa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.La.decode(t),r=Number(n),isNaN(r)&&this.Qa("length string (".concat(n,") is not valid number")),e.next=9,this.Ka(r);case 9:return i=e.sent,e.abrupt("return",new hk(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$a",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"qa",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.$a()<0)){e.next=7;break}return e.next=3,this.Ua();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.$a())<0&&this.Qa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ka",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ua();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Qa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.La.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qa",value:function(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ua",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ew=function(){function e(t){d(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new mf(vf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),i=am(r.serializer)+"/documents",a={documents:n.map((function(e){return tm(r.serializer,e)}))},e.next=5,r.Co("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=cm(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());df(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new kv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=jf.fromPath(t);n.mutations.push(new wv(r,n.precondition(r)))})),e.next=7,function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pf(t),i=am(r.serializer)+"/documents",a={writes:n.map((function(e){return lm(r.serializer,e)}))},e.next=3,r.wo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hf();t=Nf.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mf(vf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nf.min())?av.exists(!1):av.updateTime(t):av.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nf.min()))throw new mf(vf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return av.updateTime(t)}return av.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Tw=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Wa=r.maxAttempts,this.zo=new rb(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Wa-=1,this.Ga()}},{key:"Ga",value:function(){var e=this;this.zo.ko(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ew(e.datastore),(r=e.za(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.ja(t)}))}))})).catch((function(t){e.ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"za",value:function(e){try{var t=this.updateFunction(e);return!lh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"ja",value:function(e){var t=this;this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ga(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ha",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Tv(t)}return!1}}]),e}(),Iw=function(){function e(t,n,r,i){var a=this;d(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rf.UNAUTHENTICATED,this.clientId=If.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return uf("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new mf(vf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new yf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ze(Xe().mark((function n(){var r;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Jb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Cw(e,t){return Ow.apply(this,arguments)}function Ow(){return Ow=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),uf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ow.apply(this,arguments)}function Pw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Rw(t);case 3:return r=e.sent,uf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Hb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Hb(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Nw(e){return"FirebaseError"===e.name?e.code===vf.FAILED_PRECONDITION||e.code===vf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Rw(e){return Dw.apply(this,arguments)}function Dw(){return(Dw=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return uf("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Cw(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Nw(n=e.t0)){e.next=13;break}throw n;case 13:return lf("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Cw(t,new gw);case 16:e.next=21;break;case 18:return uf("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Cw(t,new gw);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Lw(e){return Mw.apply(this,arguments)}function Mw(){return(Mw=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return uf("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,Pw(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return uf("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,Pw(t,new ww);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jw(e){return Rw(e).then((function(e){return e.persistence}))}function Fw(e){return Rw(e).then((function(e){return e.localStore}))}function Uw(e){return Lw(e).then((function(e){return e.remoteStore}))}function zw(e){return Lw(e).then((function(e){return e.syncEngine}))}function Vw(e){return Lw(e).then((function(e){return e.datastore}))}function Bw(e){return qw.apply(this,arguments)}function qw(){return(qw=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lw(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=_k.bind(null,n.syncEngine),r.onUnlisten=Tk.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ww(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new xw({next:function(a){t.enqueueAndForget((function(){return ok(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new mf(vf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new mf(vf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new fk(dp(n.path),a,{includeMetadataChanges:!0,J_:!0});return ik(e,o)},i.next=3,Bw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new xw({next:function(n){t.enqueueAndForget((function(){return ok(e,o)})),n.fromCache&&"server"===r.source?i.reject(new mf(vf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new fk(n,a,{includeMetadataChanges:!0,J_:!0});return ik(e,o)},i.next=3,Bw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Kw(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Gw=new Map;function Qw(e,t,n){if(!n)throw new mf(vf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yw(e,t,n,r){if(!0===t&&!0===r)throw new mf(vf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function $w(e){if(!jf.isDocumentKey(e))throw new mf(vf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xw(e){if(jf.isDocumentKey(e))throw new mf(vf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":hf()}function Zw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mf(vf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jw(e);throw new mf(vf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function e_(e,t){if(t<=0)throw new mf(vf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var t_=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new mf(vf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new mf(vf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Yw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mf(vf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mf(vf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mf(vf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),n_=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new mf(vf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new mf(vf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bf;switch(e.type){case"firstParty":return new xf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mf(vf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Gw.get(e);t&&(uf("ComponentProvider","Removing Datastore"),Gw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function r_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Zw(e,n_))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&lf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=rf.MOCK_USER;else{s=Mi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new mf(vf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new rf(c)}e._authCredentials=new kf(new gf(s,u))}}var i_=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),a_=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new o_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),o_=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,dp(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new a_(this.firestore,null,new jf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(i_);function s_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=na(e),Qw("collection","path",t),e instanceof n_){var a=Df.fromString.apply(Df,[t].concat(r));return Xw(a),new o_(e,null,a)}if(!(e instanceof a_||e instanceof o_))throw new mf(vf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Df.fromString.apply(Df,[t].concat(r)));return Xw(o),new o_(e.firestore,null,o)}function u_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=na(e),1===arguments.length&&(t=If.newId()),Qw("doc","path",t),e instanceof n_){var a=Df.fromString.apply(Df,[t].concat(r));return $w(a),new a_(e,null,new jf(a))}if(!(e instanceof a_||e instanceof o_))throw new mf(vf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Df.fromString.apply(Df,[t].concat(r)));return $w(o),new a_(e.firestore,e instanceof o_?e.converter:null,new jf(o))}function c_(e,t){return e=na(e),t=na(t),(e instanceof a_||e instanceof o_)&&(t instanceof a_||t instanceof o_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function l_(e,t){return e=na(e),t=na(t),e instanceof i_&&t instanceof i_&&e.firestore===t.firestore&&wp(e._query,t._query)&&e.converter===t.converter}var f_=function(){function e(){var t=this;d(this,e),this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new rb(this,"async_queue_retry"),this.iu=function(){var e=tb();e&&uf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zo.Qo()};var n=tb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.iu)}return y(e,[{key:"isShuttingDown",get:function(){return this.Za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.su(),this.ou(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Za){this.Za=!0,this.nu=e||!1;var t=tb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}},{key:"enqueue",value:function(e){var t=this;if(this.su(),this.Za)return new Promise((function(){}));var n=new yf;return this.ou((function(){return t.Za&&t.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ya.push(e),t._u()}))}},{key:"_u",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ya.length){e.next=14;break}return e.prev=1,e.next=4,this.Ya[0]();case 4:this.Ya.shift(),this.zo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),nh(e.t0)){e.next=12;break}throw e.t0;case 12:uf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ya.length>0&&this.zo.ko((function(){return t._u()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ou",value:function(e){var t=this,n=this.Ja.then((function(){return t.tu=!0,e().catch((function(e){t.eu=e,t.tu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.tu=!1,e}))}));return this.Ja=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.su(),this.ru.indexOf(e)>-1&&(t=0);var i=Xb.createAndSchedule(this,e,t,n,(function(e){return r.au(e)}));return this.Xa.push(i),i}},{key:"su",value:function(){this.eu&&hf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"uu",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Ja,e.next=3,t;case 3:if(t!==this.Ja){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cu",value:function(e){var t,n=I(this.Xa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"lu",value:function(e){var t=this;return this.uu().then((function(){t.Xa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.Xa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.uu()}))}},{key:"hu",value:function(e){this.ru.push(e)}},{key:"au",value:function(e){var t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}]),e}();function h_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var d_=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new yf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),p_=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new f_,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||m_(this),this._firestoreClient.terminate()}}]),n}(n_);function v_(e){return e._firestoreClient||m_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function m_(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new sd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Kw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Iw(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function y_(e,t,n){var r=new yf;return e.asyncQueue.enqueue(Ze(Xe().mark((function i(){var a;return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Cw(e,n);case 3:return i.next=5,Pw(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Nw(a=i.t0)){i.next=13;break}throw a;case 13:lf("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function g_(e){return function(e){var t=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Uk,n.next=3,zw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(v_(e=Zw(e,p_)))}function b_(e){return function(e){return e.asyncQueue.enqueue(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jw(e);case 2:return n=t.sent,t.next=5,Uw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=pf(e);return t.C_.delete(0),lb(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(v_(e=Zw(e,p_)))}function k_(e){return function(e){return e.asyncQueue.enqueue(Ze(Xe().mark((function t(){var n,r;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jw(e);case 2:return n=t.sent,t.next=5,Uw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=pf(t)).C_.add(0),e.next=4,hb(n);case 4:n.M_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(v_(e=Zw(e,p_)))}function w_(e,t){var n=v_(e=Zw(e,p_)),r=new d_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Sw(e,t)}(function(e,t){if(e instanceof Uint8Array)return _w(e,t);if(e instanceof ArrayBuffer)return _w(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Ov().encode(e):e),t)}(n,nb(t));e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=yw,t.next=3,zw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function __(e,t){return function(e,t){return e.asyncQueue.enqueue(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=pf(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kr.getNamedQuery(e,t)}))},n.next=3,Fw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(v_(e=Zw(e,p_)),t).then((function(t){return t?new i_(e,null,t.query):null}))}function x_(e){if(e._initialized||e._terminated)throw new mf(vf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var S_=function(){function e(t){d(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Zh.fromBase64String(t))}catch(t){throw new mf(vf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Zh.fromUint8Array(t))}}]),e}(),E_=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new mf(vf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mf(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var T_=y((function e(t){d(this,e),this._methodName=t})),I_=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new mf(vf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mf(vf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cf(this._lat,e._lat)||Cf(this._long,e._long)}}]),e}(),C_=/^__.*__$/,O_=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new pv(e,this.data,this.fieldMask,t,this.fieldTransforms):new dv(e,this.data,t,this.fieldTransforms)}}]),e}(),P_=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new pv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function A_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hf()}}var N_=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Pu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Iu",get:function(){return this.settings.Iu}},{key:"Tu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}},{key:"Vu",value:function(e){return this.Tu({path:void 0,du:!0})}},{key:"mu",value:function(e){return J_(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Pu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Au(this.path.get(e))}},{key:"Au",value:function(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(A_(this.Iu)&&C_.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}]),e}(),R_=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||nb(t)}return y(e,[{key:"pu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new N_({Iu:e,methodName:t,gu:n,path:Mf.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function D_(e){var t=e._freezeSettings(),n=nb(e._databaseId);return new R_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function L_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.pu(a.merge||a.mergeFields?2:0,t,n,i);Q_("Data must be an object, but it was:",o,r);var s,u,c=K_(r,o);if(a.merge)s=new Xh(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=I(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Y_(t,l.value,n);if(!o.contains(d))throw new mf(vf.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Z_(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Xh(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new O_(new Pd(c),s,u)}var M_=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_);function j_(e,t,n){return new N_({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var F_=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new rv(e.path,new Yp)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_),U_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=j_(this,e,!0),n=this.yu.map((function(e){return H_(e,t)})),r=new $p(n);return new rv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),z_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).yu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=j_(this,e,!0),n=this.yu.map((function(e){return H_(e,t)})),r=new Jp(n);return new rv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),V_=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).wu=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new ev(e.serializer,Wp(e.serializer,this.wu));return new rv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_);function B_(e,t,n,r){var i=e.pu(1,t,n);Q_("Data must be an object, but it was:",i,r);var a=[],o=Pd.empty();qh(r,(function(e,r){var s=X_(t,e,n);r=na(r);var u=i.Ru(s);if(r instanceof M_)a.push(s);else{var c=H_(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Xh(a);return new P_(o,s,i.fieldTransforms)}function q_(e,t,n,r,i,a){var o=e.pu(1,t,n),s=[Y_(t,r,n)],u=[i];if(a.length%2!=0)throw new mf(vf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Y_(t,a[c])),u.push(a[c+1]);for(var l=[],f=Pd.empty(),h=s.length-1;h>=0;--h)if(!Z_(l,s[h])){var d=s[h],p=u[h];p=na(p);var v=o.Ru(d);if(p instanceof M_)l.push(d);else{var m=H_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Xh(l);return new P_(f,y,o.fieldTransforms)}function W_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return H_(n,e.pu(r?4:3,t))}function H_(e,t){if(G_(e=na(e)))return Q_("Unsupported field value:",t,e),K_(e,t);if(e instanceof T_)return function(e,t){if(!A_(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=H_(n.value,t.Vu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=na(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Wp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Af.fromDate(e);return{timestampValue:Yv(t.serializer,n)}}if(e instanceof Af){var r=new Af(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yv(t.serializer,r)}}if(e instanceof I_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof S_)return{bytesValue:$v(t.serializer,e._byteString)};if(e instanceof a_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.mu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Jw(e)))}(e,t)}function K_(e,t){var n={};return Wh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qh(e,(function(e,r){var i=H_(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function G_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Af||e instanceof I_||e instanceof S_||e instanceof a_||e instanceof T_)}function Q_(e,t,n){if(!G_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jw(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function Y_(e,t,n){if((t=na(t))instanceof E_)return t._internalPath;if("string"==typeof t)return X_(e,t);throw J_("Field path arguments must be of type string or ",e,!1,void 0,n)}var $_=new RegExp("[~\\*/\\[\\]]");function X_(e,t,n){if(t.search($_)>=0)throw J_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(E_,h(t.split(".")))._internalPath}catch(Qo){throw J_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function J_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new mf(vf.INVALID_ARGUMENT,s+e+u)}function Z_(e,t){return e.some((function(e){return e.isEqual(t)}))}var ex=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new a_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new tx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(nx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),tx=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return Do(k(n.prototype),"data",this).call(this)}}]),n}(ex);function nx(e,t){return"string"==typeof t?X_(e,t):t instanceof E_?t._internalPath:t._delegate._internalPath}function rx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mf(vf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ix=y((function e(){d(this,e)})),ax=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n)}(ix);function ox(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ix&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof ux})).length,n=e.filter((function(e){return e instanceof sx})).length;if(t>1||t>0&&n>0)throw new mf(vf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=I(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var sx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return kx(e._query,t),new i_(e.firestore,e.converter,bp(e._query,t))}},{key:"_parse",value:function(e){var t=D_(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new mf(vf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){bx(o,a);var u,c=[],l=I(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(gx(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=gx(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||bx(o,a),s=W_(n,t,o,"in"===a||"not-in"===a);return Ud.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ax);var ux=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:zd.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;kx(r,a),r=bp(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new i_(e.firestore,e.converter,bp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ix);var cx=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mf(vf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mf(vf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Md(t,n)}(e._query,this._field,this._direction);return new i_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new fp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ax);var lx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new i_(e.firestore,e.converter,kp(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ax);var fx=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=yx(e,this.type,this._docOrFields,this._inclusive);return new i_(e.firestore,e.converter,function(e,t){return new fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ax);function hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fx._create("startAt",t,!0)}function dx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fx._create("startAfter",t,!1)}var px=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=yx(e,this.type,this._docOrFields,this._inclusive);return new i_(e.firestore,e.converter,function(e,t){return new fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ax);function vx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return px._create("endBefore",t,!1)}function mx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return px._create("endAt",t,!0)}function yx(e,t,n,r){if(n[0]=na(n[0]),n[0]instanceof ex)return function(e,t,n,r,i){if(!r)throw new mf(vf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=I(mp(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(gd(t,r.key));else{var c=r.data.field(u.field);if(id(c))throw new mf(vf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mf(vf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Rd(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=D_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new mf(vf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new mf(vf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!vp(e)&&-1!==c.indexOf("/"))throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Df.fromString(c));if(!jf.isDocumentKey(l))throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new jf(l);s.push(gd(t,f))}else{var h=W_(n,r,c);s.push(h)}}return new Rd(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function gx(e,t,n){if("string"==typeof(n=na(n))){if(""===n)throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vp(t)&&-1!==n.indexOf("/"))throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Df.fromString(n));if(!jf.isDocumentKey(r))throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gd(e,new jf(r))}if(n instanceof a_)return gd(e,n._key);throw new mf(vf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jw(n),"."))}function bx(e,t){if(!Array.isArray(e)||0===e.length)throw new mf(vf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function kx(e,t){var n=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,a=I(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new mf(vf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mf(vf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var wx=function(){function e(){d(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hf()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return qh(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new I_(nd(e.latitude),nd(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ad(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(od(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=td(e);return new Af(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Df.fromString(e);df(xm(n));var r=new ud(n.get(1),n.get(3)),i=new jf(n.popFirst(5));return r.isEqual(t)||cf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function _x(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var xx=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new S_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new a_(this.firestore,null,t)}}]),n}(wx);var Sx=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ex=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return y(n,[{key:"exists",value:function(){return Do(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Tx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(nx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ex),Tx=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Do(k(n.prototype),"data",this).call(this,e)}}]),n}(Ex),Ix=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sx(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Tx(n._firestore,n._userDataWriter,r.key,r,new Sx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mf(vf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Tx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Tx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Cx(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function Cx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hf()}}function Ox(e,t){return e instanceof Ex&&t instanceof Ex?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ix&&t instanceof Ix&&e._firestore===t._firestore&&l_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Px=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new S_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new a_(this.firestore,null,t)}}]),n}(wx);function Ax(e){e=Zw(e,a_);var t=Zw(e.firestore,p_),n=v_(t),r=new Px(t);return function(e,t){var n=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=pf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new mf(vf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Jb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Fw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Ex(t,r,e._key,n,new Sx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Nx(e){e=Zw(e,i_);var t=Zw(e.firestore,p_),n=v_(t),r=new Px(t);return rx(e._query),Hw(n,e._query).then((function(n){return new Ix(t,r,e,n)}))}function Rx(e){e=Zw(e,i_);var t=Zw(e.firestore,p_),n=v_(t),r=new Px(t);return function(e,t){var n=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cg(t,n,!0);case 3:i=e.sent,a=new gk(n,i.ls),o=a.ca(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Jb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Fw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Ix(t,r,e,n)}))}function Dx(e){e=Zw(e,i_);var t=Zw(e.firestore,p_),n=v_(t),r=new Px(t);return Hw(n,e._query,{source:"server"}).then((function(n){return new Ix(t,r,e,n)}))}function Lx(e,t,n){e=Zw(e,a_);var r=Zw(e.firestore,p_),i=_x(e.converter,t,n);return Ux(r,[L_(D_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,av.none())])}function Mx(e,t,n){e=Zw(e,a_);for(var r=Zw(e.firestore,p_),i=D_(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Ux(r,[("string"==typeof(t=na(t))||t instanceof E_?q_(i,"updateDoc",e._key,t,n,o):B_(i,"updateDoc",e._key,t)).toMutation(e._key,av.exists(!0))])}function jx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=na(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||h_(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(h_(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof a_)l=Zw(e.firestore,p_),f=dp(e._key.path),c={next:function(t){n[u]&&n[u](zx(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Zw(e,i_);l=Zw(p.firestore,p_),f=p._query;var v=new Px(l);c={next:function(e){n[u]&&n[u](new Ix(l,v,p,e))},error:n[u+1],complete:n[u+2]},rx(e._query)}return function(e,t,n,r){var i=new xw(r),a=new fk(t,i,n);return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ik,t.next=3,Bw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Na(),e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ok,t.next=3,Bw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(v_(l),f,h,c)}function Fx(e,t){return function(e,t){var n=new xw(t);return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){pf(e).q_.add(t),t.next()},t.next=3,Bw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Na(),e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){pf(e).q_.delete(t)},t.next=3,Bw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(v_(e=Zw(e,p_)),h_(t)?t:{next:t})}function Ux(e,t){return function(e,t){var n=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function r(){return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Ck,r.next=3,zw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(v_(e),t)}function zx(e,t,n){var r=n.docs.get(t._key),i=new Px(e);return new Ex(e,i,t._key,r,new Sx(n.hasPendingWrites,n.fromCache),t.converter)}var Vx={maxAttempts:5},Bx=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=D_(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qx(e,this._firestore),i=_x(r.converter,t,n),a=L_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,av.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=na(t))||t instanceof E_?q_(this._dataReader,"WriteBatch.update",i._key,t,n,o):B_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,av.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qx(e,this._firestore);return this._mutations=this._mutations.concat(new kv(t._key,av.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new mf(vf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qx(e,t){if((e=na(e)).firestore!==t)throw new mf(vf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Wx=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=qx(e,this._firestore),i=new Px(this._firestore);return Do(k(n.prototype),"get",this).call(this,e).then((function(e){return new Ex(t._firestore,i,r._key,e._document,new Sx(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=D_(t)}return y(e,[{key:"get",value:function(e){var t=this,n=qx(e,this._firestore),r=new xx(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return hf();var i=e[0];if(i.isFoundDocument())return new ex(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ex(t._firestore,r,n._key,null,n.converter);throw hf()}))}},{key:"set",value:function(e,t,n){var r=qx(e,this._firestore),i=_x(r.converter,t,n),a=L_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qx(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=na(t))||t instanceof E_?q_(this._dataReader,"Transaction.update",i._key,t,n,o):B_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qx(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Hx(e,t,n){e=Zw(e,p_);var r=Object.assign(Object.assign({},Vx),n);return function(e){if(e.maxAttempts<1)throw new mf(vf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new yf;return e.asyncQueue.enqueueAndForget(Ze(Xe().mark((function i(){var a;return Xe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Vw(e);case 2:a=i.sent,new Tw(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(v_(e),(function(n){return t(new Wx(e,n))}),r)}function Kx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new U_("arrayUnion",t)}function Gx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new z_("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){af=e}(eo),Ga(new ra("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new p_(new wf(e.getProvider("auth-internal")),new Ef(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mf(vf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),oo(nf,"4.4.0",e),oo(nf,"4.4.0","esm2017")}();function Qx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Yx(){if("undefined"===typeof Uint8Array)throw new mf("unimplemented","Uint8Arrays are not available in this environment.")}function $x(){if("undefined"==typeof atob)throw new mf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Xx=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return $x(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Yx(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return $x(),new e(S_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Yx(),new e(S_.fromUint8Array(t))}}]),e}();function Jx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Zx=function(){function e(){d(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){x_(e=Zw(e,p_));var n=v_(e);if(n._uninitializedComponentsProvider)throw new mf(vf.FAILED_PRECONDITION,"SDK cache is already specified.");lf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new ww;return y_(n,i,new bw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){x_(e=Zw(e,p_));var t=v_(e);if(t._uninitializedComponentsProvider)throw new mf(vf.FAILED_PRECONDITION,"SDK cache is already specified.");lf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new ww;return y_(t,r,new kw(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new mf(vf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new yf;return e._queue.enqueueAndForgetEvenWhileRestricted(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zf.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Zf.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(hg(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),eS=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ud||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||lf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return b_(this._delegate)}},{key:"disableNetwork",value:function(){return k_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Yw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return g_(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Fx(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new mf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new pS(this,s_(this._delegate,e))}catch(t){throw oS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new aS(this,u_(this._delegate,e))}catch(t){throw oS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new fS(this,function(e,t){if(e=Zw(e,n_),Qw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mf(vf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new i_(e,null,function(e){return new fp(Df.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Hx(this._delegate,(function(n){return e(new nS(t,n))}))}},{key:"batch",value:function(){var e=this;return v_(this._delegate),new rS(new Bx(this._delegate,(function(t){return Ux(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return w_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return __(this._delegate,e).then((function(e){return e?new fS(t,e):null}))}}]),e}(),tS=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new Xx(new S_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return aS.forKey(t,this.firestore,null)}}]),n}(wx);var nS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new tS(t)}return y(e,[{key:"get",value:function(e){var t=this,n=vS(e);return this._delegate.get(n).then((function(e){return new cS(t._firestore,new Ex(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=vS(e);return n?(Qx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=vS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vS(e);return this._delegate.delete(t),this}}]),e}(),rS=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=vS(e);return n?(Qx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=vS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=vS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),iS=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new Tx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new tS(t),n),i.set(n,a)),a}}]),e}();iS.INSTANCES=new WeakMap;var aS=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tS(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new pS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new pS(this.firestore,s_(this._delegate,e))}catch(t){throw oS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=na(e))instanceof a_&&c_(this._delegate,e)}},{key:"set",value:function(e,t){t=Qx("DocumentReference.set",t);try{return t?Lx(this._delegate,e,t):Lx(this._delegate,e)}catch(n){throw oS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Mx(this._delegate,e):Mx.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw oS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ux(Zw(e.firestore,p_),[new kv(e._key,av.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sS(n),a=uS(n,(function(t){return new cS(e.firestore,new Ex(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return jx(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Ax(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Zw(e,a_);var t=Zw(e.firestore,p_);return Ww(v_(t),e._key,{source:"server"}).then((function(n){return zx(t,e,n)}))}(this._delegate):function(e){e=Zw(e,a_);var t=Zw(e.firestore,p_);return Ww(v_(t),e._key).then((function(n){return zx(t,e,n)}))}(this._delegate)).then((function(e){return new cS(t.firestore,new Ex(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new mf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new a_(n._delegate,r,new jf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new a_(n._delegate,r,t))}}]),e}();function oS(e,t,n){return e.message=e.message.replace(t,n),e}function sS(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Jx(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function uS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Jx(e[0])?e[0]:Jx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var cS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new aS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Ox(this._delegate,e._delegate)}}]),e}(),lS=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||function(e,t){e||hf()}(void 0!==t),t}}]),n}(cS),fS=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new tS(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ox(this._delegate,function(e,t,n){var r=t,i=nx("where",e);return sx._create(i,r,n)}(t,n,r)))}catch(i){throw oS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ox(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=nx("orderBy",e);return cx._create(n,t)}(t,n)))}catch(r){throw oS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ox(this._delegate,function(e){return e_("limit",e),lx._create("limit",e,"F")}(t)))}catch(n){throw oS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ox(this._delegate,function(e){return e_("limitToLast",e),lx._create("limitToLast",e,"L")}(t)))}catch(n){throw oS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ox(this._delegate,hx.apply(void 0,arguments)))}catch(t){throw oS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ox(this._delegate,dx.apply(void 0,arguments)))}catch(t){throw oS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ox(this._delegate,vx.apply(void 0,arguments)))}catch(t){throw oS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ox(this._delegate,mx.apply(void 0,arguments)))}catch(t){throw oS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return l_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Rx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Dx(this._delegate):Nx(this._delegate)).then((function(e){return new dS(t.firestore,new Ix(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sS(n),a=uS(n,(function(t){return new dS(e.firestore,new Ix(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return jx(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(iS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new lS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),dS=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new fS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new lS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new lS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Ox(this._delegate,e._delegate)}}]),e}(),pS=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new aS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new aS(this.firestore,void 0===e?u_(this._delegate):u_(this._delegate,e))}catch(t){throw oS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Zw(e.firestore,p_),r=u_(e),i=_x(e.converter,t);return Ux(n,[L_(D_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,av.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new aS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return c_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(iS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(fS);function vS(e){return Zw(e,a_)}var mS,yS,gS=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(E_,n)}return y(e,[{key:"isEqual",value:function(e){return(e=na(e))instanceof E_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Mf.keyField().canonicalString())}}]),e}(),bS=function(){function e(t){d(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new F_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new M_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Kx.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Gx.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new V_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kS={Firestore:eS,GeoPoint:I_,Timestamp:Af,Blob:Xx,Transaction:nS,WriteBatch:rS,DocumentReference:aS,DocumentSnapshot:cS,Query:fS,QueryDocumentSnapshot:lS,QuerySnapshot:dS,CollectionReference:pS,FieldPath:gS,FieldValue:bS,setLogLevel:function(e){!function(e){of.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ra("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kS)))})(mS=Ro,(function(e,t){return new eS(e,t,new Zx)})),mS.registerVersion("@firebase/firestore-compat","0.3.23");var wS={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_S="EMAIL_SIGNIN",xS="PASSWORD_RESET",SS="RECOVER_EMAIL",ES="REVERT_SECOND_FACTOR_ADDITION",TS="VERIFY_AND_CHANGE_EMAIL",IS="VERIFY_EMAIL";function CS(){return $r({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var OS=function(){var e;return $r(e={},"admin-restricted-operation","This operation is restricted to administrators only."),$r(e,"argument-error",""),$r(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),$r(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),$r(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),$r(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),$r(e,"cordova-not-ready","Cordova framework is not ready."),$r(e,"cors-unsupported","This browser is not supported."),$r(e,"credential-already-in-use","This credential is already associated with a different user account."),$r(e,"custom-token-mismatch","The custom token corresponds to a different audience."),$r(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),$r(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),$r(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),$r(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),$r(e,"email-already-in-use","The email address is already in use by another account."),$r(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),$r(e,"expired-action-code","The action code has expired."),$r(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),$r(e,"internal-error","An internal AuthError has occurred."),$r(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),$r(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),$r(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),$r(e,"invalid-auth-event","An internal AuthError has occurred."),$r(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),$r(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),$r(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),$r(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),$r(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),$r(e,"invalid-email","The email address is badly formatted."),$r(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),$r(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),$r(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),$r(e,"invalid-credential","The supplied auth credential is incorrect, malformed or has expired."),$r(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),$r(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),$r(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),$r(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),$r(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),$r(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),$r(e,"wrong-password","The password is invalid or the user does not have a password."),$r(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),$r(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),$r(e,"invalid-provider-id","The specified provider ID is invalid."),$r(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),$r(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),$r(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),$r(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),$r(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),$r(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),$r(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),$r(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),$r(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),$r(e,"missing-continue-uri","A continue URL must be provided in the request."),$r(e,"missing-iframe-start","An internal AuthError has occurred."),$r(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),$r(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),$r(e,"missing-password","A non-empty password must be provided"),$r(e,"missing-multi-factor-info","No second factor identifier is provided."),$r(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),$r(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),$r(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),$r(e,"app-deleted","This instance of FirebaseApp has been deleted."),$r(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),$r(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),$r(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),$r(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),$r(e,"no-auth-event","An internal AuthError has occurred."),$r(e,"no-such-provider","User was not linked to an account with the given provider."),$r(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),$r(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),$r(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),$r(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),$r(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),$r(e,"provider-already-linked","User can only be linked to one identity for the given provider."),$r(e,"quota-exceeded","The project's quota for this operation has been exceeded."),$r(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),$r(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),$r(e,"rejected-credential","The request contains malformed or mismatching credentials."),$r(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),$r(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),$r(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),$r(e,"timeout","The operation has timed out."),$r(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),$r(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),$r(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),$r(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),$r(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),$r(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),$r(e,"unverified-email","The operation requires a verified email."),$r(e,"user-cancelled","The user did not grant your application the permissions it requested."),$r(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),$r(e,"user-disabled","The user account has been disabled by an administrator."),$r(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),$r(e,"user-signed-out",""),$r(e,"weak-password","The password must be 6 characters long or more."),$r(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),$r(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),$r(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),$r(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),$r(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),$r(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),$r(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),$r(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),$r(e,"invalid-req-type","Invalid request parameters."),$r(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),$r(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),$r(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},PS=CS,AS=new Wi("auth","Firebase",CS()),NS=new va("@firebase/auth");function RS(e){if(NS.logLevel<=ua.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];NS.warn.apply(NS,["Auth (".concat(eo,"): ").concat(e)].concat(n))}}function DS(e){if(NS.logLevel<=ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];NS.error.apply(NS,["Auth (".concat(eo,"): ").concat(e)].concat(n))}}function LS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw US.apply(void 0,[e].concat(n))}function MS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return US.apply(void 0,[e].concat(n))}function jS(e,t,n){var r=Object.assign(Object.assign({},PS()),$r({},t,n));return new Wi("auth","Firebase",r).create(t,{appName:e.name})}function FS(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&LS(e,"argument-error"),jS(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function US(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return AS.create.apply(AS,[e].concat(n))}function zS(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw US.apply(void 0,[t].concat(r))}}function VS(e){var t="INTERNAL ASSERTION FAILED: "+e;throw DS(t),new Error(t)}function BS(e,t){e||VS(t)}function qS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function WS(){return"http:"===HS()||"https:"===HS()}function HS(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var KS=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,BS(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ji())||zi()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(WS()||Ui()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function GS(e,t){BS(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var QS=function(){function e(){d(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void VS("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}))},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void VS("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void VS("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),YS=($r(yS={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),$r(yS,"MISSING_CUSTOM_TOKEN","internal-error"),$r(yS,"INVALID_IDENTIFIER","invalid-email"),$r(yS,"MISSING_CONTINUE_URI","internal-error"),$r(yS,"INVALID_PASSWORD","wrong-password"),$r(yS,"MISSING_PASSWORD","missing-password"),$r(yS,"INVALID_LOGIN_CREDENTIALS","invalid-credential"),$r(yS,"EMAIL_EXISTS","email-already-in-use"),$r(yS,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),$r(yS,"INVALID_IDP_RESPONSE","invalid-credential"),$r(yS,"INVALID_PENDING_TOKEN","invalid-credential"),$r(yS,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),$r(yS,"MISSING_REQ_TYPE","internal-error"),$r(yS,"EMAIL_NOT_FOUND","user-not-found"),$r(yS,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),$r(yS,"EXPIRED_OOB_CODE","expired-action-code"),$r(yS,"INVALID_OOB_CODE","invalid-action-code"),$r(yS,"MISSING_OOB_CODE","internal-error"),$r(yS,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),$r(yS,"INVALID_ID_TOKEN","invalid-user-token"),$r(yS,"TOKEN_EXPIRED","user-token-expired"),$r(yS,"USER_NOT_FOUND","user-token-expired"),$r(yS,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),$r(yS,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),$r(yS,"INVALID_CODE","invalid-verification-code"),$r(yS,"INVALID_SESSION_INFO","invalid-verification-id"),$r(yS,"INVALID_TEMPORARY_PROOF","invalid-credential"),$r(yS,"MISSING_SESSION_INFO","missing-verification-id"),$r(yS,"SESSION_EXPIRED","code-expired"),$r(yS,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),$r(yS,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),$r(yS,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$r(yS,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),$r(yS,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),$r(yS,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),$r(yS,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),$r(yS,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),$r(yS,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),$r(yS,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),$r(yS,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$r(yS,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),$r(yS,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),$r(yS,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),$r(yS,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),$r(yS,"MISSING_CLIENT_TYPE","missing-client-type"),$r(yS,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),$r(yS,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),$r(yS,"INVALID_REQ_TYPE","invalid-req-type"),yS),$S=new KS(3e4,6e4);function XS(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function JS(e,t,n,r){return ZS.apply(this,arguments)}function ZS(){return ZS=Ze(Xe().mark((function e(t,n,r,i){var a,o=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",eE(t,a,Ze(Xe().mark((function e(){var a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=$i(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",QS.fetch()(iE(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eE(e,t,n){return tE.apply(this,arguments)}function tE(){return tE=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},YS),n),e.prev=2,a=new oE(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw sE(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw sE(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw sE(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw sE(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw jS(t,p,d);case 34:LS(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof qi)){e.next=41;break}throw e.t0;case 41:LS(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),tE.apply(this,arguments)}function nE(e,t,n,r){return rE.apply(this,arguments)}function rE(){return rE=Ze(Xe().mark((function e(t,n,r,i){var a,o,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,JS(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&LS(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?GS(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function aE(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var oE=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(MS(n.auth,"network-request-failed"))}),$S.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function sE(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=MS(e,t,r);return i.customData._tokenResponse=n,i}function uE(e){return void 0!==e&&void 0!==e.getResponse}function cE(e){return void 0!==e&&void 0!==e.enterprise}var lE=function(){function e(t){if(d(this,e),this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return y(e,[{key:"getProviderEnforcementState",value:function(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;var t,n=I(this.recaptchaEnforcementState);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.provider&&r.provider===e)return aE(r.enforcementState)}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"isProviderEnabled",value:function(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}]),e}();function fE(e){return hE.apply(this,arguments)}function hE(){return hE=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JS(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"GET","/v2/recaptchaConfig",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function bE(e,t){return kE.apply(this,arguments)}function kE(){return kE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function wE(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _E(){return _E=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=na(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,zS((a=SE(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wE(xE(a.auth_time)),issuedAtTime:wE(xE(a.iat)),expirationTime:wE(xE(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function xE(e){return 1e3*Number(e)}function SE(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return DS("JWT malformed, contained fewer than 3 sections"),null;try{var a=Pi(r);return a?JSON.parse(a):(DS("Failed to decode base64 JWT payload"),null)}catch(o){return DS("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function EE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Ze(Xe().mark((function e(t,n){var r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof qi&&IE(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),TE.apply(this,arguments)}function IE(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var CE=function(){function e(t){d(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),OE=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wE(this.lastLoginAt),this.creationTime=wE(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function PE(e){return AE.apply(this,arguments)}function AE(){return AE=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,EE(t,bE(r,{idToken:i}));case 6:zS(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=tt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=RE(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new OE(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(){return(NE=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=na(t),e.next=3,PE(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RE(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eE(t,{},Ze(Xe().mark((function e(){var r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$i({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=iE(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",QS.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){return jE.apply(this,arguments)}function jE(){return jE=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v2/accounts:revokeToken",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}var FE=function(){function e(){d(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){zS(e.idToken,"internal-error"),zS("undefined"!==typeof e.idToken,"internal-error"),zS("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=SE(e);return zS(t,"internal-error"),zS("undefined"!==typeof t.exp,"internal-error"),zS("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],zS(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return VS("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(zS("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(zS("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(zS("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function UE(e,t){zS("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var zE=function(){function e(t){d(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=tt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new OE(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,EE(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(zS(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _E.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return NE.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(zS(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){zS(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,PE(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,EE(this,vE(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;zS(b&&x,t,"internal-error");var S=FE.fromJSON(this.name,x);zS("string"===typeof b,t,"internal-error"),UE(f,t.name),UE(h,t.name),zS("boolean"===typeof k,t,"internal-error"),zS("boolean"===typeof w,t,"internal-error"),UE(d,t.name),UE(p,t.name),UE(v,t.name),UE(m,t.name),UE(y,t.name),UE(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ze(Xe().mark((function t(n,r){var i,a,o,s=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new FE).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,PE(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),VE=new Map;function BE(e){BS(e instanceof Function,"Expected a class definition");var t=VE.get(e);return t?(BS(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,VE.set(e,t),t)}var qE=function(){function e(){d(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qE.type="NONE";var WE=qE;function HE(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var KE=function(){function e(t,n,r){d(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=HE(this.userKey,a.apiKey,o),this.fullPersistenceKey=HE("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?zE._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ze(Xe().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(BE(WE),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||BE(WE),s=HE(i,n.config.apiKey,n.name),u=null,c=I(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=zE._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function GE(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(QE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZE(t))return"Blackberry";if(eT(t))return"Webos";if(YE(t))return"Safari";if((t.includes("chrome/")||$E(t))&&!t.includes("edge/"))return"Chrome";if(JE(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function QE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/firefox\//i.test(e)}function YE(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/crios\//i.test(e)}function XE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/iemobile/i.test(e)}function JE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/android/i.test(e)}function ZE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/blackberry/i.test(e)}function eT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/webos/i.test(e)}function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return tT(e)||JE(e)||eT(e)||ZE(e)||/windows phone/i.test(e)||XE(e)}function rT(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=GE(ji());break;case"Worker":t="".concat(GE(ji()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(eo,"/").concat(r)}var iT=function(){function e(t){d(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=I(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=I(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(dn){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function aT(e){return oT.apply(this,arguments)}function oT(){return oT=Ze(Xe().mark((function e(t){var n,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",JS(t,"GET","/v2/passwordPolicy",XS(t,n)));case 2:case"end":return e.stop()}}),e)}))),oT.apply(this,arguments)}var sT=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return y(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),uT=function(){function e(t,n,r,i){d(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new iT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=BE(t)),this._initializationPromise=this.queue(Ze(Xe().mark((function r(){var i,a;return Xe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,KE.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return zS(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,PE(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?na(t):null)&&zS(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){var n,r=this,i=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&zS(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(BE(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aT(this);case 2:t=e.sent,n=new sT(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Wi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"revokeAccessToken",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.currentUser){e.next=8;break}return e.next=3,this.currentUser.getIdToken();case 3:return n=e.sent,r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},null!=this.tenantId&&(r.tenantId=this.tenantId),e.next=8,ME(this,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return zS(n=t&&BE(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,KE.create(this,[BE(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(zS(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return zS(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$r({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&RS("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cT(e){return na(e)}var lT=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Zi((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return zS(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fT(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=MS("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hT(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var dT=function(){function e(t){d(this,e),this.type="recaptcha-enterprise",this.auth=cT(t)}return y(e,[{key:"verify",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;cE(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Ze(Xe().mark((function e(n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dE(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new lE(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&cE(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));fT("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pT(e,t,n){return vT.apply(this,arguments)}function vT(){return vT=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new dT(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),vT.apply(this,arguments)}function mT(e,t,n,r){return yT.apply(this,arguments)}function yT(){return yT=Ze(Xe().mark((function e(t,n,r,i){var a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))){e.next=7;break}return e.next=3,pT(t,n,r,"getOobCode"===r);case 3:return o=e.sent,e.abrupt("return",i(t,o));case 7:return e.abrupt("return",i(t,n).catch(function(){var e=Ze(Xe().mark((function e(a){var o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("".concat(r," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),e.next=4,pT(t,n,r,"getOobCode"===r);case 4:return o=e.sent,e.abrupt("return",i(t,o));case 8:return e.abrupt("return",Promise.reject(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}function gT(e,t,n){var r=cT(e);zS(r._canInitEmulator,r,"emulator-config-failed"),zS(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=bT(t),o=function(e){var t=bT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:kT(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:kT(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function bT(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kT(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var wT=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return VS("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return VS("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return VS("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return VS("not implemented")}}]),e}();function _T(e,t){return xT.apply(this,arguments)}function xT(){return xT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:resetPassword",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function ST(e,t){return ET.apply(this,arguments)}function ET(){return ET=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e,t){return IT.apply(this,arguments)}function IT(){return IT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:signUp",n));case 1:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function CT(e,t){return OT.apply(this,arguments)}function OT(){return OT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:update",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function PT(e,t){return AT.apply(this,arguments)}function AT(){return AT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithPassword",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e,t){return RT.apply(this,arguments)}function RT(){return RT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:sendOobCode",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function DT(e,t){return LT.apply(this,arguments)}function LT(){return LT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NT(t,n));case 1:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t){return jT.apply(this,arguments)}function jT(){return jT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NT(t,n));case 1:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function FT(e,t){return UT.apply(this,arguments)}function UT(){return UT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NT(t,n));case 1:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function zT(e,t){return VT.apply(this,arguments)}function VT(){return VT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NT(t,n));case 1:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function BT(e,t){return qT.apply(this,arguments)}function qT(){return qT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithEmailLink",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),qT.apply(this,arguments)}function WT(e,t){return HT.apply(this,arguments)}function HT(){return HT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithEmailLink",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),HT.apply(this,arguments)}var KT=function(e){b(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",mT(t,n,"signInWithPassword",PT));case 5:return e.abrupt("return",BT(t,{email:this._email,oobCode:this._password}));case 6:LS(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?5:6;break;case 3:return r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},e.abrupt("return",mT(t,r,"signUpPassword",TT));case 5:return e.abrupt("return",WT(t,{idToken:n,email:this._email,oobCode:this._password}));case 6:LS(t,"internal-error");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(wT);function GT(e,t){return QT.apply(this,arguments)}function QT(){return QT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithIdp",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),QT.apply(this,arguments)}var YT=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return GT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,GT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,GT(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$i(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):LS("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=tt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(wT);function $T(e,t){return XT.apply(this,arguments)}function XT(){return XT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:sendVerificationCode",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function JT(){return JT=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithPhoneNumber",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function ZT(){return ZT=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nE(t,"POST","/v1/accounts:signInWithPhoneNumber",XS(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw sE(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}var eI=$r({},"USER_NOT_FOUND","user-not-found");function tI(){return tI=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithPhoneNumber",XS(t,r),eI));case 2:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}var nI=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return JT.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ZT.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tI.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(wT);var rI=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=Xi(Ji(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);zS(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xi(Ji(e)).link,n=t?Xi(Ji(t)).deep_link_id:null,r=Xi(Ji(e)).deep_link_id;return(r?Xi(Ji(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var iI=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return KT._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rI.parseLink(t);return zS(n,"argument-error"),KT._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();iI.PROVIDER_ID="password",iI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var aI=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oI=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(aI),sI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return zS(e.idToken||e.accessToken,"argument-error"),YT._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return zS("providerId"in t&&"signInMethod"in t,"argument-error"),YT._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(oI),uI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return YT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(oI);uI.FACEBOOK_SIGN_IN_METHOD="facebook.com",uI.PROVIDER_ID="facebook.com";var cI=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return YT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(oI);cI.GOOGLE_SIGN_IN_METHOD="google.com",cI.PROVIDER_ID="google.com";var lI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return YT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(oI);lI.GITHUB_SIGN_IN_METHOD="github.com",lI.PROVIDER_ID="github.com";var fI=function(e){b(n,e);var t=x(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return GT(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,GT(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,GT(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wT),hI=function(e){b(n,e);var t=x(n);function n(e){return d(this,n),zS(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fI.fromJSON(e);return zS(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fI._create(r,n)}catch(i){return null}}}]),n}(aI),dI=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return YT._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(oI);function pI(e,t){return vI.apply(this,arguments)}function vI(){return vI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signUp",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}dI.TWITTER_SIGN_IN_METHOD="twitter.com",dI.PROVIDER_ID="twitter.com";var mI=function(){function e(t){d(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ze(Xe().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,zE._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=yI(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ze(Xe().mark((function t(n,r,i){var a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yI(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yI(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function gI(){return gI=Ze(Xe().mark((function e(t){var n,r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cT(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mI({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,pI(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mI._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}var bI=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(qi);function kI(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bI._fromErrorAndOperation(e,n,t,r);throw n}))}function wI(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function _I(e,t){return xI.apply(this,arguments)}function xI(){return xI=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,TI(!0,r,n);case 3:return e.t0=yE,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=wI(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),xI.apply(this,arguments)}function SI(e,t){return EI.apply(this,arguments)}function EI(){return EI=Ze(Xe().mark((function e(t,n){var r,i,a=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=EE,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mI._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function TI(e,t,n){return II.apply(this,arguments)}function II(){return II=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PE(n);case 2:i=wI(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",zS(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function CI(e,t){return OI.apply(this,arguments)}function OI(){return OI=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,EE(t,kI(i,a,n,t),r);case 6:return zS((o=e.sent).idToken,i,"internal-error"),zS(s=SE(o.idToken),i,"internal-error"),u=s.sub,zS(t.uid===u,i,"user-mismatch"),e.abrupt("return",mI._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&LS(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),OI.apply(this,arguments)}function PI(e,t){return AI.apply(this,arguments)}function AI(){return AI=Ze(Xe().mark((function e(t,n){var r,i,a,o,s=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,kI(t,i,n);case 4:return a=e.sent,e.next=7,mI._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),AI.apply(this,arguments)}function NI(e,t){return RI.apply(this,arguments)}function RI(){return RI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PI(cT(t),n));case 1:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function DI(e,t){return LI.apply(this,arguments)}function LI(){return(LI=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,TI(!1,r,n.providerId);case 3:return e.abrupt("return",SI(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MI(e,t){return jI.apply(this,arguments)}function jI(){return(jI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",CI(na(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FI(e,t){return UI.apply(this,arguments)}function UI(){return UI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nE(t,"POST","/v1/accounts:signInWithCustomToken",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function zI(){return zI=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cT(t),e.next=3,FI(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mI._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}var VI=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?BI._fromServerResponse(e,t):"totpInfo"in t?qI._fromServerResponse(e,t):LS(e,"internal-error")}}]),e}(),BI=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(VI),qI=function(e){b(n,e);var t=x(n);function n(e){return d(this,n),t.call(this,"totp",e)}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(VI);function WI(e,t,n){var r;zS((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),zS("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(zS(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(zS(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function HI(e){return KI.apply(this,arguments)}function KI(){return KI=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=cT(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(){return GI=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},r&&WI(i,a,r),e.next=5,mT(i,a,"getOobCode",MT);case 5:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function QI(){return QI=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(na(t),{oobCode:n,newPassword:r}).catch(function(){var e=Ze(Xe().mark((function e(n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&HI(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(){return YI=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CT(na(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function $I(e,t){return XI.apply(this,arguments)}function XI(){return XI=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,_T(r,{oobCode:n});case 3:i=e.sent,zS(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return zS(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:zS(i.mfaInfo,r,"internal-error");case 13:zS(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=VI._fromServerResponse(cT(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(){return JI=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$I(na(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function ZI(e,t,n){return eC.apply(this,arguments)}function eC(){return eC=Ze(Xe().mark((function e(t,n,r){var i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),a=mT(i,{returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pI),e.next=5,a.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&HI(t),e}));case 5:return o=e.sent,e.next=8,mI._fromIdTokenResponse(i,"signIn",o);case 8:return s=e.sent,e.next=11,i._updateCurrentUser(s.user);case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(){return tC=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t){zS(t.handleCodeInApp,i,"argument-error"),t&&WI(i,e,t)},i=cT(t),o(a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},r),e.next=6,mT(i,a,"getOobCode",FT);case 6:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(){return nC=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),zS((a=iI.credentialWithLink(n,r||qS()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",NI(i,a));case 4:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:createAuthUri",XS(t,n)));case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(){return aC=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=WS()?qS():"http://localhost",i={identifier:n,continueUri:r},e.next=4,rC(na(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(){return(oC=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=na(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&WI(r.auth,a,n),e.next=8,DT(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sC(){return(sC=Ze(Xe().mark((function e(t,n,r){var i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&WI(i.auth,o,r),e.next=8,zT(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(e,t){return cC.apply(this,arguments)}function cC(){return cC=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(){return(lC=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=na(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,EE(a,uC(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(e,t,n){return hC.apply(this,arguments)}function hC(){return hC=Ze(Xe().mark((function e(t,n,r){var i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,EE(t,ST(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}var dC=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),pC=function(e){b(n,e);var t=x(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(dC),vC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(dC),mC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(pC),yC=function(e){b(n,e);var t=x(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return y(n)}(dC),gC=function(e){b(n,e);var t=x(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(pC);function bC(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=SE(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new dC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new vC(a,i);case"github.com":return new mC(a,i);case"google.com":return new yC(a,i);case"twitter.com":return new gC(a,i,e.screenName||null);case"custom":case"anonymous":return new dC(a,null);default:return new dC(a,r,i)}}(n)}var kC=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:$r({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),wC=function(){function e(t,n,r){d(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=cT(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return VI._fromServerResponse(r,e)}));zS(i.mfaPendingCredential,r,"internal-error");var o=kC._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ze(Xe().mark((function e(t){var a,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mI._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return zS(n.user,r,"internal-error"),e.abrupt("return",mI._forOperation(n.user,n.operationType,s));case 17:LS(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function _C(e,t){return JS(e,"POST","/v2/accounts/mfaEnrollment:start",XS(e,t))}function xC(e,t){return JS(e,"POST","/v2/accounts/mfaEnrollment:start",XS(e,t))}function SC(e,t){return JS(e,"POST","/v2/accounts/mfaEnrollment:finalize",XS(e,t))}function EC(e,t){return JS(e,"POST","/v2/accounts/mfaEnrollment:withdraw",XS(e,t))}var TC=function(){function e(t){var n=this;d(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return VI._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=kC,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,EE(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,EE(this.user,EC(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),IC=new WeakMap;var CC="__sak",OC=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(CC,"1"),this.storage.removeItem(CC),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var PC=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ji();return YE(e)||tT(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=nT(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Vi()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OC);PC.type="LOCAL";var AC=PC,NC=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OC);NC.type="SESSION";var RC=NC;function DC(e){return Promise.all(e.map(function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var LC=function(){function e(t){d(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u,c;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,DC(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function MC(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}LC.receivers=[];var jC=function(){function e(t){d(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=MC("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function FC(){return window}function UC(e){FC().location.href=e}function zC(){return"undefined"!==typeof FC().WorkerGlobalScope&&"function"===typeof FC().importScripts}function VC(){return BC.apply(this,arguments)}function BC(){return(BC=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function qC(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var WC="firebaseLocalStorageDb",HC="firebaseLocalStorage",KC="fbase_key",GC=function(){function e(t){d(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function QC(e,t){return e.transaction([HC],t?"readwrite":"readonly").objectStore(HC)}function YC(){var e=indexedDB.deleteDatabase(WC);return new GC(e).toPromise()}function $C(){var e=indexedDB.open(WC,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(HC,{keyPath:KC})}catch(r){n(r)}})),e.addEventListener("success",Ze(Xe().mark((function n(){var r;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(HC)){n.next=12;break}return r.close(),n.next=5,YC();case 5:return n.t0=t,n.next=8,$C();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function XC(e,t,n){return JC.apply(this,arguments)}function JC(){return JC=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=QC(t,!0).put(($r(i={},KC,n),$r(i,"value",r),i)),e.abrupt("return",new GC(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t){return eO.apply(this,arguments)}function eO(){return eO=Ze(Xe().mark((function e(t,n){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=QC(t,!1).get(n),e.next=3,new GC(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}function tO(e,t){var n=QC(e,!0).delete(t);return new GC(n).toPromise()}var nO=function(){function e(){d(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$C();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zC()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ze(Xe().mark((function e(){var t=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=LC._getInstance(zC()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ze(Xe().mark((function e(n,r){var i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VC();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new jC(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&qC()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$C();case 5:return t=e.sent,e.next=8,XC(t,CC,"1");case 8:return e.next=10,tO(t,CC);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ze(Xe().mark((function e(t,n){var r=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return XC(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ZC(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ze(Xe().mark((function e(t){var n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return tO(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=QC(e,!1).getAll();return new GC(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:if(n=[],r=new Set,0!==t.length){i=I(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ze(Xe().mark((function t(){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();nO.type="LOCAL";var rO=nO;function iO(e,t){return JS(e,"POST","/v2/accounts/mfaSignIn:start",XS(e,t))}function aO(e,t){return JS(e,"POST","/v2/accounts/mfaSignIn:finalize",XS(e,t))}var oO=1e12,sO=function(){function e(t){d(this,e),this.auth=t,this.counter=oO,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new uO(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||oO;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||oO;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||oO,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),uO=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;zS(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var cO=hT("rcb"),lO=new KS(3e4,6e4),fO=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=FC().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return zS(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&uE(FC().grecaptcha)?Promise.resolve(FC().grecaptcha):new Promise((function(r,i){var a=FC().setTimeout((function(){i(MS(e,"network-request-failed"))}),lO.get());FC()[cO]=function(){FC().clearTimeout(a),delete FC()[cO];var o=FC().grecaptcha;if(o&&uE(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(MS(e,"internal-error"))},fT("".concat("https://www.google.com/recaptcha/api.js?","?").concat($i({onload:cO,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(MS(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=FC().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var hO=function(){function e(){d(this,e)}return y(e,[{key:"load",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new sO(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),dO="recaptcha",pO={theme:"light",type:"image"},vO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},pO);d(this,e),this.parameters=r,this.type=dO,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cT(t),this.isInvisible="invisible"===this.parameters.size,zS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;zS(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hO:new fO,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=Ze(Xe().mark((function e(){var t,n,r,i=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){zS(!this.parameters.sitekey,this.auth,"argument-error"),zS(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),zS("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=FC()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){zS(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zS(WS()&&!zC(),this.auth,"internal-error"),e.next=3,mO();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,fE(this.auth);case 8:zS(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return zS(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function mO(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var yO=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=nI._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function gO(){return gO=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),e.next=3,_O(i,n,na(r));case 3:return a=e.sent,e.abrupt("return",new yO(a,(function(e){return NI(i,e)})));case 5:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function bO(e,t,n){return kO.apply(this,arguments)}function kO(){return(kO=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),e.next=3,TI(!1,i,"phone");case 3:return e.next=5,_O(i.auth,n,na(r));case 5:return a=e.sent,e.abrupt("return",new yO(a,(function(e){return DI(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wO(){return(wO=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=na(t),e.next=3,_O(i.auth,n,na(r));case 3:return a=e.sent,e.abrupt("return",new yO(a,(function(e){return MI(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _O(e,t,n){return xO.apply(this,arguments)}function xO(){return xO=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,zS("string"===typeof a,t,"argument-error"),zS(r.type===dO,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return zS("enroll"===s.type,t,"internal-error"),e.next=13,_C(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return zS("signin"===s.type,t,"internal-error"),zS(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,iO(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,$T(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),xO.apply(this,arguments)}function SO(){return(SO=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SI(na(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var EO=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=cT(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return _O(this.auth,e,na(t))}}],[{key:"credential",value:function(e,t){return nI._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?nI._fromTokenResponse(n,r):null}}]),e}();function TO(e,t){return t?BE(t):(zS(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}EO.PROVIDER_ID="phone",EO.PHONE_SIGN_IN_METHOD="phone";var IO=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return GT(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return GT(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return GT(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(wT);function CO(e){return PI(e.auth,new IO(e),e.bypassAuthState)}function OO(e){var t=e.auth,n=e.user;return zS(n,t,"internal-error"),CI(n,new IO(e),e.bypassAuthState)}function PO(e){return AO.apply(this,arguments)}function AO(){return AO=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,zS(r=t.user,n,"internal-error"),e.abrupt("return",SI(r,new IO(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}var NO=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ze(Xe().mark((function t(n,r){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CO;case"linkViaPopup":case"linkViaRedirect":return PO;case"reauthViaPopup":case"reauthViaRedirect":return OO;default:LS(this.auth,"internal-error")}}},{key:"resolve",value:function(e){BS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){BS(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),RO=new KS(2e3,1e4);function DO(e,t,n){return LO.apply(this,arguments)}function LO(){return LO=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),FS(t,n,aI),a=TO(i,r),o=new UO(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),LO.apply(this,arguments)}function MO(){return MO=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FS((i=na(t)).auth,n,aI),a=TO(i.auth,r),o=new UO(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),MO.apply(this,arguments)}function jO(e,t,n){return FO.apply(this,arguments)}function FO(){return FO=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FS((i=na(t)).auth,n,aI),a=TO(i.auth,r),o=new UO(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}var UO=function(e){b(n,e);var t=x(n);function n(e,r,i,a,o){var s;return d(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_(s),s}return y(n,[{key:"executeNotNull",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return zS(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze(Xe().mark((function e(){var t,n=this;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS(1===this.filter.length,"Popup operations only handle one event"),t=MC(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(MS(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(MS(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(MS(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,RO.get())}()}}]),n}(NO);UO.currentPopupAction=null;var zO="pendingRedirect",VO=new Map,BO=function(e){b(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=Ze(Xe().mark((function e(){var t,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=VO.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,qO(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Do(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:VO.set(this.auth._key(),t);case 21:return this.bypassAuthState||VO.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ze(Xe().mark((function e(t){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Do(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Do(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(NO);function qO(e,t){return WO.apply(this,arguments)}function WO(){return WO=Ze(Xe().mark((function e(t,n){var r,i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YO(n),i=QO(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),WO.apply(this,arguments)}function HO(e,t){return KO.apply(this,arguments)}function KO(){return KO=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QO(t)._set(YO(n),"true"));case 1:case"end":return e.stop()}}),e)}))),KO.apply(this,arguments)}function GO(e,t){VO.set(e._key(),t)}function QO(e){return BE(e._redirectPersistence)}function YO(e){return HE(zO,e.config.apiKey,e.name)}function $O(e,t,n){return function(e,t,n){return XO.apply(this,arguments)}(e,t,n)}function XO(){return XO=Ze(Xe().mark((function e(t,n,r){var i,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cT(t),FS(t,n,aI),e.next=4,i._initializationPromise;case 4:return a=TO(i,r),e.next=7,HO(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),XO.apply(this,arguments)}function JO(e,t,n){return function(e,t,n){return ZO.apply(this,arguments)}(e,t,n)}function ZO(){return ZO=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FS((i=na(t)).auth,n,aI),e.next=4,i.auth._initializationPromise;case 4:return a=TO(i.auth,r),e.next=7,HO(a,i.auth);case 7:return e.next=9,oP(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),ZO.apply(this,arguments)}function eP(e,t,n){return function(e,t,n){return tP.apply(this,arguments)}(e,t,n)}function tP(){return tP=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FS((i=na(t)).auth,n,aI),e.next=4,i.auth._initializationPromise;case 4:return a=TO(i.auth,r),e.next=7,TI(!1,i,n.providerId);case 7:return e.next=9,HO(a,i.auth);case 9:return e.next=11,oP(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),tP.apply(this,arguments)}function nP(e,t){return rP.apply(this,arguments)}function rP(){return rP=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cT(t)._initializationPromise;case 2:return e.abrupt("return",iP(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(e,t){return aP.apply(this,arguments)}function aP(){return aP=Ze(Xe().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=cT(t),a=TO(i,n),o=new BO(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),aP.apply(this,arguments)}function oP(e){return sP.apply(this,arguments)}function sP(){return(sP=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=MC("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uP=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lP(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!lP(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(MS(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cP(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cP(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function lP(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fP(e){return hP.apply(this,arguments)}function hP(){return hP=Ze(Xe().mark((function e(t){var n,r=arguments;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",JS(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hP.apply(this,arguments)}var dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pP=/^https?/;function vP(){return vP=Ze(Xe().mark((function e(t){var n,r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fP(t);case 4:n=e.sent,r=n.authorizedDomains,i=I(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!mP(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:LS(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),vP.apply(this,arguments)}function mP(e){var t=qS(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pP.test(r))return!1;if(dP.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yP=new KS(3e4,6e4);function gP(){var e=FC().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var bP=null;function kP(e){return bP=bP||function(e){return new Promise((function(t,n){var r,i,a;function o(){gP(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gP(),n(MS(e,"network-request-failed"))},timeout:yP.get()})}if(null===(i=null===(r=FC().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=FC().gapi)||void 0===a?void 0:a.load)){var s=hT("iframefcb");return FC()[s]=function(){gapi.load?o():n(MS(e,"network-request-failed"))},fT("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw bP=null,e}))}(e),bP}var wP=new KS(5e3,15e3),_P="__/auth/iframe",xP="emulator/auth/iframe",SP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TP(e){var t=e.config;zS(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?GS(t,xP):"https://".concat(e.config.authDomain,"/").concat(_P),r={apiKey:t.apiKey,appName:e.name,v:eo},i=EP.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat($i(r).slice(1))}function IP(e){return CP.apply(this,arguments)}function CP(){return CP=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kP(t);case 2:return n=e.sent,zS(r=FC().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:TP(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SP,dontclear:!0},(function(e){return new Promise(function(){var n=Ze(Xe().mark((function n(r,i){var a,o,s;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){FC().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=MS(t,"network-request-failed"),o=FC().setTimeout((function(){i(a)}),wP.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),CP.apply(this,arguments)}var OP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PP=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function AP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},OP),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ji().toLowerCase();n&&(s=$E(c)?"_blank":n),QE(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return tT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new PP(null);var h=window.open(t||"",s,f);zS(h,e,"popup-blocked");try{h.focus()}catch(d){}return new PP(h)}var NP="__/auth/handler",RP="emulator/auth/handler",DP=encodeURIComponent("fac");function LP(e,t,n,r,i,a){return MP.apply(this,arguments)}function MP(){return MP=Ze(Xe().mark((function e(t,n,r,i,a,o){var s,u,c,f,h,d,p,v,m,y,g,b,k;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zS(t.config.authDomain,t,"auth-domain-config-required"),zS(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:eo,eventId:a},n instanceof aI)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Gi(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof oI&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(DP,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(jP(t),"?").concat($i(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),MP.apply(this,arguments)}function jP(e){var t=e.config;return t.emulator?GS(t,RP):"https://".concat(t.authDomain,"/").concat(NP)}var FP="webStorageSupport",UP=function(){function e(){d(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RC,this._completeRedirectFn=iP,this._overrideRedirectResult=GO}return y(e,[{key:"_openPopup",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return BS(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,LP(t,n,r,qS(),i);case 3:return o=e.sent,e.abrupt("return",AP(t,o,MC()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,LP(t,n,r,qS(),i);case 4:return UC(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(BS(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IP(t);case 2:return n=e.sent,r=new uP(t),n.register("authEvent",(function(e){return zS(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(FP,{type:FP},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[FP];void 0!==i&&t(!!i),LS(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vP.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return nT()||YE()||tT()}}]),e}(),zP=UP,VP=function(){function e(t){d(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return VS("unexpected MultiFactorSessionType")}}}]),e}(),BP=function(e){b(n,e);var t=x(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return JS(e,"POST","/v2/accounts/mfaEnrollment:finalize",XS(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return JS(e,"POST","/v2/accounts/mfaSignIn:finalize",XS(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(VP),qP=function(){function e(){d(this,e)}return y(e,null,[{key:"assertion",value:function(e){return BP._fromCredential(e)}}]),e}();qP.FACTOR_ID="phone";var WP=function(){function e(){d(this,e)}return y(e,null,[{key:"assertionForEnrollment",value:function(e,t){return HP._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return HP._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zS("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,xC(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",KP._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();WP.FACTOR_ID="totp";var HP=function(e){b(n,e);var t=x(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return y(n,[{key:"_finalizeEnroll",value:function(){var e=Ze(Xe().mark((function e(t,n,r){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zS("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",SC(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zS(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",aO(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(VP),KP=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return y(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(GP(e)||GP(t))&&(r=!0),r&&(GP(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),GP(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function GP(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var QP="@firebase/auth",YP="1.5.1",$P=function(){function e(t){d(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){zS(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var XP;!function(e){var t;null===(t=Ri())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function JP(){return window}XP="Browser",Ga(new ra("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;zS(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:XP,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(XP)},l=new uT(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(BE);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ga(new ra("auth-internal",(function(e){return function(e){return new $P(e)}(cT(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),oo(QP,YP,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(XP)),oo(QP,YP,"esm2017");var ZP=2e3;function eA(e,t,n){return tA.apply(this,arguments)}function tA(){return tA=Ze(Xe().mark((function e(t,n,r){var i,a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JP(),o=a.BuildInfo,BS(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,sA(n.sessionId);case 4:return s=e.sent,u={},tT()?u.ibi=o.packageName:JE()?u.apn=o.packageName:LS(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",LP(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(){return nA=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JP(),r=n.BuildInfo,i={},tT()?i.iosBundleId=r.packageName:JE()?i.androidPackageName=r.packageName:LS(t,"operation-not-supported-in-this-environment"),e.next=5,fP(t,i);case 5:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}function rA(e){var t=JP().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function iA(e,t,n){return aA.apply(this,arguments)}function aA(){return aA=Ze(Xe().mark((function e(t,n,r){var i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JP(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(MS(t,"redirect-cancelled-by-user"))}),ZP))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),JE()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),aA.apply(this,arguments)}function oA(e){var t,n,r,i,a,o,s,u,c,l,f=JP();zS("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),zS("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),zS("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),zS("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),zS("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function sA(e){return uA.apply(this,arguments)}function uA(){return(uA=Ze(Xe().mark((function e(t){var n,r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cA(e){if(BS(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var lA=20,fA=function(e){b(n,e);var t=x(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Do(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(uP);function hA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:yA(),postBody:null,tenantId:e.tenantId,error:MS(e,"no-auth-event")}}function dA(e,t){return gA()._set(bA(e),t)}function pA(e){return vA.apply(this,arguments)}function vA(){return vA=Ze(Xe().mark((function e(t){var n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gA()._get(bA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,gA()._remove(bA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){var n,r,i=function(e){var t=kA(e),n=t.link?decodeURIComponent(t.link):void 0,r=kA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return kA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=kA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?MS(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function yA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<lA;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function gA(){return BE(AC)}function bA(e){return HE("authEvent",e.config.apiKey,e.name)}function kA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return Xi(t.slice(1).join("?"))}var wA=function(){function e(){d(this,e),this._redirectPersistence=RC,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=iP,this._overrideRedirectResult=GO}return y(e,[{key:"_initialize",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new fA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){LS(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){var a,o,s,u;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),VO.clear(),e.next=10,this._originValidation(t);case 10:return o=hA(t,r,i),e.next=13,dA(t,o);case 13:return e.next=15,eA(t,o,n);case 15:return s=e.sent,e.next=18,rA(s);case 18:return u=e.sent,e.abrupt("return",iA(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return nA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=JP(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ze(Xe().mark((function n(){return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pA(e);case 2:t.onEvent(xA());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ze(Xe().mark((function n(r){var i,a;return Xe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,pA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=mA(i,r.url)),t.onEvent(a||xA());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");JP().handleOpenURL=function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),_A=wA;function xA(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:MS("no-auth-event")}}var SA=1e3;function EA(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function TA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return!("file:"!==EA()&&"ionic:"!==EA()&&"capacitor:"!==EA()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function IA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return Vi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ji();return/Edge\/\d+/.test(e)}(e)}function CA(){try{var e=self.localStorage,t=MC();if(e)return e.setItem(t,"1"),e.removeItem(t),!IA()||Bi()}catch(n){return OA()&&Bi()}return!1}function OA(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function PA(){return("http:"===EA()||"https:"===EA()||Ui()||TA())&&!(zi()||Fi())&&CA()&&!OA()}function AA(){return TA()&&"undefined"!==typeof document}function NA(){return RA.apply(this,arguments)}function RA(){return(RA=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(AA()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),SA);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DA={LOCAL:"local",NONE:"none",SESSION:"session"},LA=zS,MA="persistence";function jA(e,t){LA(Object.values(DA).includes(t),e,"invalid-persistence-type"),zi()?LA(t!==DA.SESSION,e,"unsupported-persistence-type"):Fi()?LA(t===DA.NONE,e,"unsupported-persistence-type"):OA()?LA(t===DA.NONE||t===DA.LOCAL&&Bi(),e,"unsupported-persistence-type"):LA(t===DA.NONE||CA(),e,"unsupported-persistence-type")}function FA(e){return UA.apply(this,arguments)}function UA(){return UA=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=zA(),r=HE(MA,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function zA(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var VA=zS,BA=function(){function e(){d(this,e),this.browserResolver=BE(zP),this.cordovaResolver=BE(_A),this.underlyingResolver=null,this._redirectPersistence=RC,this._completeRedirectFn=iP,this._overrideRedirectResult=GO}return y(e,[{key:"_initialize",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ze(Xe().mark((function e(t,n,r,i){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return AA()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return VA(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,NA();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function qA(e){return e.unwrap()}function WA(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new YA(e,function(e,t){var n,r=na(e),i=t;return zS(t.customData.operationType,r,"argument-error"),zS(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wC._fromError(r,i)}(e,t));else if(r){var i=HA(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function HA(e){var t=(e instanceof qi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof qi)&&"temporaryProof"in t&&"phoneNumber"in t)return EO.credentialFromResult(e);var n,r=t.providerId;if(!r||r===wS.PASSWORD)return null;switch(r){case wS.GOOGLE:n=cI;break;case wS.FACEBOOK:n=uI;break;case wS.GITHUB:n=lI;break;case wS.TWITTER:n=dI;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?fI._create(r,s):YT._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new sI(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof qi?n.credentialFromError(e):n.credentialFromResult(e)}function KA(e,t){return t.catch((function(t){throw t instanceof qi&&WA(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,HA(t)),additionalUserInfo:bC(e),user:$A.getOrCreate(r)}}))}function GA(e,t){return QA.apply(this,arguments)}function QA(){return QA=Ze(Xe().mark((function e(t,n){var r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return KA(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}var YA=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return KA(qA(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),$A=function(){function e(t){d(this,e),this._delegate=t,this.multiFactor=function(e){var t=na(e);return IC.has(t)||IC.set(t,TC._fromUser(t)),IC.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KA(this.auth,DI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GA(this.auth,bO(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KA(this.auth,jO(this._delegate,t,BA)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FA(cT(this.auth));case 2:return e.abrupt("return",eP(this._delegate,t,BA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KA(this.auth,MI(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return GA(this.auth,function(e,t,n){return wO.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return KA(this.auth,function(e,t,n){return MO.apply(this,arguments)}(this._delegate,e,BA))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FA(cT(this.auth));case 2:return e.abrupt("return",JO(this._delegate,t,BA));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return oC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_I(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return fC(na(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return fC(na(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return SO.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return lC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return sC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();$A.USER_MAP=new WeakMap;var XA=zS,JA=function(){function e(t,n){if(d(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;XA(r,"invalid-api-key",{appName:t.name}),XA(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?BA:void 0;this._delegate=n.initialize({options:{persistence:eN(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(OS),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?$A.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){gT(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return YI.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return $I(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return QI.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ze(Xe().mark((function e(t,n){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KA(this._delegate,ZI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return aC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=rI.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ze(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XA(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nP(this._delegate,BA);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",KA(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){cT(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ZA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ZA(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return tC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return GI.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ze(Xe().mark((function e(t){var n,r;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jA(this._delegate,t),e.t0=t,e.next=e.t0===DA.SESSION?4:e.t0===DA.LOCAL?6:e.t0===DA.NONE?11:13;break;case 4:return n=RC,e.abrupt("break",14);case 6:return e.next=8,BE(rO)._isAvailable();case 8:return r=e.sent,n=r?rO:AC,e.abrupt("break",14);case 11:return n=WE,e.abrupt("break",14);case 13:return e.abrupt("return",LS("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return KA(this._delegate,function(e){return gI.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return KA(this._delegate,NI(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return KA(this._delegate,function(e,t){return zI.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return KA(this._delegate,function(e,t,n){return NI(na(e),iI.credential(t,n)).catch(function(){var t=Ze(Xe().mark((function t(n){return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&HI(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return KA(this._delegate,function(e,t,n){return nC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return GA(this._delegate,function(e,t,n){return gO.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XA(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",KA(this._delegate,DO(this._delegate,t,BA)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XA(PA(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,FA(this._delegate);case 3:return e.abrupt("return",$O(this._delegate,t,BA));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return JI.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ZA(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&$A.getOrCreate(e))},error:t,complete:n}}function eN(e,t){var n=function(e,t){var n=zA();if(!n)return[];var r=HE(MA,e,t);switch(n.getItem(r)){case DA.NONE:return[WE];case DA.LOCAL:return[rO,RC];case DA.SESSION:return[RC];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(rO)||n.push(rO),"undefined"!==typeof window)for(var r=0,i=[AC,RC];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(WE)||n.push(WE),n}JA.Persistence=DA;var tN=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new EO(qA(Ro.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return EO.credential(e,t)}}]),e}();tN.PHONE_SIGN_IN_METHOD=EO.PHONE_SIGN_IN_METHOD,tN.PROVIDER_ID=EO.PROVIDER_ID;var nN=zS,rN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ro.app();d(this,e),nN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new vO(i.auth(),t,n),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ra("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new JA(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_S,PASSWORD_RESET:xS,RECOVER_EMAIL:SS,REVERT_SECOND_FACTOR_ADDITION:ES,VERIFY_AND_CHANGE_EMAIL:TS,VERIFY_EMAIL:IS}},EmailAuthProvider:iI,FacebookAuthProvider:uI,GithubAuthProvider:lI,GoogleAuthProvider:cI,OAuthProvider:sI,SAMLAuthProvider:hI,PhoneAuthProvider:tN,PhoneMultiFactorGenerator:qP,RecaptchaVerifier:rN,TwitterAuthProvider:dI,Auth:JA,AuthCredential:wT,Error:qi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.1")}(Ro);var iN,aN="firebasestorage.googleapis.com",oN="storageBucket",sN=function(e){b(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return d(this,n),(i=t.call(this,uN(e),"Firebase Storage: ".concat(r," (").concat(uN(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return y(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return uN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(qi);function uN(e){return"storage/"+e}function cN(){return new sN(iN.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function lN(){return new sN(iN.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fN(){return new sN(iN.CANCELED,"User canceled the upload/download.")}function hN(){return new sN(iN.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dN(e){return new sN(iN.INVALID_ARGUMENT,e)}function pN(){return new sN(iN.APP_DELETED,"The Firebase app was deleted.")}function vN(e){return new sN(iN.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mN(e,t){return new sN(iN.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yN(e){throw new sN(iN.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(iN||(iN={}));var gN,bN=function(){function e(t,n){d(this,e),this.bucket=t,this.path_=n}return y(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new sN(iN.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===aN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new sN(iN.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kN=function(){function e(t){d(this,e),this.promise_=Promise.reject(t)}return y(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function wN(e){return"string"===typeof e||e instanceof String}function _N(e){return xN()&&e instanceof Blob}function xN(){return"undefined"!==typeof Blob}function SN(e,t,n,r){if(r<t)throw dN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw dN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function EN(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function TN(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function IN(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gN||(gN={}));var CN=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];d(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return y(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=cN();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?pN():fN());else i(lN())}};this.canceled_?t(0,new ON(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new ON(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===gN.NO_ERROR,a=r.getStatus();if(!n||IN(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===gN.ABORT;t(!1,new ON(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new ON(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),ON=y((function e(t,n,r){d(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function PN(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AN(){for(var e=PN(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(xN())return new Blob(n);throw new sN(iN.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function NN(e){if("undefined"===typeof atob)throw t="base-64",new sN(iN.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var RN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},DN=y((function e(t,n){d(this,e),this.data=t,this.contentType=n||null}));function LN(e,t){switch(e){case RN.RAW:return new DN(MN(t));case RN.BASE64:case RN.BASE64URL:return new DN(jN(e,t));case RN.DATA_URL:return new DN(function(e){var t=new FN(e);return t.base64?jN(RN.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw mN(RN.DATA_URL,"Malformed data URL.")}return MN(t)}(t.rest)}(t),new FN(t).contentType)}throw cN()}function MN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function jN(e,t){switch(e){case RN.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw mN(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case RN.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw mN(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=NN(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw mN(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var FN=y((function e(t){d(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw mN(RN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var UN=function(){function e(t,n){d(this,e);var r=0,i="";_N(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return y(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(_N(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(xN()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(AN.apply(null,i))}var a=n.map((function(e){return wN(e)?LN(RN.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function zN(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function VN(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function BN(e,t){return t}var qN=y((function e(t,n,r,i){d(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||BN})),WN=null;function HN(){if(WN)return WN;var e=[];e.push(new qN("bucket")),e.push(new qN("generation")),e.push(new qN("metageneration")),e.push(new qN("name","fullPath",!0));var t=new qN("name");t.xform=function(e,t){return function(e){return!wN(e)||e.length<2?e:VN(e)}(t)},e.push(t);var n=new qN("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qN("timeCreated")),e.push(new qN("updated")),e.push(new qN("md5Hash",null,!0)),e.push(new qN("cacheControl",null,!0)),e.push(new qN("contentDisposition",null,!0)),e.push(new qN("contentEncoding",null,!0)),e.push(new qN("contentLanguage",null,!0)),e.push(new qN("contentType",null,!0)),e.push(new qN("metadata","customMetadata",!0)),WN=e}function KN(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new bN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function GN(e,t,n){var r=zN(t);return null===r?null:KN(e,r,n)}function QN(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var YN="prefixes",$N="items";function XN(e,t,n){var r=zN(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[YN]){var i,a=I(n[YN]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new bN(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n[$N]){var u,c=I(n[$N]);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new bN(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var JN=y((function e(t,n,r,i){d(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function ZN(e){if(!e)throw cN()}function eR(e,t){return function(n,r){var i=GN(e,r,t);return ZN(null!==i),i}}function tR(e,t){return function(n,r){var i=GN(e,r,t);return ZN(null!==i),function(e,t,n,r){var i=zN(t);if(null===i)return null;if(!wN(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return EN("/b/"+o(i)+"/o/"+o(a),n,r)+TN({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function nR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new sN(iN.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new sN(iN.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new sN(iN.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new sN(iN.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function rR(e){var t=nR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new sN(iN.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function iR(e,t,n){var r=EN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new JN(r,"GET",eR(e,n),i);return a.errorHandler=rR(t),a}function aR(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=EN(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new JN(o,"GET",function(e,t){return function(n,r){var i=XN(e,t,r);return ZN(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=nR(t),u}function oR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function sR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=oR(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+QN(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=UN.getBlob(c,r,l);if(null===f)throw hN();var h={name:u.fullPath},d=EN(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new JN(d,"POST",eR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=nR(t),v}var uR=y((function e(t,n,r,i){d(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function cR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ZN(!1)}return ZN(!!n&&-1!==(t||["active"]).indexOf(n)),n}var lR=262144;function fR(e,t,n,r,i,a,o,s){var u=new uR(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new sN(iN.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw hN();var v=t.maxUploadRetryTime,m=new JN(n,"POST",(function(e,n){var i,o=cR(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?eR(t,a)(e,n):null,new uR(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=nR(e),m}var hR={STATE_CHANGED:"state_changed"},dR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pR(e){switch(e){case"running":case"pausing":case"canceling":return dR.RUNNING;case"paused":return dR.PAUSED;case"success":return dR.SUCCESS;case"canceled":return dR.CANCELED;default:return dR.ERROR}}var vR=y((function e(t,n,r){d(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function mR(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var yR=null,gR=function(){function e(){var t=this;d(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=gN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=gN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return y(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw yN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw yN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw yN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw yN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw yN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),bR=function(e){b(n,e);var t=x(n);function n(){return d(this,n),t.apply(this,arguments)}return y(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(gR);function kR(){return yR?yR():new bR}var wR=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=HN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(iN.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(IN(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=lN()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(iN.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return y(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=oR(t,r,i),s={name:o.fullPath},u=EN(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=QN(o,n),f=e.maxUploadRetryTime,h=new JN(u,"POST",(function(e){var t;cR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ZN(!1)}return ZN(wN(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=nR(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,kR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new JN(n,"POST",(function(e){var t=cR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){ZN(!1)}n||ZN(!1);var i=Number(n);return ZN(!isNaN(i)),new uR(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=nR(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,kR,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=lR*this._chunkMultiplier,n=new uR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=fR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,kR,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(lR*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=iR(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,kR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=sR(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,kR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=fN(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=pR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new vR(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(pR(this._state)){case dR.SUCCESS:mR(this._resolve.bind(null,this.snapshot))();break;case dR.CANCELED:case dR.ERROR:mR(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(pR(this._state)){case dR.RUNNING:case dR.PAUSED:e.next&&mR(e.next.bind(e,this.snapshot))();break;case dR.SUCCESS:e.complete&&mR(e.complete.bind(e))();break;default:e.error&&mR(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),_R=function(){function e(t,n){d(this,e),this._service=t,this._location=n instanceof bN?n:bN.makeFromUrl(n,t.host)}return y(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new bN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return VN(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new bN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw vN(e)}}]),e}();function xR(e,t,n){return SR.apply(this,arguments)}function SR(){return(SR=Ze(Xe().mark((function e(t,n,r){var i,a,o,s;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,ER(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,h(s.prefixes)),(a=n.items).push.apply(a,h(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,xR(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ER(e,t){null!=t&&"number"===typeof t.maxResults&&SN("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=aR(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,kR)}function TR(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=EN(t.fullServerUrl(),e.host,e._protocol),a=QN(n,r),o=e.maxOperationRetryTime,s=new JN(i,"PATCH",eR(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=rR(t),s}(e.storage,e._location,t,HN());return e.storage.makeRequestWithTokens(n,kR)}function IR(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=EN(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new JN(r,"GET",tR(e,n),i);return a.errorHandler=rR(t),a}(e.storage,e._location,HN());return e.storage.makeRequestWithTokens(t,kR).then((function(e){if(null===e)throw new sN(iN.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function CR(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=EN(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new JN(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=rR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,kR)}function OR(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bN(e._location.bucket,n);return new _R(e.storage,r)}function PR(e,t){if(e instanceof RR){var n=e;if(null==n._bucket)throw new sN(iN.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oN+"' property when initializing the app?");var r=new _R(n,n._bucket);return null!=t?PR(r,t):r}return void 0!==t?OR(e,t):e}function AR(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof RR)return new _R(e,t);throw dN("To use ref(service, url), the first argument must be a Storage instance.")}return PR(e,t)}function NR(e,t){var n=null===t||void 0===t?void 0:t[oN];return null==n?null:bN.makeFromBucketSpec(n,e)}var RR=function(){function e(t,n,r,i,a){d(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=aN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bN.makeFromBucketSpec(i,this._host):NR(this._host,this.app.options)}return y(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=bN.makeFromBucketSpec(this._url,e):this._bucket=NR(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){SN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){SN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Ze(Xe().mark((function e(){var t,n;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new _R(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new kN(pN());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=TN(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new CN(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Ze(Xe().mark((function e(t,n){var r,i,a,o;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),DR="@firebase/storage",LR="0.12.0",MR="storage";function jR(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new wR(e,new UN(t),n)}(e=na(e),t,n)}function FR(e){return function(e){e._throwIfRoot("getMetadata");var t=iR(e.storage,e._location,HN());return e.storage.makeRequestWithTokens(t,kR)}(e=na(e))}function UR(e){return function(e){var t={prefixes:[],items:[]};return xR(e,t).then((function(){return t}))}(e=na(e))}function zR(e,t){return AR(e=na(e),t)}function VR(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Mi(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function BR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new RR(r,i,a,n,eo)}Ga(new ra(MR,BR,"PUBLIC").setMultipleInstances(!0)),oo(DR,LR,""),oo(DR,LR,"esm2017");var qR=function(){function e(t,n,r){d(this,e),this._delegate=t,this.task=n,this.ref=r}return y(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),WR=function(){function e(t,n){d(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return y(e,[{key:"snapshot",get:function(){return new qR(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new qR(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new qR(e,i,i._ref))}:{next:t.next?function(e){return t.next(new qR(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),HR=function(){function e(t,n){d(this,e),this._delegate=t,this._service=n}return y(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new KR(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new KR(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),KR=function(){function e(t,n){d(this,e),this._delegate=t,this.storage=n}return y(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return OR(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new WR(jR(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RN.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=LN(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new WR(new wR(this._delegate,new UN(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return UR(this._delegate).then((function(t){return new HR(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return ER(e=na(e),t)}(this._delegate,e||void 0).then((function(e){return new HR(e,t.storage)}))}},{key:"getMetadata",value:function(){return FR(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return TR(e=na(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return IR(na(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),CR(na(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw vN(e)}}]),e}(),GR=function(){function e(t,n){d(this,e),this.app=t,this._delegate=n}return y(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(QR(e))throw dN("ref() expected a child path but got a URL, use refFromURL instead.");return new KR(zR(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!QR(e))throw dN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bN.makeFromUrl(e,this._delegate.host)}catch(t){throw dN("refFromUrl() expected a valid full URL but got an invalid one.")}return new KR(zR(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};VR(this._delegate,e,t,n)}}]),e}();function QR(e){return/^[A-Za-z]+:\/\//.test(e)}function YR(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new GR(r,i)}!function(e){var t={TaskState:dR,TaskEvent:hR,StringFormat:RN,Storage:GR,Reference:KR};e.INTERNAL.registerComponent(new ra("storage-compat",YR,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.3")}(Ro);Ro.initializeApp({apiKey:"AIzaSyDPQnG2EzKHwFOSF4lgrdZa9Yn8OlMWt34",authDomain:"vidapet-7e346.firebaseapp.com",projectId:"vidapet-7e346",storageBucket:"vidapet-7e346.appspot.com",messagingSenderId:"808353244872",appId:"1:808353244872:web:d3c52423d9a980d03a67fd",measurementId:"G-D1WHDGM33D"}).firestore();var $R=Ro.auth(),XR=new Ro.auth.GoogleAuthProvider;Ro.storage();function JR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ZR=Symbol.for("immer-nothing"),eD=Symbol.for("immer-draftable"),tD=Symbol.for("immer-state");function nD(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var rD=Object.getPrototypeOf;function iD(e){return!!e&&!!e[tD]}function aD(e){var t;return!!e&&(sD(e)||Array.isArray(e)||!!e[eD]||!(null===(t=e.constructor)||void 0===t||!t[eD])||hD(e)||dD(e))}var oD=Object.prototype.constructor.toString();function sD(e){if(!e||"object"!==typeof e)return!1;var t=rD(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===oD}function uD(e,t){0===cD(e)?Object.entries(e).forEach((function(n){var r=l(n,2),i=r[0],a=r[1];t(i,a,e)})):e.forEach((function(n,r){return t(r,n,e)}))}function cD(e){var t=e[tD];return t?t.type_:Array.isArray(e)?1:hD(e)?2:dD(e)?3:0}function lD(e,t){return 2===cD(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fD(e,t,n){var r=cD(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function hD(e){return e instanceof Map}function dD(e){return e instanceof Set}function pD(e){return e.copy_||e.base_}function vD(e,t){if(hD(e))return new Map(e);if(dD(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&sD(e)){if(!rD(e)){var n=Object.create(null);return Object.assign(n,e)}return ya({},e)}var r=Object.getOwnPropertyDescriptors(e);delete r[tD];for(var i=Reflect.ownKeys(r),a=0;a<i.length;a++){var o=i[a],s=r[o];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(rD(e),r)}function mD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gD(e)||iD(e)||!aD(e)||(cD(e)>1&&(e.set=e.add=e.clear=e.delete=yD),Object.freeze(e),t&&uD(e,(function(e,t){return mD(t,!0)}))),e}function yD(){nD(2)}function gD(e){return Object.isFrozen(e)}var bD,kD={};function wD(e){var t=kD[e];return t||nD(0),t}function _D(){return bD}function xD(e,t){t&&(wD("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SD(e){ED(e),e.drafts_.forEach(ID),e.drafts_=null}function ED(e){e===bD&&(bD=e.parent_)}function TD(e){return bD={drafts_:[],parent_:bD,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ID(e){var t=e[tD];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function CD(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[tD].modified_&&(SD(t),nD(4)),aD(e)&&(e=OD(t,e),t.parent_||AD(t,e)),t.patches_&&wD("Patches").generateReplacementPatches_(n[tD].base_,e,t.patches_,t.inversePatches_)):e=OD(t,n,[]),SD(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZR?e:void 0}function OD(e,t,n){if(gD(t))return t;var r=t[tD];if(!r)return uD(t,(function(i,a){return PD(e,r,t,i,a,n)})),t;if(r.scope_!==e)return t;if(!r.modified_)return AD(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var i=r.copy_,a=i,o=!1;3===r.type_&&(a=new Set(i),i.clear(),o=!0),uD(a,(function(t,a){return PD(e,r,i,t,a,n,o)})),AD(e,i,!1),n&&e.patches_&&wD("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function PD(e,t,n,r,i,a,o){if(iD(i)){var s=OD(e,i,a&&t&&3!==t.type_&&!lD(t.assigned_,r)?a.concat(r):void 0);if(fD(n,r,s),!iD(s))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(aD(i)&&!gD(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;OD(e,i),t&&t.scope_.parent_||AD(e,i)}}function AD(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mD(t,n)}var ND={get:function(e,t){if(t===tD)return e;var n=pD(e);if(!lD(n,t))return function(e,t,n){var r,i=LD(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!aD(r)?r:r===DD(e.base_,t)?(jD(e),e.copy_[t]=UD(r,e)):r},has:function(e,t){return t in pD(e)},ownKeys:function(e){return Reflect.ownKeys(pD(e))},set:function(e,t,n){var r=LD(pD(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var i=DD(pD(e),t),a=null===i||void 0===i?void 0:i[tD];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,i)&&(void 0!==n||lD(e.base_,t)))return!0;jD(e),MD(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==DD(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,jD(e),MD(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=pD(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){nD(11)},getPrototypeOf:function(e){return rD(e.base_)},setPrototypeOf:function(){nD(12)}},RD={};function DD(e,t){var n=e[tD];return(n?pD(n):e)[t]}function LD(e,t){if(t in e)for(var n=rD(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rD(n)}}function MD(e){e.modified_||(e.modified_=!0,e.parent_&&MD(e.parent_))}function jD(e){e.copy_||(e.copy_=vD(e.base_,e.scope_.immer_.useStrictShallowCopy_))}uD(ND,(function(e,t){RD[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),RD.deleteProperty=function(e,t){return RD.set.call(this,e,t,void 0)},RD.set=function(e,t,n){return ND.set.call(this,e[0],t,n,e[0])};var FD=function(){function e(t){var n=this;d(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"===typeof e&&"function"!==typeof t){var i=t;t=e;var a=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(n,(function(n){var r;return(r=t).call.apply(r,[e,n].concat(o))}))}}var o;if("function"!==typeof t&&nD(6),void 0!==r&&"function"!==typeof r&&nD(7),aD(e)){var s=TD(n),u=UD(e,void 0),c=!0;try{o=t(u),c=!1}finally{c?SD(s):ED(s)}return xD(s,r),CD(o,s)}if(!e||"object"!==typeof e){if(void 0===(o=t(e))&&(o=e),o===ZR&&(o=void 0),n.autoFreeze_&&mD(o,!0),r){var l=[],f=[];wD("Patches").generateReplacementPatches_(e,o,l,f),r(l,f)}return o}nD(1)},this.produceWithPatches=function(e,t){if("function"===typeof e)return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=n.produce(e,t,(function(e,t){r=e,i=t}));return[a,r,i]},"boolean"===typeof(null===t||void 0===t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"===typeof(null===t||void 0===t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}return y(e,[{key:"createDraft",value:function(e){aD(e)||nD(8),iD(e)&&(e=zD(e));var t=TD(this),n=UD(e,void 0);return n[tD].isManual_=!0,ED(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[tD];n&&n.isManual_||nD(9);var r=n.scope_;return xD(r,t),CD(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=wD("Patches").applyPatches_;return iD(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))}}]),e}();function UD(e,t){var n=hD(e)?wD("MapSet").proxyMap_(e,t):dD(e)?wD("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_D(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,a=ND;n&&(i=[r],a=RD);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.draft_=u,r.revoke_=s,u}(e,t);return(t?t.scope_:_D()).drafts_.push(n),n}function zD(e){return iD(e)||nD(10),VD(e)}function VD(e){if(!aD(e)||gD(e))return e;var t,n=e[tD];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=vD(e,n.scope_.immer_.useStrictShallowCopy_)}else t=vD(e,!0);return uD(t,(function(e,n){fD(t,e,VD(n))})),n&&(n.finalized_=!1),t}var BD=new FD,qD=BD.produce;BD.produceWithPatches.bind(BD),BD.setAutoFreeze.bind(BD),BD.setUseStrictShallowCopy.bind(BD),BD.applyPatches.bind(BD),BD.createDraft.bind(BD),BD.finishDraft.bind(BD);function WD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var HD=function(e){return Array.isArray(e)?e:[e]};function KD(e){var t=Array.isArray(e[0])?e[0]:e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((function(e){return"function"===typeof e}))){var n=e.map((function(e){return"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e})).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var GD="undefined"!==typeof WeakRef?WeakRef:function(){function e(t){d(this,e),this.value=t}return y(e,[{key:"deref",value:function(){return this.value}}]),e}(),QD=0,YD=1;function $D(){return{s:QD,v:void 0,o:null,p:null}}function XD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=$D(),i=n.resultEqualityCheck,a=0;function o(){for(var n=r,o=0,s=arguments.length;o<s;o++){var u=arguments[o];if("function"===typeof u||"object"===typeof u&&null!==u){var c=n.o;null===c&&(n.o=c=new WeakMap);var l=c.get(u);void 0===l?(n=$D(),c.set(u,n)):n=l}else{var f=n.p;null===f&&(n.p=f=new Map);var h=f.get(u);void 0===h?(n=$D(),f.set(u,n)):n=h}}var d,p=n;if(n.s===YD?d=n.v:(d=e.apply(null,arguments),a++),p.s=YD,i){var v,m,y=null!==(v=null===(m=t)||void 0===m?void 0:m.deref())&&void 0!==v?v:t;null!=y&&i(y,d)&&(d=y,0!==a&&a--),t="object"===typeof d&&null!==d||"function"===typeof d?new GD(d):d}return p.v=d,d}return o.clearCache=function(){r=$D(),o.resetResultsCount()},o.resultsCount=function(){return a},o.resetResultsCount=function(){a=0},o}function JD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="function"===typeof e?{memoize:e,memoizeOptions:n}:e;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=0,o=0,s={},u=t.pop();"object"===typeof u&&(s=u,u=t.pop()),WD(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));var c=ya(ya({},i),s),l=c.memoize,f=c.memoizeOptions,d=void 0===f?[]:f,p=c.argsMemoize,v=void 0===p?XD:p,m=c.argsMemoizeOptions,y=void 0===m?[]:m,g=(c.devModeChecks,HD(d)),b=HD(y),k=KD(t),w=l.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(h(g))),_=v.apply(void 0,[function(){o++;var e=function(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(k,arguments);return r=w.apply(null,e)}].concat(h(b)));return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:k,dependencyRecomputations:function(){return o},resetDependencyRecomputations:function(){o=0},lastResult:function(){return r},recomputations:function(){return a},resetRecomputations:function(){a=0},memoize:l,argsMemoize:v})}}function ZD(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var eL=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}(),tL=function(){return Math.random().toString(36).substring(7).split("").join(".")},nL={INIT:"@@redux/INIT".concat(tL()),REPLACE:"@@redux/REPLACE".concat(tL()),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION".concat(tL())}};function rL(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function iL(e,t,n){if("function"!==typeof e)throw new Error(ZD(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ZD(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ZD(1));return n(iL)(e,t)}var r=e,i=t,a=new Map,o=a,s=0,u=!1;function c(){o===a&&(o=new Map,a.forEach((function(e,t){o.set(t,e)})))}function l(){if(u)throw new Error(ZD(3));return i}function f(e){if("function"!==typeof e)throw new Error(ZD(4));if(u)throw new Error(ZD(5));var t=!0;c();var n=s++;return o.set(n,e),function(){if(t){if(u)throw new Error(ZD(6));t=!1,c(),o.delete(n),a=null}}}function h(e){if(!rL(e))throw new Error(ZD(7));if("undefined"===typeof e.type)throw new Error(ZD(8));if("string"!==typeof e.type)throw new Error(ZD(17));if(u)throw new Error(ZD(9));try{u=!0,i=r(i,e)}finally{u=!1}return(a=o).forEach((function(e){e()})),e}return h({type:nL.INIT}),$r({dispatch:h,subscribe:f,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(ZD(10));r=e,h({type:nL.REPLACE})}},eL,(function(){var e=f;return $r({subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(ZD(11));function n(){var e=t;e.next&&e.next(l())}return n(),{unsubscribe:e(n)}}},eL,(function(){return this}))}))}function aL(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:nL.INIT}))throw new Error(ZD(12));if("undefined"===typeof n(void 0,{type:nL.PROBE_UNKNOWN_ACTION()}))throw new Error(ZD(13))}))}(n)}catch(s){a=s}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ZD(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function oL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function sL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r){var i=e(n,r),a=function(){throw new Error(ZD(15))},o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.apply(void 0,[e].concat(n))}},s=t.map((function(e){return e(o)}));return a=oL.apply(void 0,h(s))(i.dispatch),ya(ya({},i),{},{dispatch:a})}}}function uL(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var cL=uL(),lL=uL,fL=["reducerPath"],hL=(function(){var e=JD.apply(void 0,arguments)}(XD),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?oL:oL.apply(null,arguments)}),dL=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e&&"function"===typeof e.match});function pL(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error(VL(0));return ya(ya({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return"".concat(e)},n.type=e,n.match=function(t){return function(e){return rL(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e},n}var vL=function(e,t){b(r,e);var n=x(r);function r(){var e;d(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),Object.setPrototypeOf(_(e),r.prototype),e}return y(r,[{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Do(k(r.prototype),"concat",this).apply(this,t)}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?S(r,h(t[0].concat(this))):S(r,h(t.concat(this)))}}],[{key:t,get:function(){return r}}]),r}(E(Array),Symbol.species);function mL(e){return aD(e)?qD(e,(function(){})):e}function yL(e,t,n){if(e.has(t)){var r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(VL(10));var i=n.insert(t,e);return e.set(t,i),i}var gL="RTK_autoBatch",bL=function(e){return function(t){setTimeout(t,e)}},kL="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:bL(10),wL=function(e){return function(t){var n=(null!==t&&void 0!==t?t:{}).autoBatch,r=void 0===n||n,i=new vL(e);return r&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return function(t){return function(){var n=t.apply(void 0,arguments),r=!0,i=!1,a=!1,o=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?kL:"callback"===e.type?e.queueNotification:bL(e.timeout),u=function(){a=!1,i&&(i=!1,o.forEach((function(e){return e()})))};return Object.assign({},n,{subscribe:function(e){var t=n.subscribe((function(){return r&&e()}));return o.add(e),function(){t(),o.delete(e)}},dispatch:function(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[gL]),(i=!r)&&(a||(a=!0,s(u))),n.dispatch(e)}finally{r=!0}}})}}}("object"===typeof r?r:void 0)),i}};function _L(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error(VL(28));if(r in n)throw new Error(VL(29));return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var xL=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},SL=function(e,t){return dL(e)?e.match(t):e(t)};function EL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return SL(t,e)}))}}var TL=["name","message","stack","code"],IL=y((function e(t,n){d(this,e),$r(this,"_type",void 0),this.payload=t,this.meta=n})),CL=y((function e(t,n){d(this,e),$r(this,"_type",void 0),this.payload=t,this.meta=n})),OL=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=TL;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},PL=function(){function e(e,t,n){var r=pL(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:ya(ya({},r||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=pL(e+"/pending",(function(e,t,n){return{payload:void 0,meta:ya(ya({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})}})),a=pL(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||OL)(e||"Rejected"),meta:ya(ya({},a||{}),{},{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}}));return Object.assign((function(e){return function(o,s,u){var c,l=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):xL(),f=new AbortController;function h(e){c=e,f.abort()}var d=Ze(Xe().mark((function d(){var p,v,m,y,g;return Xe().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,y=null===n||void 0===n||null===(v=n.condition)||void 0===v?void 0:v.call(n,e,{getState:s,extra:u}),null===(b=y)||"object"!==typeof b||"function"!==typeof b.then){d.next=6;break}return d.next=5,y;case 5:y=d.sent;case 6:if(!1!==y&&!f.signal.aborted){d.next=8;break}throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};case 8:return g=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),o(i(l,e,null===n||void 0===n||null===(m=n.getPendingMeta)||void 0===m?void 0:m.call(n,{requestId:l,arg:e},{getState:s,extra:u}))),d.next=12,Promise.race([g,Promise.resolve(t(e,{dispatch:o,getState:s,extra:u,requestId:l,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new IL(e,t)},fulfillWithValue:function(e,t){return new CL(e,t)}})).then((function(t){if(t instanceof IL)throw t;return t instanceof CL?r(t.payload,l,e,t.meta):r(t,l,e)}))]);case 12:p=d.sent,d.next=18;break;case 15:d.prev=15,d.t0=d.catch(0),p=d.t0 instanceof IL?a(null,l,e,d.t0.payload,d.t0.meta):a(d.t0,l,e);case 18:return n&&!n.dispatchConditionRejection&&a.match(p)&&p.meta.condition||o(p),d.abrupt("return",p);case 21:case"end":return d.stop()}var b}),d,null,[[0,15]])})))();return Object.assign(d,{abort:h,requestId:l,arg:e,unwrap:function(){return d.then(AL)}})}}),{pending:i,rejected:a,fulfilled:r,settled:EL(a,r),typePrefix:e})}return e.withTypes=function(){return e},e}();function AL(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var NL=Symbol.for("rtk-slice-createasyncthunk");$r({},NL,PL);function RL(e,t){return"".concat(e,"/").concat(t)}function DL(e,t,n,r){function i(i){var a=n.call(e,i);"undefined"===typeof a&&r&&(a=e.getInitialState());for(var o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return t.apply(void 0,[a].concat(s))}return i.unwrapped=t,i}var LL=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).creators,n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[NL];return function(e){var t=e.name,r=e.reducerPath,i=void 0===r?t:r;if(!t)throw new Error(VL(11));var a=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return ya({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=function(){return e},{reducer:function(e){return Object.assign($r({},e.name,(function(){return e.apply(void 0,arguments)}))[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer:function(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:e}}()):e.reducers)||{},o=Object.keys(a),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase:function(e,t){var n="string"===typeof e?e:e.type;if(!n)throw new Error(VL(12));if(n in s.sliceCaseReducersByType)throw new Error(VL(13));return s.sliceCaseReducersByType[n]=t,u},addMatcher:function(e,t){return s.sliceMatchers.push({matcher:e,reducer:t}),u},exposeAction:function(e,t){return s.actionCreators[e]=t,u},exposeCaseReducer:function(e,t){return s.sliceCaseReducersByName[e]=t,u}};function c(){var t=l("function"===typeof e.extraReducers?_L(e.extraReducers):[e.extraReducers],3),n=t[0],r=void 0===n?{}:n,i=t[1],a=void 0===i?[]:i,o=t[2],u=void 0===o?void 0:o,c=ya(ya({},r),s.sliceCaseReducersByType);return function(e,t){var n,r=l(_L(t),3),i=r[0],a=r[1],o=r[2];if(function(e){return"function"===typeof e}(e))n=function(){return mL(e())};else{var s=mL(e);n=function(){return s}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,r=[i[t.type]].concat(h(a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer}))));return 0===r.filter((function(e){return!!e})).length&&(r=[o]),r.reduce((function(e,n){if(n){if(iD(e)){var r=n(e,t);return void 0===r?e:r}if(aD(e))return qD(e,(function(e){return n(e,t)}));var i=n(e,t);if(void 0===i){if(null===e)return e;throw new Error(VL(9))}return i}return e}),e)}return u.getInitialState=n,u}(e.initialState,(function(e){for(var t in c)e.addCase(t,c[t]);var n,r=I(s.sliceMatchers);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addMatcher(i.matcher,i.reducer)}}catch(h){r.e(h)}finally{r.f()}var o,l=I(a);try{for(l.s();!(o=l.n()).done;){var f=o.value;e.addMatcher(f.matcher,f.reducer)}}catch(h){l.e(h)}finally{l.f()}u&&e.addDefaultCase(u)}))}o.forEach((function(r){var i=a[r],o={reducerName:r,type:RL(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){var r,i,a=e.type,o=e.reducerName,s=e.createNotation;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(VL(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(o,r).exposeAction(o,i?pL(a,i):pL(a))}(o,i,u):function(e,t,n,r){var i=e.type,a=e.reducerName;if(!r)throw new Error(VL(18));var o=t.payloadCreator,s=t.fulfilled,u=t.pending,c=t.rejected,l=t.settled,f=t.options,h=r(i,o,f);n.exposeAction(a,h),s&&n.addCase(h.fulfilled,s);u&&n.addCase(h.pending,u);c&&n.addCase(h.rejected,c);l&&n.addMatcher(h.settled,l);n.exposeCaseReducer(a,{fulfilled:s||ML,pending:u||ML,rejected:c||ML,settled:l||ML})}(o,i,u,n)}));var f,d=function(e){return e},p=new WeakMap,v={name:t,reducerPath:i,reducer:function(e,t){return f||(f=c()),f(e,t)},actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:function(){return f||(f=c()),f.getInitialState()},getSelectors:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=yL(p,this,{insert:function(){return new WeakMap}});return yL(r,n,{insert:function(){for(var r={},i=0,a=Object.entries(null!==(o=e.selectors)&&void 0!==o?o:{});i<a.length;i++){var o,s=l(a[i],2),u=s[0],c=s[1];r[u]=DL(t,c,n,t!==v)}return r}})},selectSlice:function(e){var t=e[this.reducerPath];return"undefined"===typeof t&&this!==v&&(t=this.getInitialState()),t},get selectors(){return this.getSelectors(this.selectSlice)},injectInto:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reducerPath,r=JR(t,fL),i=null!==n&&void 0!==n?n:this.reducerPath;return e.inject({reducerPath:i,reducer:this.reducer},r),ya(ya({},this),{},{reducerPath:i})}};return v}}();function ML(){}var jL="listener",FL="completed",UL="cancelled";"task-".concat(UL),"task-".concat(FL),"".concat(jL,"-").concat(UL),"".concat(jL,"-").concat(FL);Object.assign;var zL="listenerMiddleware";pL("".concat(zL,"/add")),pL("".concat(zL,"/removeAll")),pL("".concat(zL,"/remove"));Symbol.for("rtk-state-proxy-original");function VL(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var BL=LL({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLoginDetails:function(e,t){var n=t.payload,r=n.name,i=n.email,a=n.photo;e.name=r,e.email=i,e.photo=a},setSignOutState:function(e){e.name="",e.email="",e.photo=""}}}),qL=BL.actions,WL=qL.setUserLoginDetails,HL=qL.setSignOutState,KL=function(e){return e.user.name},GL=function(e){return e.user.photo},QL=BL.reducer;function YL(e){return Hr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function $L(e){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"}}]})(e)}function XL(e){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"}}]})(e)}function JL(e){return Hr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function ZL(e){return Hr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function eM(e){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function tM(e){return Hr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function nM(e){return Hr({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r\n\tc0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r\n\tc0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}},{tag:"path",attr:{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r\n\tC34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}},{tag:"path",attr:{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r\n\tc-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}},{tag:"path",attr:{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r\n\tc0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"}}]})(e)}var rM,iM,aM,oM,sM,uM,cM,lM,fM,hM,dM,pM=n(184),vM=function(e){var t=e.closeLogin,n=l((0,r.useState)(""),2),i=n[0],a=(n[1],l((0,r.useState)(""),2)),o=a[0],s=a[1],u=l((0,r.useState)(!1),2),c=u[0],f=u[1],h=function(){f(!c)};return(0,pM.jsx)(bM,{children:(0,pM.jsxs)("div",{className:"wrapper",children:[(0,pM.jsx)(Gr,{size:35,className:"close",onClick:t}),(0,pM.jsxs)("form",{action:"",children:[(0,pM.jsx)("h1",{children:"Entrar no Vida Pet"}),(0,pM.jsxs)("div",{className:"input-box",children:[(0,pM.jsx)("input",{type:"text",placeholder:"Email",required:!0}),(0,pM.jsx)(tM,{className:"icon"})]}),(0,pM.jsxs)("div",{className:"input-box",children:[(0,pM.jsx)("input",{type:c?"text":"password",placeholder:"Senha",value:o,onChange:function(e){return s(e.target.value)},required:!0}),(0,pM.jsx)(mM,{showPassword:c,onMouseOver:h,onMouseOut:h}),c?(0,pM.jsx)(yM,{showPassword:c,onClick:h}):(0,pM.jsx)(gM,{showPassword:c,onClick:h})]}),(0,pM.jsxs)("div",{className:"remember-forgot",children:[(0,pM.jsxs)("label",{children:[(0,pM.jsx)("input",{type:"checkbox"}),"Lembrar minha senha "]}),(0,pM.jsx)("a",{href:"#",children:"Esqueci minha senha"})]}),(0,pM.jsx)("button",{type:"submit",onClick:function(){$R.signInWithEmailAndPassword(i,o).then((function(e){e.user})).catch((function(e){alert(e.message)}))},className:"buttonEntrar",children:"Entrar"}),(0,pM.jsx)("div",{className:"register-link",children:(0,pM.jsxs)("p",{children:["N\xe3o tenho conta ",(0,pM.jsx)("a",{href:"/registro",children:"Registar"})]})})]}),(0,pM.jsxs)("div",{children:[(0,pM.jsx)("p",{className:"register-link",children:"___________  OU  ___________"}),(0,pM.jsx)("p",{children:"Inscreva-se com  "}),(0,pM.jsx)(nM,{className:"logo",onClick:function(){$R.signInWithPopup(XR).then((function(e){})).catch((function(e){alert(e.message)}))}}),(0,pM.jsx)(YL,{className:"logo"})]})]})})},mM=Ur(eM)(rM||(rM=$e(["\n  position: absolute;\n  right: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),yM=Ur(JL)(iM||(iM=$e(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),gM=Ur(ZL)(aM||(aM=$e(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),bM=Ur.div(oM||(oM=$e(["\n\n    padding: 10px;\n    position: fixed;\n     top: 2rem;\n     left: 50%;\n    transform: translateX(-50%);\n     background-color: rgba(0, 0, 0, 0.8); /* Adicione um fundo semi-transparente para destacar a c\xe2mera */\n     z-index: 151; /* Certifique-se de que a c\xe2mera esteja na parte superior de todos os elementos */\n     justify-content: center;\n     align-items: center;     \n    border-radius: 30px;\n\n    .close{\n      color:white;\n  margin-left: 20rem;\n  &:hover {\n      color: red;\n      /* Outros estilos para quando o mouse estiver sobre o elemento */\n    }\n  &:active {\n      transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n    }\n  }\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n.wrapper{\n    width: 420px;\n    background: transparent;\n    color: #fff;\n    border-radius: 10px;\n    padding: 30px 40px;\n    \n\n h1{\n        font-size:30px;\n        text-align: center;\n    }\n \n\n}\n.input-box{\n    position: relative;\n    width:100%;\n    height:50px;\n    margin: 30px 0;\n\n    input{\n        width:100%;\n        height:100%;\n        background: transparent;\n        outline:none;\n        border: 2px solid rgba(255,255,255,.2);\n        border-radius: 40px;\n        font-size:16px;\n        color: #fff;         \n        padding: 20px 45px 20px 20px;  \n     }\n     ::placeholder{        \n        color: #fff;\n    }\n\n  .icon{    \n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    font-size:16px;\n  }\n  .icon1{    \n    position: absolute;\n    right: 50px;\n    top: 50%;\n    transform: translateY(-50%);\n    font-size:16px;\n  }}\n\n  .remember-forgot{\n    display: flex;\n    justify-content: space-between;\n    font-size: 14.5px;\n    margin: -15px 0 15px;\n\nlabel input{\n    accent-color:#fff;\n    margin-right:4px;\n}\na{\n    color:#fff;\n    text-decoration: none;\n}\na:hover{\n    text-decoration: underline;\n}}\n\n.buttonEntrar {\n    width:100%;\n    height:45px;\n    background: #fff;\n    border:none;\n    outline: none;\n    border-radius: 40px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, .1);\n    cursor: pointer;\n    font-size:16px;\n    color: #333;\n    font-weight: 700;\n\n    &:active {\n      transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n    }\n    \n}\n\n.register-link{\n  font-size:14.5px;\n  text-align: center;\n  margin: 20px 0 15px;\n\np a{\n  color: #fff;\n  text-decoration: none;\n  font-weight: 600;\n}\np a:hover{\n  text-decoration: underline;\n  \n} \n\n}\n\n.logo{\n  margin: 10px;\n  font-size: 50px;\n  &:hover {\n    color: #fff;\n    /* Outros estilos para quando o mouse estiver sobre o elemento */\n  }\n&:active {\n    transform: scale(0.8); /* Diminui o tamanho do bot\xe3o quando pressionado */\n  }\n}\n\n@media(max-width: 900px) {\n  left: 50%;\n    transform: translateX(-50%);\n   .wrapper{\n      width: 420px;}\n\n  .close {\n      color:white;\n  margin-left: 19rem;\n  }\n\n\n  @media(max-width: 750px) {\n    left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper{\n      width: 350px;}\n\n  .close {\n      color:white;\n  margin-left: 17rem;\n  }\n\n\n@media(max-width: 500px) {\n  left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper{\n      width: 350px;}\n\n  .close {\n      color:white;\n  margin-left: 17rem;\n  }\n\n\n@media(max-width: 400px) {\n  left: 50%;\n  transform: translateX(-50%);\n\n  .wrapper{\n    width: 350px;}\n\n.close {\n    color:white;\nmargin-left: 17rem;\n}\n\n\n}\n\n\n\n\n\n\n\n\n\n\n"]))),kM=Ur.a(sM||(sM=$e(["\n  padding: 0;\n  width: 160px;\n  margin-top: 2px;\n  max-height: 60px;\n  font-size: 0;\n  display: inline-block;\n\n  img {\n    display: block;\n    width: 100%;\n  }\n"]))),wM=Ur.div(uM||(uM=$e(['\n  align-items: center;\n  display: flex;\n  flex-flow: row nowrap;\n  height: 100%;\n  justify-content: flex-end;\n  margin: 0px;\n  padding: 0px;\n  position: relative;\n  margin-right: auto;\n  margin-left: 25px;\n\n  a {\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n\n    img {\n      height: 20px;\n      min-width: 20px;\n      width: 20px;\n      z-index: auto;\n    }\n\n    span {\n      color: rgb(249, 249, 249);\n      font-size: 16px;\n      font-weight: 700;\n      letter-spacing: 1.42px;\n      line-height: 1.08;\n      padding: 2px 0px;\n      white-space: nowrap;\n      position: relative;\n\n      &:before {\n        background-color: rgb(249, 249, 249);\n        border-radius: 0px 0px 4px 4px;\n        bottom: -6px;\n        content: "";\n        height: 2px;\n        left: 0px;\n        opacity: 0;\n        position: absolute;\n        right: 0px;\n        transform-origin: left center;\n        transform: scaleX(0);\n        transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n        visibility: hidden;\n        width: auto;\n      }\n    }\n\n    &:hover {\n      span:before {\n        transform: scaleX(1);\n        visibility: visible;\n        opacity: 1 !important;\n      }\n    }\n  }\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n']))),_M=Ur.header(cM||(cM=$e(["\nwidth: 100%;\nbackground: rgb(215, 211, 80);\ncolor: white;\npadding: 14.5px 64px;\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\n\n.button {\n  width:70px;\n  height:30px;\n  background: #fff;\n  border:none;\n  outline: none;\n  border-radius: 40px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, .1);\n  cursor: pointer;\n  font-size:16px;\n  color: #333;\n  font-weight: 700;\n\n  &:active {\n    transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n  }\n  \n}\n\n> section {\n  display: flex;\n  gap: 2rem;\n\n  &:last-child {\n    gap: 1rem;\n  }\n\n  > img {\n    width: 230px;\n\n    @media(max-width: 500px) {\n      width: 120px;\n    }\n  }\n\n  > nav {\n    display: flex;\n    gap: 1rem;\n\n    a {\n      font-size: 20px;\n      position: relative;\n\n      &:before {\n        content: '';\n        border-radius: 50px;\n        bottom: 0px;\n        position: absolute;\n        width: 0%;\n        height: 2px;\n        background: #3CA63A;\n        transition: .3s;\n      }\n\n      &:hover {\n        &:before {\n          width: 100%;\n        }\n      }\n    }\n  }\n  .mobile {\n    display: none;\n  }\n\n  @media(max-width: 768px) {\n    .mobile {\n      display: initial;\n    }\n    > nav {\n      display: none;\n    }\n  }\n}\n\n@media(max-width: 700px) {\n  padding: 14.5px 16px;\n}\n"]))),xM=Ur.img(lM||(lM=$e(["\n  height: 100%;\n"]))),SM=Ur.div(fM||(fM=$e(["\n  position: absolute;\n  top: 48px;\n  right: 0px;\n  background: rgb(19, 19, 19);\n  border: 1px solid rgba(151, 151, 151, 0.34);\n  border-radius: 4px;\n  box-shadow: rgb(0 0 0 / 50%) 0px 0px 18px 0px;\n  padding: 10px;\n  font-size: 14px;\n  letter-spacing: 3px;\n  width: 100px;\n  opacity: 0;\n"]))),EM=Ur.div(hM||(hM=$e(["\n  position: relative;\n  height: 48px;\n  width: 48px;\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n\n  "," {\n    border-radius: 50%;\n    width: 100%;\n    height: 100%;\n  }\n\n  &:hover {\n    "," {\n      opacity: 1;\n      transition-duration: 1s;\n    }\n  }\n"])),xM,SM),TM=function(e){var t=e.setMenuIsVisible,n=l((0,r.useState)(!1),2),i=n[0],a=n[1],o=Ei(),s=we(),u=li(KL),c=li(GL);(0,r.useEffect)((function(){var e=function(){var e=Ze(Xe().mark((function e(){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$R.onAuthStateChanged(function(){var e=Ze(Xe().mark((function e(t){return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&f(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u]);var f=function(e){o(WL({name:e.displayName,email:e.email,photo:e.photoURL}))};return(0,pM.jsxs)(_M,{children:[(0,pM.jsx)(kM,{children:(0,pM.jsx)("a",{href:"/home",children:(0,pM.jsx)("img",{src:Yr,alt:"Vida Pet"})})}),(0,pM.jsxs)(wM,{children:[(0,pM.jsx)("a",{href:"/home",children:(0,pM.jsx)("span",{children:"P\xe1gina Inicial"})}),(0,pM.jsx)("a",{href:"/resgate",children:(0,pM.jsx)("span",{children:"Resgate"})}),(0,pM.jsx)("a",{href:"/sobrenos",children:(0,pM.jsx)("span",{children:"Sobre N\xf3s"})})]}),u?(0,pM.jsx)(pM.Fragment,{children:(0,pM.jsxs)(EM,{children:[(0,pM.jsx)(xM,{src:c,alt:u}),(0,pM.jsx)(SM,{children:(0,pM.jsx)("span",{onClick:function(){u?u&&$R.signOut().then((function(){o(HL()),s("/")})).catch((function(e){return alert(e.message)})):$R.signInWithPopup(XR).then((function(e){f(e.user)})).catch((function(e){alert(e.message)}))},children:"Sign out"})})]})}):(0,pM.jsx)("button",{onClick:function(){a(!0)},className:"button",children:"Login"}),(0,pM.jsx)("section",{children:(0,pM.jsx)(Qr,{size:35,onClick:function(){return t(!0)},className:"mobile"})}),i&&(0,pM.jsx)(vM,{closeLogin:function(){a(!1)}})]})};var IM,CM,OM,PM=Ur.footer(dM||(dM=$e(["\n  width: 100%;\n  background: #e7d619;\n  overflow-x: hidden;\n  padding: 3px 50px;\n  display: flex;\n  align-items: end;\n  justify-content: space-between;\n  margin: 0px;\n  position: relative;\n  \n  > section {\n    display: flex;\n    gap: 2rem;    \n    align-items: center;\n    text-align: center;\n\n    &:last-child {\n      gap: 1rem;\n    }\n\n    p {\n        color: #ffffff;\n  margin: 0px;\n  padding: 25px 0 20px 0;\n  text-align: center;\n\n        }\n         \n    .mobile {\n      display: none;\n    }\n\n    @media(max-width: 900px) {\n      .mobile {\n        display: initial;\n      }\n      > nav {\n        display: none;\n      }\n    }\n  }\n\n  @media(max-width: 700px) {\n    padding: 14.5px 16px;\n  }\n  "]))),AM=function(){return(0,pM.jsx)(PM,{children:(0,pM.jsx)("section",{children:(0,pM.jsxs)("p",{children:["\xa9 2023 Todos direitos reservados. Design by ",(0,pM.jsx)("a",{href:"https://vidapet.tech/WebApp",children:"Lili Apps Startup"})]})})})},NM=n(717),RM=n.p+"static/media/dog.5c1efdec032b7958ad4c.jpg",DM=Ur(NM.Z)(IM||(IM=$e(["\n  margin-top: 10px;\n\n  & > button {\n    opacity: 0;\n    height: 100%;\n    width: 5vw;\n\n    &:hover {\n      opacity: 1;\n      transition: opacity 0.2s ease 0s;\n    }\n  }\n\n  ul li button {\n    &:before {\n      font-size: 10px;\n      color: rgb(150, 158, 171);\n    }\n  }\n\n  li.slick-active button:before {\n    color: white;\n  }\n\n  .slick-list {\n    overflow: initial;\n  }\n\n  .slick-prev {\n    left: -20px;\n  }\n\n  .slick-next {\n    right: -20px;\n  }\n"]))),LM=Ur.div(CM||(CM=$e(["\n  border-radius: 4px;\n  cursor: pointer;\n  position: relative;\n\n  div {\n    color: black;\n    border-radius: 4px;\n    box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n      rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n    cursor: pointer;\n    display: flex;\n    position: relative;\n    padding: 4px;\n    text-align: right;\n    font-size: 40px;\n\n    img {\n      width: 40%;\n      height: 100%;\n    }\n\n    &:hover {\n      padding: 0;\n      border: 4px solid rgba(249, 249, 249, 0.8);\n      transition-duration: 300ms;\n    }\n  }\n"]))),MM=function(e){return(0,pM.jsxs)(DM,ya(ya({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0}),{},{children:[(0,pM.jsx)(LM,{children:(0,pM.jsxs)("div",{children:[(0,pM.jsx)("h6",{children:"Capture Fotos de Animais"}),(0,pM.jsx)("h10",{children:"Ajude animais perdidos ou abandonados apenas capturando uma foto e salvando em nossa base de dados "}),(0,pM.jsx)("img",{src:RM,alt:""})]})}),(0,pM.jsx)(LM,{children:(0,pM.jsxs)("div",{children:["Resgate de Pets Atraves de nosso banco de dados donos de pets perdidos podem achar o seu pet com a ultima Localiza\xe7\xe3o vista.",(0,pM.jsx)("img",{src:RM,alt:""})]})}),(0,pM.jsx)(LM,{children:(0,pM.jsxs)("div",{children:["Ado\xe7\xe3o Tambem por nosso banco de dados resgatadores e aqueles de que desejam adotar um Pet podem ter acesso aos Pets.",(0,pM.jsx)("img",{src:RM,alt:""})]})}),(0,pM.jsx)(LM,{children:(0,pM.jsxs)("div",{children:["Gatos e Outros Pets Estamos trabalhando incessantemente para expandir nosso sistema para Gatos e outros Pets.",(0,pM.jsx)("img",{src:RM,alt:""})]})})]}))};var jM,FM=Ur.section(OM||(OM=$e(['\ndisplay: flex;\nflex-direction: column;\n-moz-box-pack: center;\njustify-content: center;\n-moz-box-align: center;\nalign-items: center;\nbackground-color: rgb(30, 25, 44);\nposition: relative;\nmin-width: 100%;\nwidth: 100%;\nmax-height: 100%;\n\n.myButton {\n    padding: 0.6rem 1.5rem;\n    background-color:#3fdb28;\n    border-radius:34px;\n    border:4px solid #b4edba;\n    display:inline-block;\n    cursor:pointer;\n    color:#ffffff;\n    font-family:arial;\n    font-size:16px;\n    font-weight:bold;\n    padding:15px 32px;\n    text-decoration:none;\n    text-shadow:-1px 2px 7px #2f6627;\n  }\n  .myButton:hover {\n    background-color:#1e4f03;\n  }\n  .myButton:active {\n    position:relative;\n    top:1px;\n  }\n  \n\n@media only screen and (min-width: 768px) {\n    \n    background-color: rgba(0, 0, 0, 0);\n    background-attachment: scroll, scroll;\n    background-image: linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,0,1) 46%, rgba(0,0,0,0.9906162294019171) 59%, rgba(255,255,255,0) 100%), url("https://s2-vidadebicho.glbimg.com/ERE7xaNfficR7A59T91v1s7CS2w=/0x0:620x455/984x0/smart/filters:strip_icc()/i.s3.glbimg.com/v1/AUTH_fb623579cd474803aedbbbbae014af68/internal_photos/bs/2022/j/a/BAHLuARx2IhCBjnO1H1w/2022-05-04-como-aumentar-a-longevidade-do-pet-dog-3344414-1280.jpeg");\n    background-origin: padding-box, padding-box;\n    background-clip: border-box, border-box;\n    background-position: right;\n    background-repeat: no-repeat;\n    background-size: contain;\n    padding: 1rem;  \n  }\n  \n>section{\n    display: flex;\n    flex-direction: column;\n    -moz-box-pack: center;\n    justify-content: center;\n    -moz-box-align: center;\n    align-items: center;\n    margin-bottom: 0px;\n    padding: 1rem;\n    z-index: 2;\n    font-family: "Open Sans", sans-serif;\n    box-sizing: border-box;\n\n@media only screen and (min-width: 768px) {\n    flex-direction: row;\n    -moz-box-pack: start;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 1200px;\n    }\n    \n    div {\n      display: flex;\n      flex-direction: column;\n      -moz-box-pack: center;\n      justify-content: center;\n      -moz-box-align: center;\n      align-items: center;\n      text-align: center;\n      margin: 1.75rem 1rem 0px;   \n      font-family: "Open Sans", sans-serif;\n      box-sizing: border-box;\n\n       @media only screen and (min-width: 768px) {\n          align-items: flex-start;\n          text-align: start;\n          max-width: 600px;\n          margin: 1rem 1rem 0px;\n              }                }\n\n           h1{\n                margin: 0.6em 0px;\n                color: rgb(255, 255, 255);\n\n                @media only screen and (min-width: 768px) {\n                    \n                      font-size: 30px;\n                    }                        \n            }\n\n           p{\n              line-height: 24px;\n              margin: 0.6em 0px;\n              color: rgb(255, 255, 255);\n            }\n\n           \n    }\n    \n  \n']))),UM=function(){return(0,pM.jsx)(FM,{children:(0,pM.jsx)("section",{children:(0,pM.jsxs)("div",{children:[(0,pM.jsx)("h1",{children:"Pets Perdidos: Traga-os de Volta para Casa"}),(0,pM.jsx)("p",{children:"Perder um animal de estima\xe7\xe3o \xe9 uma experi\xeancia angustiante, mas a solu\xe7\xe3o n\xe3o precisa ser permanente. Nossa plataforma une a comunidade de amantes de pets, proporcionando a voc\xea a oportunidade de divulgar e localizar animais perdidos na sua regi\xe3o. Juntos, podemos colaborar para garantir que nossos amigos peludos retornem para casa em seguran\xe7a."}),(0,pM.jsx)("a",{href:"/resgate",className:"myButton",children:"Comece a Explorar Agora"})]})})})};var zM=function(){return(0,pM.jsxs)(pM.Fragment,{children:[(0,pM.jsx)(UM,{}),(0,pM.jsxs)(VM,{children:[(0,pM.jsx)(MM,{}),(0,pM.jsx)("h2",{children:"HOME"})]})]})},VM=Ur.main(jM||(jM=$e(["\nposition: relative;\n  min-height: calc(100vh - 250px);\n  overflow-x: hidden;\n  display: block;\n  top: 0px;\n  padding: 0 calc(3.5vw + 5px);\n  \n\na {\n  display: flex;\n  align-items: center;\n  padding: 0 12px;\n\n  span {\n    color: white;\n    font-size: 13px;\n    letter-spacing: 1.42px;\n    line-height: 1.08;\n    padding: 2px 0px;\n   \n\n  }\n}\n"]))),BM=n(97),qM=n.n(BM);function WM(e){return Hr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"}}]})(e)}function HM(e){return Hr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M14.25 2.26l-.08-.04-.01.02C13.46 2.09 12.74 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-4.75-3.31-8.72-7.75-9.74zM19.41 9h-7.99l2.71-4.7c2.4.66 4.35 2.42 5.28 4.7zM13.1 4.08L10.27 9l-1.15 2L6.4 6.3A7.958 7.958 0 0112 4c.37 0 .74.03 1.1.08zM5.7 7.09L8.54 12l1.15 2H4.26C4.1 13.36 4 12.69 4 12c0-1.85.64-3.55 1.7-4.91zM4.59 15h7.98l-2.71 4.7A8.033 8.033 0 014.59 15zm6.31 4.91L14.89 13l2.72 4.7A8 8 0 0112 20c-.38 0-.74-.04-1.1-.09zm7.4-3l-4-6.91h5.43c.17.64.27 1.31.27 2 0 1.85-.64 3.55-1.7 4.91z"}}]})(e)}function KM(e){return Hr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14H4V7h4.05l.59-.65L9.88 5h4.24l1.24 1.35.59.65H20v12z"}},{tag:"path",attr:{d:"M12 17c-2.21 0-4-1.79-4-4h2l-2.5-2.5L5 13h2c0 2.76 2.24 5 5 5 .86 0 1.65-.24 2.36-.62l-.74-.74c-.49.23-1.04.36-1.62.36zM12 8c-.86 0-1.65.24-2.36.62l.74.73C10.87 9.13 11.42 9 12 9c2.21 0 4 1.79 4 4h-2l2.5 2.5L19 13h-2c0-2.76-2.24-5-5-5z"}}]})(e)}var GM,QM=function(e){var t=document.createElement("input");t.type="file",t.accept="image/*",t.addEventListener("change",(function(t){var n=t.target.files[0];n&&e(n)})),t.click()};var YM,$M=function(e){var t=e.capturedImages,n=e.closeWebcam,i=l((0,r.useState)(null),2),a=i[0],o=i[1],s=l((0,r.useState)(""),2),u=s[0],c=s[1],f=l((0,r.useState)(null),2),h=f[0],d=f[1],p=l((0,r.useState)(null),2),v=p[0],m=p[1];(0,r.useEffect)((function(){var e=new Date;o(e.toISOString())}),[]),(0,r.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){d(e.coords.latitude),m(e.coords.longitude)}),(function(e){console.error("Erro ao obter a localiza\xe7\xe3o:",e)})):console.error("Geolocaliza\xe7\xe3o n\xe3o suportada pelo navegador.")}),[]);var y=function(){var e=Ze(Xe().mark((function e(){var r,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Date,o(r.toISOString()),(i=new FormData).append("latitude",h),i.append("longitude",v),i.append("capture_datetime",a),i.append("comments",u),t.forEach((function(e,t){i.append("capturedImage".concat(t+1),g(e,"capturada".concat(t+1,".jpg")))})),e.next=11,fetch("https://vidapet.tech/upload.php",{method:"POST",body:i});case 11:e.sent.ok?console.log("Dados e imagens enviados com sucesso!"):console.error("Erro ao enviar dados e imagens."),n(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Erro ao enviar os dados:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();function g(e,t){for(var n=e.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[1]),a=i.length,o=new Uint8Array(a);a--;)o[a]=i.charCodeAt(a);return new File([o],t,{type:r})}return(0,pM.jsxs)(XM,{children:[(0,pM.jsxs)("div",{className:"formulario-container",children:[(0,pM.jsx)("h2",{children:"Observa\xe7\xe3o"}),(0,pM.jsx)("textarea",{type:"text",id:"texto",name:"texto",value:u,onChange:function(e){return c(e.target.value)},rows:"5",required:!0,className:"caixa-texto"})]}),(0,pM.jsx)("div",{children:(0,pM.jsx)("button",{type:"button",onClick:y,className:"botao-salvar",children:"Salvar"})})]})},XM=Ur.section(GM||(GM=$e(["\n\n.formulario-container {\n  color:white;\n  font-family: Arial, sans-serif;\n  left:10px;\n  margin: 40px;\n  max-width: 600px;\n  padding:10px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n}\n\n.caixa-texto {\n  width: 100%;\n  height: 200px;\n  padding: 10px;\n  margin-bottom: 10px;\n}\n\n.botao-salvar {\n  padding: 12px 20px;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.botao-salvar:hover {\n  background-color: #45a049;\n}\n\n@media(max-width: 900px) {\n  \n  .caixa-texto {\n    width: 400px;\n    padding: 70px;\n    margin-bottom: 20px;\n  }\n\n}\n@media(max-width: 900px) {\n  \n  .caixa-texto {\n    width: 250px;\n    height:200px;\n    padding: 10px;\n    margin-bottom: 20px;\n  }\n\n}\n\n"])));var JM,ZM,ej,tj,nj,rj,ij,aj=function(e){var t=e.closeWebcam,n=e.onCaptureImage,i=(0,r.useRef)(null),a=l((0,r.useState)([]),2),o=a[0],s=a[1],u=l((0,r.useState)("user"),2),c=(u[0],u[1],l((0,r.useState)(0),2)),f=c[0],d=c[1],p=l((0,r.useState)(!1),2),v=p[0],m=p[1],y=(0,r.useCallback)(Ze(Xe().mark((function e(){var t,n,r,a;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:if(t=e.sent,!((n=t.filter((function(e){return"videoinput"===e.kind&&e.label.includes("back")}))).length>0)){e.next=12;break}return e.next=8,navigator.mediaDevices.getUserMedia({video:{deviceId:n[n.length-1].deviceId}});case 8:r=e.sent,i.current&&((a=i.current.srcObject)&&a.getTracks().forEach((function(e){return e.stop()})),i.current.srcObject=r),e.next=13;break;case 12:console.error("N\xe3o foi poss\xedvel encontrar c\xe2meras traseiras.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Erro ao acessar a c\xe2mera:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),[]);(0,r.useEffect)((function(){y()}),[y]);var g=function(e){var t=new FileReader;t.onload=function(){var e=t.result;s([].concat(h(o),[e]))},t.readAsDataURL(e)};return(0,pM.jsxs)(oj,{children:[(0,pM.jsx)(Gr,{size:35,className:"close",onClick:t}),0===f&&(0,pM.jsxs)(pM.Fragment,{children:[(0,pM.jsx)("div",{children:(0,pM.jsx)(qM(),{audio:!1,ref:i,screenshotFormat:"image/jpeg",autoPlay:!0,playsInline:!0,muted:!0})}),(0,pM.jsx)(WM,{size:30,onClick:function(){return QM(g)}}),(0,pM.jsx)(HM,{size:50,onClick:function(){var e=i.current.getScreenshot();s([].concat(h(o),[e])),n(e)}}),(0,pM.jsx)(KM,{size:30,onClick:function(){m(!v)}}),(0,pM.jsx)("div",{className:"captured-images",children:o.map((function(e,t){return(0,pM.jsx)("img",{src:e,alt:"Capturada ".concat(t+1)},t)}))})]}),1===f&&(0,pM.jsx)(pM.Fragment,{children:(0,pM.jsx)($M,{capturedImages:o,closeWebcam:t})}),f>0&&(0,pM.jsx)($L,{size:30,className:"prev",onClick:function(){d(f-1)}}),f<3&&(0,pM.jsx)(XL,{size:30,className:"next",onClick:function(){d(f+1)}})]})},oj=Ur.section(YM||(YM=$e(["\n    padding: 1rem;\n   position: fixed;\n    top: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    background-color: rgba(0, 0, 0, 0.8); /* Adicione um fundo semi-transparente para destacar a c\xe2mera */\n    z-index: 151; /* Certifique-se de que a c\xe2mera esteja na parte superior de todos os elementos */\n    justify-content: center;\n    align-items: center;\n\nvideo {\n    width: 500px;\n    justify-content: center;\n    align-items: center;\n}\n.close{\n    color:white;\nmargin-left: 28rem;\n&:hover {\n    color: red;\n    /* Outros estilos para quando o mouse estiver sobre o elemento */\n  }\n&:active {\n    transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n  }\n}\n\n.captured-images {\n  display: flex;\n  margin-top: 10px;\n  overflow-x: auto;\n\n  img {\n    width: 50px;\n    height: 50px;\n    margin-right: 5px;\n  }\n}\n\n > svg{\n    color:white;\n    margin-left: 6rem;\n      &:active {\n      transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n    }\n       }\n\n       .prev, .next {\n        cursor: pointer;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 24px;\n        color: white;\n        background-color: #333;\n        border: none;\n        padding: 10px;\n        border-radius: 5px;\n        transition: background-color 0.3s;\n    \n        &:hover {\n          background-color: #555;\n        }\n    \n        &.prev {\n          left: -70px;\n        }\n    \n        &.next {\n          right: 10px;\n        }\n      }\n\n\n@media(max-width: 900px) {\n  left: 50%;\n    transform: translateX(-50%);\n\n    .prev, .next {\n        cursor: pointer;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 24px;\n        color: white;\n        background-color: #333;\n        border: none;\n        padding: 10px;\n        border-radius: 5px;\n        transition: background-color 0.3s;\n    \n        &:hover {\n          background-color: #555;\n        }\n    \n        &.prev {\n          left: -90px;\n        }\n    \n        &.next {\n          right: 10px;\n        }\n      }\n\n    .captured-images {\n        display: flex;\n        margin-top: 20px;\n        overflow-x: auto;\n      \n        img {\n          width: 30px;\n          height: 20px;\n          margin-right: 5px;\n        }\n      }\n    \n    .close{\n        color:white;\n    margin-left: 35rem;\n        }\n\n    video {\n        width: 600px;    \n        justify-content: center;\n        align-items: center;\n    }\n     > svg{\n        color:white;\n        margin-left: 7rem;\n        &:active {\n          transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n        }\n        \n    }\n\n    @media(max-width: 750px) {\n      left: 50%;\n      transform: translateX(-50%);\n    \n        .captured-images {\n            display: flex;\n            margin-top: 20px;\n            overflow-x: auto;\n          \n            img {\n              width: 30px;\n              height: 20px;\n              margin-right: 5px;\n            }\n          }\n        \n        .close{\n            color:white;\n        margin-left: 30rem;\n        }\n        video {\n            width: 100%;    \n            justify-content: center;\n            align-items: center;\n        }\n         > svg{\n            color:white;\n            margin-left: 5rem;\n            &:active {\n              transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n            }\n        }\n\n@media(max-width: 500px) {\n  left: 50%;\n  transform: translateX(-50%);\n\n    .captured-images {\n        display: flex;\n        margin-top: 20px;\n        overflow-x: auto;\n      \n        img {\n          width: 30px;\n          height: 20px;\n          margin-right: 5px;\n        }\n      }\n    \n    .close{\n        color:white;\n    margin-left: 20rem;\n    }\n    video {\n        width: 100%;    \n        justify-content: center;\n        align-items: center;\n    }\n     > svg{\n        color:white;\n        margin-left: 5rem;\n        &:active {\n          transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n        }\n    }\n\n    \n\n\n@media(max-width: 400px) {\n   \n   left: 50%;\n    transform: translateX(-50%);\n\n    .captured-images {\n        display: flex;\n        margin-top: 20px;\n        overflow-x: auto;\n      \n        img {\n          width: 30px;\n          height: 20px;\n          margin-right: 5px;\n        }\n      }\n    \n    .close{\n        color:white;\n    margin-left: 18rem;\n    }\n    video {\n        width: 100%; \n        justify-content: center;\n        align-items: center;\n    }\n     > svg{\n        color:white;\n        margin-left: 4rem;\n        &:active {\n          transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n        }\n    }\n\n    .prev, .next {\n        cursor: pointer;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        font-size: 24px;\n        color: white;\n        background-color: #333;\n        border: none;\n        padding: 10px;\n        border-radius: 5px;\n        transition: background-color 0.3s;\n    \n        &:hover {\n          background-color: #555;\n        }\n    \n        &.prev {\n          left: -50px;\n        }\n    \n        &.next {\n          right: 15px;\n        }\n      }\n\n\n  }\n\n\n\n"]))),sj=Ur.div(JM||(JM=$e(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 2rem;\n\n  \n"]))),uj=Ur.div(ZM||(ZM=$e(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n"]))),cj=Ur.img(ej||(ej=$e(["\n  width: 100px;\n  height: 100px;\n  margin-right: 1rem;\n  object-fit: cover;\n  border-radius: 50%;\n  cursor: pointer;\n"]))),lj=Ur.button(tj||(tj=$e(["\n  background: none;\n  border: none;\n  color: blue;\n  cursor: pointer;\n  text-decoration: underline;\n  margin-right: 1rem;\n  padding: 0;\n  font-family: inherit;\n  font-size: inherit;\n"]))),fj=Ur.div(nj||(nj=$e(["\n  display: flex;\n  align-items: center; // Isso centraliza verticalmente o conte\xfado dentro de RescueContent\n"]))),hj=Ur.p(rj||(rj=$e(["\n  margin-left: 1rem; // Isso adiciona espa\xe7o entre o link da geolocaliza\xe7\xe3o e o coment\xe1rio\n"]))),dj=function(){var e=l((0,r.useState)([]),2),t=e[0],n=e[1];(0,r.useEffect)((function(){fetch("https://vidapet.tech/rescue_list.php").then((function(e){return e.json()})).then((function(e){n(e),console.log(e)})).catch((function(e){return console.error("Erro ao buscar dados:",e)}))}),[]);return 0===t.length?(0,pM.jsx)("p",{children:"Carregando dados..."}):(0,pM.jsx)(sj,{children:t.map((function(e,t){return(0,pM.jsxs)(uj,{children:[(0,pM.jsx)(cj,{src:"https://vidapet.tech/".concat(e.image_path),alt:"Foto do animal"}),(0,pM.jsxs)(fj,{children:[(0,pM.jsx)(lj,{onClick:function(){return function(e,t){var n="https://www.google.com/maps?q=".concat(e,",").concat(t);window.open(n,"mapPopup","width=600,height=600")}(e.latitude,e.longitude)},children:"Geolocaliza\xe7\xe3o"}),(0,pM.jsx)(hj,{children:e.comments})]})]},t)}))})};var pj,vj=Ur.section(ij||(ij=$e(['\ndisplay: flex;\nflex-direction: column;\n-moz-box-pack: center;\njustify-content: center;\n-moz-box-align: center;\nalign-items: center;\nbackground-color: rgb(30, 25, 44);\nposition: relative;\nmin-width: 100%;\nwidth: 100%;\n\n.myButton {\n  padding: 0.6rem 1.5rem;\n  background-color:#3fdb28;\n  border-radius:34px;\n  border:4px solid #b4edba;\n  display:inline-block;\n  cursor:pointer;\n  color:#ffffff;\n  font-family:Impact;\n  font-size:17px;\n  font-weight:bold;\n  padding:15px 32px;\n  text-decoration:none;\n  text-shadow:-1px 2px 7px #2f6627;\n}\n.myButton:hover {\n  background-color:#1e4f03;\n}\n.myButton:active {\n  position:relative;\n  top:1px;\n}\n\n\n>section{\ndisplay: flex;\n    flex-direction: column;\n    -moz-box-pack: center;\n    justify-content: center;\n    -moz-box-align: center;\n    align-items: center;\n    margin-bottom: 30px;\n    padding: 1rem;\n    z-index: 2;\n    font-family: "Open Sans", sans-serif;\n    box-sizing: border-box;\n\n@media only screen and (min-width: 768px) {\n      flex-direction: row;\n      -moz-box-pack: start;\n      justify-content: flex-start;\n      align-items: flex-start;\n      width: 100%;\n      max-width: 1200px;\n      }\n    \n      div {\n        flex-direction: column;\n        -moz-box-pack: center;\n        justify-content: center;\n        -moz-box-align: center;\n        align-items: center;\n        text-align: center;\n        margin: 1.75rem 1rem 0px;   \n        font-family: "Open Sans", sans-serif;\n        box-sizing: border-box;\n\n        @media only screen and (min-width: 768px) {\n          align-items: flex-start;\n          text-align: start;\n          max-width: 100%;\n          margin: 1rem 1rem 0px;\n              }                }\n\n           h1{\n                margin: 0.6em 0px;\n                color: rgb(255, 255, 255);\n\n                @media only screen and (min-width: 768px) {\n                  text-align: center;\n                      font-size: 25px;\n                      margin: 0.6em 0px;\n                     color: rgb(255, 255, 255);\n                    }                        \n            }\n\n           p{\n            text-align: center;\n              line-height: 24px;\n              margin: 0.6em 0px;\n              color: rgb(255, 255, 255);\n            }\n\n      button{\n            margin: 1rem 0rem; \n\n  @media only screen and (min-width: 768px) {\n    \n    margin: 1rem 28rem;\n  } \n           }\n\n           h2{\n            text-align: center;\n              line-height: 30px;\n              margin: 0.6em 0px;\n              color: rgb(255, 255, 255);\n           }\n    }\n    \n    \n  \n']))),mj=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1],i=l((0,r.useState)([]),2),a=i[0],o=i[1];return(0,pM.jsxs)(pM.Fragment,{children:[(0,pM.jsx)(vj,{children:(0,pM.jsx)("section",{children:(0,pM.jsxs)("div",{children:[(0,pM.jsx)("h1",{children:"Encontrou um animal de estima\xe7\xe3o que pode estar precisando de ajuda ou que foi abandonado."}),(0,pM.jsx)("p",{children:"1. Fotografe o animal de estima\xe7\xe3o."}),(0,pM.jsx)("p",{children:"2. Guarde a imagem capturada para registrar esse momento especial."}),(0,pM.jsx)("p",{children:"3. A imagem capturada, juntamente com informa\xe7\xf5es de geolocaliza\xe7\xe3o e hor\xe1rio da captura, s\xe3o enviadas para nosso banco de dados."}),(0,pM.jsx)("p",{children:"Isso n\xe3o apenas ajuda a localizar rapidamente o animal, mas tamb\xe9m cria oportunidades para resgatadores e pessoas interessadas em adotar fazerem a diferen\xe7a na vida desses animais de estima\xe7\xe3o."}),(0,pM.jsx)("h2",{children:" Junte-se a n\xf3s nesta miss\xe3o de cuidar e encontrar um lar para os peludos necessitados! \ud83d\udc36\ud83c\udfe1\ud83d\udc31"}),(0,pM.jsx)("div",{children:(0,pM.jsx)("button",{onClick:function(){n(!0)},className:"myButton",children:"Iniciar C\xe2mera"})})]})})}),t&&(0,pM.jsx)(aj,{closeWebcam:function(){n(!1)},onCaptureImage:function(e){o([].concat(h(a),[e]))}}),(0,pM.jsx)(dj,{})]})},yj=n.p+"static/media/pet1.1e8ff82b414755cb224c.png",gj=n.p+"static/media/pet-img.a621e3f51749b7a358fc.png";var bj,kj,wj=Ur.section(pj||(pj=$e(['\nbackground-color: black;\ndisplay: flex;\nflex-direction: column;\n-moz-box-pack: center;\njustify-content: center;\n-moz-box-align: center;\nalign-items: center;\nmin-width: 100%;\nwidth: 100%;\nheight: 100%;\n\n@media only screen and (min-width: 768px) {   \n  background-color: rgba(0, 0, 0, 0);\n  background-attachment: scroll, scroll;\n  background-origin: padding-box, padding-box;\n  background-clip: border-box, border-box;\n  background-position: right;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n>section.Sobre_Section {\n  background-color: black ;\n  display: flex;\n  flex-direction: column-reverse;\n  align-items: center;\n  font-family: "Open Sans", sans-serif;\n  width: auto;\n  height: auto;\n  padding: 2rem 2rem 2rem 2rem;\n\n  @media only screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-around;\n    width: 100%;\n    height: 100%;\n    padding: 3rem 3rem 3rem 3rem;\n  }\n  \n    div.Sobre_Div {\n      display: flex;\n      flex-grow: 1;\n      flex-direction: column;\n      justify-content: space-around;\n      font-family: "Open Sans", sans-serif;\n      max-width: 100%;\n      height: auto;\n\n      @media only screen and (min-width: 768px) {\n        justify-content: space-around;\n        max-width: 600px;\n        margin: 1rem 1rem 0px;\n      } \n      \n      h1{\n            margin: 0.6em 0px;\n            color: white;\n            text-align: center;\n            font-size: 35px;\n\n            @media only screen and (min-width: 768px) {     \n            font-size: 30px;\n            }                        \n          }\n\n         p.Sobre_Texto{\n            line-height: 28px;\n            margin: 0.6em 0px;\n            color: white;\n            text-decoration: justify;\n            font-size: 20px;\n\n            @media only screen and (min-width: 768px) {\n            font-size: 16px;\n            line-height: 24px;\n            }\n          }\n    }\n\n    img.Sobre_Imagem {\n      flex-grow: 1;\n      max-width: 235px;\n      height: auto;\n      margin: 0px;\n      \n      @media only screen and (min-width: 768px) {\n        max-width: 235px;\n        height: auto;\n        /* max-width: 100%;\n        max-height: 100%; */\n        margin:0px 0px 0px 3rem;\n\n      }\n    }        \n}\n\n>section.Cuidando_Section {\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  font-family: "Open Sans", sans-serif;\n  width: auto;\n  height: auto;\n  padding: 2rem 2rem 2rem 2rem;\n\n  @media only screen and (min-width: 768px) {\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    padding: 3rem 3rem 3rem 3rem;\n  }\n\n    img.Cuidando_Imagem {\n      flex-grow: 1;\n      max-width: 100%;\n      height: auto;\n      margin: 0px;\n      \n      @media only screen and (min-width: 768px) {\n        /* width: 510px;\n        height: 454.8px;\n        max-width: 100%;\n        max-height: 100%; */\n        margin:0px 3rem 0px 0px;\n      }\n    }\n  \n    div.Cuidando_Div {\n      display: flex;\n      flex-grow: 1;\n      flex-direction: column;\n      align-items: center;\n      margin: 1.75rem 0rem 0rem;   \n      font-family: "Open Sans", sans-serif;\n      max-width: 100%;\n      height: auto;\n\n      @media only screen and (min-width: 768px) {\n        align-items: center;\n        text-align: center;\n        width: 100%;\n        margin: 1rem 1rem 0px;\n      }                \n    }\n\n      h1.Cuidando_H1 {\n        margin: 0.6em 0px;\n        color: black;\n        text-align: center;\n        font-size: 35px;\n\n        @media only screen and (min-width: 768px) {\n          font-size: 30px;\n        }                        \n      }\n\n        p.Cuidando_Texto{\n          line-height: 28px;\n          margin: 0.6em 0px;\n          color: black;\n          text-align:justify;\n          font-size: 20px;\n\n          @media only screen and (min-width: 768px) {\n            font-size: 16px;\n            line-height: 24px;\n          }\n        }\n}\n']))),_j=function(){return(0,pM.jsxs)(wj,{className:"Sobre",children:[(0,pM.jsxs)("section",{className:"Sobre_Section",children:[(0,pM.jsxs)("div",{className:"Sobre_Div",children:[(0,pM.jsx)("h1",{children:"Sobre N\xf3s"}),(0,pM.jsx)("p",{className:"Sobre_Texto",children:"Somos uma startup de tecnologia dedicada a criar um ecossistema que visa resolver as preocupa\xe7\xf5es e desafios enfrentados pelos donos de animais de estima\xe7\xe3o. O Vida Pet by Lili est\xe1 aqui para oferecer solu\xe7\xf5es inovadoras e facilitar a vida dos amantes de pets."})]}),(0,pM.jsx)("img",{className:"Sobre_Imagem",src:yj,alt:"Imagem de um c\xe3o"})]}),(0,pM.jsxs)("section",{className:"Cuidando_Section",children:[(0,pM.jsx)("img",{className:"Cuidando_Imagem",src:gj,alt:"Imagem de um C\xe3o"}),(0,pM.jsxs)("div",{className:"Cuidando_Div",children:[(0,pM.jsx)("h1",{className:"Cuidando_H1",children:"Cuidando dos Pets com Dedica\xe7\xe3o"}),(0,pM.jsx)("p",{className:"Cuidando_Texto",children:"Estamos comprometidos com a miss\xe3o de criar um ecossistema dedicado a oferecer suporte integral para a gest\xe3o do seu pet. N\xe3o apenas isso, mas tamb\xe9m buscamos ajudar aqueles animais abandonados ou perdidos que precisam de uma m\xe3o amiga."})]})]})]})};function xj(e){return Hr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}function Sj(e){var t=e.menuIsVisible,n=e.setMenuIsVisible;return(0,r.useEffect)((function(){document.body.style.overflowY=t?"hidden":"auto"}),[t]),(0,pM.jsxs)(Aj,{isVisible:t,children:[(0,pM.jsx)(xj,{size:45,onClick:function(){return n(!1)}}),(0,pM.jsxs)("nav",{children:[(0,pM.jsx)("a",{href:"/home",children:(0,pM.jsx)("span",{children:"P\xe1gina Inicial"})}),(0,pM.jsx)("a",{href:"/resgate",children:(0,pM.jsx)("span",{children:"Resgate"})}),(0,pM.jsx)("a",{href:"/SobreNos",children:(0,pM.jsx)("span",{children:"Sobre N\xf3s"})})]})]})}var Ej,Tj,Ij,Cj,Oj,Pj,Aj=Ur.section(bj||(bj=$e(["\nposition: absolute;\nbackdrop-filter: blur(3px);\nwidth: 100%;\nheight: 100%;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\nz-index: 5;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n\n\nbackground: rgb(203,227,23);\nbackground: linear-gradient(48deg, rgba(203,227,23,0.777450946198792) 0%, rgba(245,165,81,0.6457982851343662) 75%); \n\nopacity: 0;\npointer-events: none;\ntransform: translateY(50px);\n\ntransition: .5s;\n\n> svg {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  transform: rotate(45deg);\n  transition: .7s;\n   color: white;\n}\n\nnav {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 2rem;\n  transform: scale(0.7);\n  transition: .7s;\n}\n  a{\n    font-size: 35px;\n  }\n\n","\n"])),(function(e){return e.isVisible&&Mr(kj||(kj=$e(["\n  opacity: 1;\n  pointer-events: auto;\n  transform: translateY(0px);\n\n  > svg {\n    transform: rotate(0deg);\n    color: white;\n  }\n\n  nav {\n    transform: scale(1);\n  }\n"])))})),Nj=function(){return(0,pM.jsxs)("div",{children:[(0,pM.jsx)("h2",{children:"Lista de Pets"}),(0,pM.jsx)("ul",{})]})},Rj=function(){return(0,pM.jsxs)("div",{children:[(0,pM.jsx)("h2",{children:"Notifica\xe7\xf5es"}),(0,pM.jsx)("ul",{})]})},Dj=function(){var e=l((0,r.useState)({name:"Nome do Usu\xe1rio",email:"usuario@example.com"}),2),t=e[0];e[1];return(0,pM.jsxs)("div",{children:[(0,pM.jsx)(QL,{user:t}),(0,pM.jsx)(Nj,{}),(0,pM.jsx)(Rj,{})]})},Lj=function(e){e.closeLogin;var t=l((0,r.useState)(""),2),n=t[0],i=t[1],a=l((0,r.useState)(""),2),o=a[0],s=a[1],u=l((0,r.useState)(""),2),c=u[0],f=u[1],h=l((0,r.useState)(!1),2),d=h[0],p=h[1],v=l((0,r.useState)(!1),2),m=v[0],y=v[1],g=l((0,r.useState)(""),2),b=g[0],k=g[1],w=l((0,r.useState)(""),2),_=w[0],x=w[1],S=we(),E=function(e){"password"===e?p(!d):"confirmPassword"===e&&y(!m)};return(0,pM.jsx)(Vj,{children:(0,pM.jsxs)("div",{className:"wrapper",children:[(0,pM.jsx)(Ge,{to:"/home",className:"close-link",children:(0,pM.jsx)(Gr,{size:35,className:"close",onClick:function(){S("/home")}})}),(0,pM.jsxs)("form",{action:"",children:[(0,pM.jsx)("h1",{children:"Crie sua conta"}),(0,pM.jsxs)("div",{className:"input-box",children:[(0,pM.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"Digite seu email aqui",required:!0,onChange:function(e){return i(e.target.value)}}),(0,pM.jsx)(tM,{className:"icon"})]}),(0,pM.jsxs)("div",{className:"input-box",children:[(0,pM.jsx)("input",{type:d?"text":"password",placeholder:"Senha",value:o,onChange:function(e){return s(e.target.value)},required:!0}),(0,pM.jsx)(Fj,{showPassword:d,onMouseOver:function(){return E("password")},onMouseOut:function(){return E("password")}}),d?(0,pM.jsx)(Uj,{showPassword:d,onClick:function(){return E("password")}}):(0,pM.jsx)(zj,{showPassword:d,onClick:function(){return E("password")}})]}),(0,pM.jsxs)("div",{className:"input-box",children:[(0,pM.jsx)("input",{type:m?"text":"password",placeholder:"Confirme sua senha",value:c,onChange:function(e){return f(e.target.value)},required:!0}),(0,pM.jsx)(Fj,{showPassword:m,onMouseOver:function(){return E("confirmPassword")},onMouseOut:function(){return E("confirmPassword")}}),m?(0,pM.jsx)(Uj,{confirmPassword:c,onClick:function(){return E("confirmPassword")}}):(0,pM.jsx)(zj,{confirmPassword:c,onClick:function(){return E("confirmPassword")}})]}),(0,pM.jsx)("button",{type:"button",onClick:function(){!function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(n)?k("Por favor, insira um endere\xe7o de e-mail v\xe1lido."):o===c?o.length<8?k("A senha deve ter pelo menos 8 caracteres."):$R.createUserWithEmailAndPassword(n,o).then((function(e){var t=e.user;x("Usu\xe1rio registrado com sucesso",t)})).catch((function(e){"auth/email-already-in-use"===e.code?k("O endere\xe7o de e-mail j\xe1 est\xe1 em uso por outra conta."):k(e.message)})):k("As senhas n\xe3o coincidem.")},className:"buttonSalvar",children:"Cadastre-se"}),(0,pM.jsx)("div",{className:"register-link",children:(0,pM.jsxs)("p",{children:[b&&(0,pM.jsx)(Mj,{children:b}),_&&(0,pM.jsx)(jj,{children:_})]})}),(0,pM.jsx)("div",{className:"register-link",children:(0,pM.jsx)("p",{children:(0,pM.jsx)("a",{href:"/login",children:"J\xe1 tem uma conta?"})})})]}),(0,pM.jsx)("div",{})]})})},Mj=Ur.div(Ej||(Ej=$e(["\n  color: red;\n  margin-top: 10px;\n  font-size: 20px;\n"]))),jj=Ur.div(Tj||(Tj=$e(["\n  color: green;\n  margin-top: 10px;\n  font-size: 20px;\n"]))),Fj=Ur(eM)(Ij||(Ij=$e(["\n  position: absolute;\n  right: 50px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n};"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),Uj=Ur(JL)(Cj||(Cj=$e(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n};"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),zj=Ur(ZL)(Oj||(Oj=$e(["\n  position: absolute;\n  right: 20px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 16px;\n  cursor: pointer;\n\n  &:hover:after {\n    content: ",";\n    position: absolute;\n    top: -30px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    border-radius: 4px;\n    font-size: 12px;\n    white-space: nowrap;\n  }\n};"])),(function(e){return e.showPassword?"'Esconder Senha'":"'Mostrar Senha'"})),Vj=Ur.div(Pj||(Pj=$e(["\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  background-color: #686868;\n  z-index: 51;\n  justify-content: center;\n  align-items: center;\n  left: 0;\n\n  .close {\n    color: white;\n    margin-left: 20rem;\n    &:hover {\n      color: red;\n    }\n    &:active {\n      transform: scale(0.9);\n    }\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n\n  .wrapper {    \n    position: fixed;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 420px;\n    background: transparent;\n    color: #fff;\n    border-radius: 10px;\n    padding: 30px 40px;\n\n    h1 {\n      font-size: 36px;\n      text-align: center;\n    }\n  }\n\n  .input-box {\n    position: relative;\n    width: 100%;\n    height: 50px;\n    margin: 30px 0;\n\n    input {\n      width: 100%;\n      height: 100%;\n      background: transparent;\n      outline: none;\n      border: 2px solid rgba(255, 255, 255, 0.2);\n      border-radius: 40px;\n      font-size: 16px;\n      color: #fff;\n      padding: 20px 45px 20px 20px;\n    }\n\n    ::placeholder {\n      color: #fff;\n    }\n\n    .icon {\n      position: absolute;\n      right: 20px;\n      top: 50%;\n      transform: translateY(-50%);\n      font-size: 16px;\n    }\n\n    .icon1 {\n      position: absolute;\n      right: 50px;\n      top: 50%;\n      transform: translateY(-50%);\n      font-size: 16px;\n    }\n  }\n\n  .remember-forgot {\n    display: flex;\n    justify-content: space-between;\n    font-size: 14.5px;\n    margin: -15px 0 15px;\n\n    label input {\n      accent-color: #fff;\n      margin-right: 4px;\n    }\n    a {\n      color: #fff;\n      text-decoration: none;\n    }\n    a:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .buttonSalvar {\n    width: 100%;\n    height: 45px;\n    background: #fff;\n    border: none;\n    outline: none;\n    border-radius: 40px;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n    font-size: 16px;\n    color: #333;\n    font-weight: 700;\n\n    &:active {\n      transform: scale(0.9); /* Diminui o tamanho do bot\xe3o quando pressionado */\n    }\n  }\n\n  .register-link {\n    font-size: 14.5px;\n    text-align: center;\n    margin: 20px 0 15px;\n\n    p a {\n      color: #fff;\n      text-decoration: none;\n      font-weight: 600;\n    }\n    p a:hover {\n      text-decoration: underline;\n    }\n  }\n\n  .logo {\n    margin: 10px;\n    font-size: 50px;\n  }\n\n  @media (max-width: 900px) {\n    left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper {\n      width: 420px;\n    }\n\n    .close {\n      color: white;\n      margin-left: 19rem;\n    }\n  }\n\n  @media (max-width: 750px) {\n    left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper {\n      width: 350px;\n    }\n\n    .close {\n      color: white;\n      margin-left: 17rem;\n    }\n  }\n\n  @media (max-width: 500px) {\n    left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper {\n      width: 350px;\n    }\n\n    .close {\n      color: white;\n      margin-left: 17rem;\n    }\n  }\n\n  @media (max-width: 400px) {\n    left: 50%;\n    transform: translateX(-50%);\n\n    .wrapper {\n      width: 350px;\n    }\n\n    .close {\n      color: white;\n      margin-left: 17rem;\n    }\n  }\n"])));var Bj=function(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,pM.jsxs)("div",{className:"App",children:[(0,pM.jsxs)(We,{children:[(0,pM.jsx)(TM,{setMenuIsVisible:n}),(0,pM.jsxs)(Me,{children:[(0,pM.jsx)(De,{exact:!0,path:"/",element:(0,pM.jsx)(zM,{})}),(0,pM.jsx)(De,{path:"/home",element:(0,pM.jsx)(zM,{})}),(0,pM.jsx)(De,{path:"/index.html",element:(0,pM.jsx)(zM,{})}),(0,pM.jsx)(De,{path:"/resgate",element:(0,pM.jsx)(mj,{})}),(0,pM.jsx)(De,{path:"/SobreNos",element:(0,pM.jsx)(_j,{})}),(0,pM.jsx)(De,{path:"/commit",element:(0,pM.jsx)($M,{})}),(0,pM.jsx)(De,{path:"/dashboard",element:(0,pM.jsx)(Dj,{})}),(0,pM.jsx)(De,{path:"/login",element:(0,pM.jsx)(vM,{})}),(0,pM.jsx)(De,{path:"/registro",element:(0,pM.jsx)(Lj,{})})]})]}),(0,pM.jsx)(AM,{}),(0,pM.jsx)(Sj,{menuIsVisible:t,setMenuIsVisible:n})]})},qj=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},Wj=function(e){var t,n,r=function(e){var t=null!==e&&void 0!==e?e:{},n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,new vL);return r&&(function(e){return"boolean"===typeof e}(r)?i.push(cL):i.push(lL(r.extraArgument))),i},i=e||{},a=i.reducer,o=void 0===a?void 0:a,s=i.middleware,u=i.devTools,c=void 0===u||u,l=i.preloadedState,f=void 0===l?void 0:l,d=i.enhancers,p=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!rL(o))throw new Error(VL(1));t=aL(o)}n="function"===typeof s?s(r):r();var v=oL;c&&(v=hL(ya({trace:!1},"object"===typeof c&&c)));var m=sL.apply(void 0,h(n)),y=wL(m),g="function"===typeof p?p(y):y();return iL(t,f,v.apply(void 0,h(g)))}({reducer:{user:QL},middleware:function(e){return e({serializableCheck:!1})}});a.render((0,pM.jsx)(r.StrictMode,{children:(0,pM.jsx)(ki,{store:Wj,children:(0,pM.jsx)(Bj,{})})}),document.getElementById("root")),qj()}()}();
//# sourceMappingURL=main.c76c0817.js.map